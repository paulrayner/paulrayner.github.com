!function(){"use strict";var t,e,r,n,o,i,a,c,u,s={},l={};function f(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return s[t](r,r.exports,f),r.exports}f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),f.rv=function(){return"1.3.15"},f.ruid="bundler=rspack@1.3.15",(t=a||(a={})).WINDOWS_PHONE="Windows Phone",t.ANDROID="android",t.IOS="ios",t.PC="pc",(e=c||(c={})).MUSICAL_LY="musical_ly",e.MUSICALLY_GO="musically_go",e.TRILL="trill",e.ULTRALITE="ultralite",e.LEMON8="lemon8",e.TTLINK="ttlink",(i={})[c.LEMON8]={},i[c.TTLINK]={},i[c.MUSICAL_LY]=((n={})[a.IOS]="33.4.0",n[a.ANDROID]="23.1.0",n),i[c.TRILL]=((o={})[a.IOS]="33.4.0",o[a.ANDROID]="23.1.0",o);var p=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==f.g?f.g:Function("return this")()},h=function(){return p().TiktokAnalyticsObject||"ttq"},y=function(){return p()[h()]},d=function(t){try{var e=y()._plugins||{};if(null!=e[t])return!!e[t];return!0}catch(t){return!0}};function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i,a,c,u,s=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(s,"_invoke",{value:(i=t,a=r,c=new E(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return N()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,f)}(r,c);if(n){if(n===f)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function y(){}var d={};u(d,i,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=y.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(m,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},b(m),u(m,c,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r){return(v=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&g(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var m={error:[]};(r=u||(u={})).LOAD_START="load_start",r.LOAD_END="load_end",r.BEFORE_INIT="before_init",r.INIT_START="init_start",r.INIT_END="init_end",r.JSB_INIT_START="jsb_init_start",r.JSB_INIT_END="jsb_init_end",r.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",r.AD_INFO_INIT_START="ad_info_init_start",r.AD_INFO_INIT_END="ad_info_init_end",r.IDENTIFY_INIT_START="identify_init_start",r.IDENTIFY_INIT_END="identify_init_end",r.PLUGIN_INIT_START="_init_start",r.PLUGIN_INIT_END="_init_end",r.PIXEL_SEND="pixel_send",r.PIXEL_SEND_PCM="pixel_send_PCM",r.JSB_SEND="jsb_send",r.HTTP_SEND="http_send",r.HANDLE_CACHE="handle_cache",r.INIT_ERROR="init_error",r.PIXEL_EMPTY="pixel_empty",r.JSB_ERROR="jsb_error",r.API_ERROR="api_error",r.PLUGIN_ERROR="plugin_error",r.CUSTOM_INFO="custom_info",r.CUSTOM_ERROR="custom_error",r.CUSTOM_TIMER="custom_timer";try{(function(){if(/function bind\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Function.prototype.bind.toString()))return!0;function t(){}return new(t.bind.apply(t,[void 0,1])) instanceof t})()&&!Function.prototype._ttq_bind?Object.defineProperty(Function.prototype,"_ttq_bind",{value:Function.prototype.bind,enumerable:!1,writable:!1,configurable:!1}):Function.prototype._ttq_bind||Object.defineProperty(Function.prototype,"_ttq_bind",{value:function(t){if("function"!=typeof this)throw TypeError("What is being called by bind is not a function.");var e=t||window,r=Array.prototype.slice.call(arguments).slice(1),n=Symbol("key");return e[n]=this,function t(){return this instanceof t?v(e[n],r.concat(Array.prototype.slice.call(arguments))):e[n].apply(e,r.concat(Array.prototype.slice.call(arguments)))}},enumerable:!1,writable:!1,configurable:!1}),Object._ttq_keys||(Object._ttq_keys=function(t){try{if(Array.isArray(t))return Object.keys(t).filter(function(t){return -1===["each","eachSlice","all","any","collect","detect","findAll","grep","include","inGroupsOf","inject","invoke","max","min","partition","pluck","reject","sortBy","toArray","zip","size","inspect","select","member","_reverse","_each","clear","first","last","compact","flatten","without","uniq","intersect","clone","toJSON","remove","swap","putAll"].indexOf(t)});return Object.keys(t)}catch(e){return Object.keys(t)}});var b=h();function w(t){return null===t?"NULL":void 0===t?"UNDEFINED":"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?JSON.stringify(t):t.toString()}/function Map\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())?window[b]._ttq_map=Map:window[b]._ttq_map||(window[b]._ttq_map=function(){this.items={},this.size=0},window[b]._ttq_map.prototype.set=function(t,e){return!this.has(t)&&(this.items[w(t)]=e,this.size++),this},window[b]._ttq_map.prototype.get=function(t){return this.items[w(t)]},window[b]._ttq_map.prototype.has=function(t){return void 0!==this.items[w(t)]},window[b]._ttq_map.prototype.delete=function(t){return this.has(t)&&(delete this.items[w(t)],this.size--),this},window[b]._ttq_map.prototype.clear=function(){this.items={},this.size=0},window[b]._ttq_map.prototype.keys=function(){var t=_().mark(n),e=[];for(var r in this.items)this.has(r)&&e.push(r);function n(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t)}return n()},window[b]._ttq_map.prototype.values=function(){var t=_().mark(n),e=[];for(var r in this.items)this.has(r)&&e.push(this.items[r]);function n(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t)}return n()}),function(){if(/function create\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())){Object._ttq_create=Object.create;return}Object._ttq_create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(r,n){if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Object prototype may only be an Object or null");t.prototype=r;var o=new t;return t.prototype=null,null!=n&&Object.keys(n).forEach(function(t){var r=n[t];if("object"==typeof r&&null!==r)e.call(r,"value")?o[t]=r.value:("function"==typeof r.get||"function"==typeof r.set)&&Object.defineProperty(o,t,r);else throw TypeError("Property description must be an object: "+r)}),o}}()}()}catch(t){!function(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=!1);try{var o=y(),i=null==o.getPlugin?void 0:o.getPlugin("Monitor");i&&i.error&&"function"==typeof i.error?i.error.call(i,t,e,r,n):d("Monitor")&&m.error.push({event:t,err:e,detail:r,withoutJSB:n})}catch(t){}}(u.INIT_ERROR,t)}}();!function(){var t={515:function(t){function e(t){if(t){var n=t;for(var r in e.prototype)n[r]=e.prototype[r];return n}}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},42:function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw Error("Could not prevent default")}catch(t){var e=function(t,e){var n,r;return(e=e||{}).bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};e.prototype=window.Event.prototype,window.CustomEvent=e}},505:function(){!function(){"use strict";if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}var t=window.document,e=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!(t&&1==t.nodeType))throw Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(){!this._monitoringIntersections&&(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(window,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():c();this._observationTargets.forEach(function(r){var o=r.element,i=a(o),c=this._rootContainsTarget(o),u=r.entry,s=t&&c&&this._computeTargetAndRootIntersection(o,e),l=r.entry=new n({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:e,intersectionRect:s});u?t&&c?this._hasCrossedThreshold(u,l)&&this._queuedEntries.push(l):u&&u.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var r=a(e),o=s(e),i=!1;!i;){var c=null,u=1==o.nodeType?window.getComputedStyle(o):{};if("none"==u.display)return;if(o==this.root||o==t?(i=!0,c=n):o!=t.body&&o!=t.documentElement&&"visible"!=u.overflow&&(c=a(o)),c&&!(r=function(t,e){var n=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),o=Math.max(t.left,e.left),i=Math.min(t.right,e.right),a=i-o,c=r-n;return a>=0&&c>=0&&{top:n,bottom:r,left:o,right:i,width:a,height:c}}(c,r)))break;o=s(o)}return r}},r.prototype._getRootRect=function(){var e;if(this.root)e=a(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||u(t,this.root)},r.prototype._rootContainsTarget=function(e){return u(this.root||t,e)},r.prototype._registerInstance=function(){0>e.indexOf(this)&&e.push(this)},r.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||c(),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;n?this.intersectionRatio=Number((o/n).toFixed(4)):this.intersectionRatio=+!!this.isIntersecting}function r(t,e){var n,r,o,i=e||{};if("function"!=typeof t)throw Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function o(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):c()}function c(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t,e){for(var n=e;n;){if(n==t)return!0;n=s(n)}return!1}function s(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},278:function(t,e,n){t=n.nmd(t);var r,o="__lodash_hash_undefined__",i="[object Arguments]",a="[object Boolean]",c="[object Date]",u="[object Function]",s="[object GeneratorFunction]",l="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",d="[object RegExp]",v="[object Set]",_="[object String]",m="[object Symbol]",g="[object WeakMap]",y="[object ArrayBuffer]",E="[object DataView]",w="[object Float32Array]",b="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",S="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",P=/\w*$/,L=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,C={};C[i]=C["[object Array]"]=C[y]=C[E]=C[a]=C[c]=C[w]=C[b]=C[O]=C[I]=C[T]=C[l]=C[f]=C[p]=C[d]=C[v]=C[_]=C[m]=C[R]=C[S]=C[N]=C[A]=!0,C["[object Error]"]=C[u]=C[g]=!1;var k="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,D="object"==typeof self&&self&&self.Object===Object&&self,M=k||D||Function("return this")(),j=e&&!e.nodeType&&e,U=j&&t&&!t.nodeType&&t,F=U&&U.exports===j;function q(t,e){return t.set(e[0],e[1]),t}function G(t,e){return t.add(e),t}function H(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Y=Array.prototype,X=Function.prototype,J=Object.prototype,Z=M["__core-js_shared__"],Q=(r=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",z=X.toString,$=J.hasOwnProperty,tt=J.toString,te=RegExp("^"+z.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tn=F?M.Buffer:void 0,tr=M.Symbol,to=M.Uint8Array,ti=W(Object.getPrototypeOf,Object),ta=Object.create,tc=J.propertyIsEnumerable,tu=Y.splice,ts=Object.getOwnPropertySymbols,tl=tn?tn.isBuffer:void 0,tf=W(Object.keys,Object),tp=tk(M,"DataView"),th=tk(M,"Map"),td=tk(M,"Promise"),tv=tk(M,"Set"),t_=tk(M,"WeakMap"),tm=tk(Object,"create"),tg=tU(tp),ty=tU(th),tE=tU(td),tw=tU(tv),tb=tU(t_),tO=tr?tr.prototype:void 0,tI=tO?tO.valueOf:void 0;function tT(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tR(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tS(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tN(t){this.__data__=new tR(t)}function tA(t,e,n){var r=t[e];$.call(t,e)&&tF(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function tP(t,e){for(var n=t.length;n--;)if(tF(t[n][0],e))return n;return -1}function tL(t){var e=new t.constructor(t.byteLength);return new to(e).set(new to(t)),e}function tx(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;tA(n,a,void 0===c?t[a]:c)}return n}function tC(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function tk(t,e){var n,r=null==t?void 0:t[e];return!(!tB(r)||(n=r,Q&&Q in n))&&(tV(r)||V(r)?te:L).test(tU(r))?r:void 0}tT.prototype.clear=function(){this.__data__=tm?tm(null):{}},tT.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tT.prototype.get=function(t){var e=this.__data__;if(tm){var n=e[t];return n===o?void 0:n}return $.call(e,t)?e[t]:void 0},tT.prototype.has=function(t){var e=this.__data__;return tm?void 0!==e[t]:$.call(e,t)},tT.prototype.set=function(t,e){return this.__data__[t]=tm&&void 0===e?o:e,this},tR.prototype.clear=function(){this.__data__=[]},tR.prototype.delete=function(t){var e=this.__data__,n=tP(e,t);return!(n<0)&&(n==e.length-1?e.pop():tu.call(e,n,1),!0)},tR.prototype.get=function(t){var e=this.__data__,n=tP(e,t);return n<0?void 0:e[n][1]},tR.prototype.has=function(t){return tP(this.__data__,t)>-1},tR.prototype.set=function(t,e){var n=this.__data__,r=tP(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},tS.prototype.clear=function(){this.__data__={hash:new tT,map:new(th||tR),string:new tT}},tS.prototype.delete=function(t){return tC(this,t).delete(t)},tS.prototype.get=function(t){return tC(this,t).get(t)},tS.prototype.has=function(t){return tC(this,t).has(t)},tS.prototype.set=function(t,e){return tC(this,t).set(t,e),this},tN.prototype.clear=function(){this.__data__=new tR},tN.prototype.delete=function(t){return this.__data__.delete(t)},tN.prototype.get=function(t){return this.__data__.get(t)},tN.prototype.has=function(t){return this.__data__.has(t)},tN.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tR){var r=n.__data__;if(!th||r.length<199)return r.push([t,e]),this;n=this.__data__=new tS(r)}return n.set(t,e),this};var tD=ts?W(ts,Object):function(){return[]},tM=function(t){return tt.call(t)};function tj(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function tU(t){if(null!=t){try{return z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function tF(t,e){return t===e||t!=t&&e!=e}(tp&&tM(new tp(new ArrayBuffer(1)))!=E||th&&tM(new th)!=l||td&&tM(td.resolve())!=h||tv&&tM(new tv)!=v||t_&&tM(new t_)!=g)&&(tM=function(t){var e=tt.call(t),n=e==p?t.constructor:void 0,r=n?tU(n):void 0;if(r)switch(r){case tg:return E;case ty:return l;case tE:return h;case tw:return v;case tb:return g}return e});var tq=Array.isArray;function tG(t){var e;return null!=t&&"number"==typeof(e=t.length)&&e>-1&&e%1==0&&e<=0x1fffffffffffff&&!tV(t)}var tH=tl||function(){return!1};function tV(t){var e=tB(t)?tt.call(t):"";return e==u||e==s}function tB(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tW(t){return tG(t)?function(t,e){var n,r,o,a,c,u=tq(t)||(o=r=n=t)&&"object"==typeof o&&tG(r)&&$.call(n,"callee")&&(!tc.call(n,"callee")||tt.call(n)==i)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=u.length,l=!!s;for(var f in t){$.call(t,f)&&!(l&&("length"==f||(a=f,(c=null==(c=s)?0x1fffffffffffff:c)&&("number"==typeof a||x.test(a))&&a>-1&&a%1==0&&a<c)))&&u.push(f)}return u}(t):function(t){if(!tj(t))return tf(t);var e=[];for(var n in Object(t))$.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return function t(e,n,r,o,h,g,L){if(o&&(x=g?o(e,h,g,L):o(e)),void 0!==x)return x;if(!tB(e))return e;var x,k=tq(e);if(k){if(M=(D=e).length,j=D.constructor(M),M&&"string"==typeof D[0]&&$.call(D,"index")&&(j.index=D.index,j.input=D.input),x=j,!n){var D,M,j,U=e,F=x,W=-1,Y=U.length;for(F||(F=Array(Y));++W<Y;)F[W]=U[W];return F}}else{var X,J,Z,Q,z,tt=tM(e),te=tt==u||tt==s;if(tH(e)){var tn=e,tr=n;if(tr)return tn.slice();var to=new tn.constructor(tn.length);return tn.copy(to),to}if(tt==p||tt==i||te&&!g){if(V(e))return g?e:{};if(x="function"!=typeof(X=te?{}:e).constructor||tj(X)?{}:tB(J=ti(X))?ta(J):{},!n){return Z=e,Q=(z=x)&&tx(e,tW(e),z),tx(Z,tD(Z),Q)}}else{if(!C[tt])return g?e:{};x=function(t,e,n,r){var o,i,u,s=t.constructor;switch(e){case y:return tL(t);case a:case c:return new s(+t);case E:return o=r?tL(t.buffer):t.buffer,new t.constructor(o,t.byteOffset,t.byteLength);case w:case b:case O:case I:case T:case R:case S:case N:case A:return i=r?tL(t.buffer):t.buffer,new t.constructor(i,t.byteOffset,t.length);case l:return H(r?n(B(t),!0):B(t),q,new t.constructor);case f:case _:return new s(t);case d:return(u=new t.constructor(t.source,P.exec(t))).lastIndex=t.lastIndex,u;case v:return H(r?n(K(t),!0):K(t),G,new t.constructor);case m:return tI?Object(tI.call(t)):{}}}(e,tt,t,n)}}L||(L=new tN);var tc=L.get(e);if(tc)return tc;if(L.set(e,x),!k)var tu=r?function(t){var e;return e=tW(t),tq(t)?e:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(e,tD(t))}(e):tW(e);return!function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(tu||e,function(i,a){tu&&(i=e[a=i]),tA(x,a,t(i,n,r,o,a,e,L))}),x}(t,!0,!0)}},616:function(){},229:function(t,e,n){"use strict";n.d(e,{AU:function(){return O},Bk:function(){return u},Bp:function(){return b},Cd:function(){return d},Jn:function(){return p},Kc:function(){return v},M0:function(){return y},MQ:function(){return x},Mm:function(){return P},Ns:function(){return R},OW:function(){return S},QN:function(){return N},Qu:function(){return g},RC:function(){return k},WO:function(){return E},Yp:function(){return C},aj:function(){return _},bO:function(){return D},bk:function(){return f},ct:function(){return m},dm:function(){return h},iG:function(){return l},ku:function(){return T},lV:function(){return A},n2:function(){return L},qC:function(){return w},qf:function(){return I},vu:function(){return s}});var r,o,i,a,c,u,s,l="TiktokAnalyticsObject",f="ttq",p="2.2.1",h="tt_adInfo",d="tt_appInfo",v="insight_log",_="insight_log_monitor",m="_tt_enable_cookie",g="sessionId",y="pageId",E="messageId",w="_ttp",b="tt_sessionId",O="tt_pixel_session_index",I="default_eventId",T="ttcsid",R="https://analytics.tiktok.com/i18n/pixel/config.js",S="https://analytics.tiktok.com/i18n/pixel/enable_cookie",N="https://analytics.tiktok.com/i18n/pixel/disable_cookie",A="https://analytics.tiktok.com/i18n/pixel/static/identify_47d087f9.js",P="analytics.tiktok.com",L="::";(r=u||(u={})).WINDOWS_PHONE="Windows Phone",r.ANDROID="android",r.IOS="ios",r.PC="pc",(o=s||(s={})).MUSICAL_LY="musical_ly",o.MUSICALLY_GO="musically_go",o.TRILL="trill",o.ULTRALITE="ultralite",o.LEMON8="lemon8",o.TTLINK="ttlink";var x=((c={})[s.LEMON8]={},c[s.TTLINK]={},c[s.MUSICAL_LY]=((i={})[u.IOS]="33.4.0",i[u.ANDROID]="23.1.0",i),c[s.TRILL]=((a={})[u.IOS]="33.4.0",a[u.ANDROID]="23.1.0",a),c),C={expires:390},k="ttoclid",D={"www.agoda.com":"tag"}},408:function(t,e,n){"use strict";var r,o;n.d(e,{S:function(){return r}}),(o=r||(r={}))[o.OFFSITE=0]="OFFSITE",o[o.ONSITE=1]="ONSITE"},74:function(t,e,n){"use strict";n.d(e,{M:function(){return i},V:function(){return o}}),(r=o||(o={})).EXTERNAL="external",r.APP="app",r.TIKTOK="tiktok";var r,o,i={ID:Symbol.for("ID"),Type:Symbol.for("type"),Partner:Symbol.for("partner"),Options:Symbol.for("Options"),Plugins:Symbol.for("Plugins"),Rules:Symbol.for("Rules"),Info:Symbol.for("Info"),ExtraParams:Symbol.for("extraParams"),WebLibraryInfo:Symbol.for("WebLibraryInfo"),SignalType:Symbol.for("SignalType"),IsOnsitePage:Symbol.for("IsOnsitePage")}},825:function(t,e,n){"use strict";var r,o;n.d(e,{O:function(){return r}}),(o=r||(r={})).LOAD_START="load_start",o.LOAD_END="load_end",o.BEFORE_INIT="before_init",o.INIT_START="init_start",o.INIT_END="init_end",o.JSB_INIT_START="jsb_init_start",o.JSB_INIT_END="jsb_init_end",o.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",o.AD_INFO_INIT_START="ad_info_init_start",o.AD_INFO_INIT_END="ad_info_init_end",o.IDENTIFY_INIT_START="identify_init_start",o.IDENTIFY_INIT_END="identify_init_end",o.PLUGIN_INIT_START="_init_start",o.PLUGIN_INIT_END="_init_end",o.PIXEL_SEND="pixel_send",o.PIXEL_SEND_PCM="pixel_send_PCM",o.JSB_SEND="jsb_send",o.HTTP_SEND="http_send",o.HANDLE_CACHE="handle_cache",o.INIT_ERROR="init_error",o.PIXEL_EMPTY="pixel_empty",o.JSB_ERROR="jsb_error",o.API_ERROR="api_error",o.PLUGIN_ERROR="plugin_error",o.CUSTOM_INFO="custom_info",o.CUSTOM_ERROR="custom_error",o.CUSTOM_TIMER="custom_timer"},118:function(t,e,n){"use strict";n.d(e,{Ae:function(){return r},Sk:function(){return i},X2:function(){return o}});var r=["phone_number","email","external_id"],o={EMAIL_IS_HASHED:"email_is_hashed",PHONE_IS_HASHED:"phone_is_hashed",SHA256_EMAIL:"sha256_email",SHA256_PHONE:"sha256_phone"},i="auto_trigger_type"},729:function(t,e,n){"use strict";n.d(e,{N4:function(){return y},Ts:function(){return h},Vp:function(){return p},_R:function(){return g},hZ:function(){return f}}),(o=f||(f={})).EMPTY_VALUE="empty_value",o.WRONG_FORMAT="wrong_format",o.CORRECT_FORMAT="correct_format",o.HASHED="hashed",o.HASHED_ERR="hashed_err",o.HASHED_CORRECT="hashed_correct",o.PLAINTEXT_EMAIL="plaintext_email",o.PLAINTEXT_PHONE="plaintext_phone",(i=p||(p={})).EMPTY_VALUE="empty_value",i.PLAIN_EMAIL="plain_email",i.PLAIN_PHONE="plain_phone",i.HASHED="hashed",i.FILTER_EVENTS="filter_events",i.UNKNOWN_INVALID="unknown_invalid",i.BASE64_STRING_HASHED="base64_string_hashed",i.BASE64_HEX_HASHED="base64_hex_hashed",i.PLAIN_MDN_EMAIL="plain_mdn_email",i.ZIP_CODE_IS_NOT_HASHED="zip_code_is_not_hashed",i.ZIP_CODE_IS_NOT_US="zip_code_is_not_us",i.ZIP_CODE_IS_HASHED="zip_code_is_hashed",i.ZIP_CODE_IS_US="zip_code_is_us",(a=h||(h={})).Manual="manual",a.ManualV2="manual_v2",a.Auto="auto",a.EBManual="eb_manual",(c=d||(d={})).empty="empty",c.whitespace="whitespace",c.hardcode="hardcode",c.encode="encode",(u=v||(v={})).letterCase="letter_case",u.isNotValidEmail="is_not_valid_email",u.isNotPossibleEmail="is_not_possible_email",u.domainTypo="domain_typo",u.addressFormat="address_format",(s=_||(_={})).invalidCountry="invalid_country",s.notANumber="not_a_number",s.tooShort="too_short",s.tooLong="too_long",s.invalidLength="invalid_length",s.emptyCountryCodeThroughIP="empty_country_code_through_ip",s.invalidCountryAfterInjectPlus="invalid_country_after_inject_plus",s.notANumberAfterInjectPlus="not_a_number_after_inject_plus",s.tooShortAfterInjectPlus="too_short_after_inject_plus",s.tooLongAfterInjectPlus="too_long_after_inject_plus",s.invalidLengthAfterInjectPlus="invalid_length_after_inject_plus",s.invalidCountryAfterInjectCountry="invalid_country_after_inject_country",s.notANumberAfterInjectCountry="not_a_number_after_inject_country",s.tooShortAfterInjectCountry="too_short_after_inject_country",s.tooLongAfterInjectCountry="too_long_after_inject_country",s.invalidLengthAfterInjectCountry="invalid_length_after_inject_country",(l=m||(m={})).missing="missing",l.valid="valid",l.invalid="invalid";var r,o,i,a,c,u,s,l,f,p,h,d,v,_,m,g,y={raw_email:{label:m.missing},raw_auto_email:{label:m.missing},raw_phone:{label:m.missing},raw_auto_phone:{label:m.missing},hashed_email:{label:m.missing},hashed_phone:{label:m.missing},raw_eb_email:{label:m.missing},raw_eb_phone:{label:m.missing}};(r=g||(g={}))[r.UNKNOWN=0]="UNKNOWN",r[r.HOLD=1]="HOLD",r[r.REVOKE=2]="REVOKE",r[r.GRANT=3]="GRANT"},188:function(t,e,n){"use strict";n.d(e,{HD:function(){return r},Kn:function(){return i},P2:function(){return l},Qr:function(){return a},eZ:function(){return f},fV:function(){return c},gj:function(){return u},hj:function(){return o},pW:function(){return s}});var r=function(t){return"string"==typeof t},o=function(t){return"number"==typeof t},i=function(t){return"[object Object]"===Object.prototype.toString.call(t)},a=function(t){return"{}"===JSON.stringify(t)},c=function(t){return t+"-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},u=function(t,e,n){return void 0===n&&(n="-"),""+t+n+e},s=function(){return new Date(Date.now()+864e5).toUTCString()};function l(t,e,n){void 0===e&&(e=500);var r=-1,o=n?t.bind(n):t;return function(){var t=Array.prototype.slice.apply(arguments);Date.now()-r>=e&&(o.apply(void 0,t),r=Date.now())}}var f=function(t){return/^(0|([1-9]\d*))$/.test(""+t)}},790:function(t,e,n){"use strict";n.d(e,{xD:function(){return T},Tm:function(){return N},XA:function(){return v},zd:function(){return w},Dt:function(){return g},bp:function(){return O},zP:function(){return x},b4:function(){return h},RA:function(){return p},z6:function(){return M},Xf:function(){return _},z1:function(){return D},NC:function(){return b},r8:function(){return E},Z0:function(){return d},gn:function(){return y},sH:function(){return m},PO:function(){return A},Fn:function(){return I}});var r,o,i,a,c=n(332);(r=i||(i={}))[r.NOT_SURE=0]="NOT_SURE",r[r.INVOKE_METHOD_ENABLED=1]="INVOKE_METHOD_ENABLED",r[r.INVOKE_METHOD_NOT_ENABLED=2]="INVOKE_METHOD_NOT_ENABLED",(o=a||(a={})).NORMAL="1",o.NOT_CROSS_DOMAIN_IFRAME="2",o.CROSS_DOMAIN_IFRAME="3",o.WEB_WORKER="4",o.SANDBOX_IFRAME="5",o.GTM_IFRAME="6",o.URL_IN_QUERY_IFRAME="7",o.UNKNOWN_IFRAME="8";var u=n(319),s=n(74),l=n(408),f=n(229),p=function(){var t,e;return(null==(t=(0,c.Ie)())||null==(e=t._env)?void 0:e.env)||s.V.EXTERNAL},h=function(){var t,e;return null!=(t=null==(e=(0,c.Ie)())?void 0:e._is_onsite)?t:l.S.OFFSITE},d=function(t){return(t||p())!==s.V.EXTERNAL},v=function(t){return(t||p())===s.V.TIKTOK},_=function(){var t=(0,c.ij)();return/windows phone/i.test(t)?f.Bk.WINDOWS_PHONE:/android/i.test(t)?f.Bk.ANDROID:/iPad|iPhone|iPod/.test(t)?f.Bk.IOS:f.Bk.PC},m=function(){try{return navigator.userAgentData.getHighEntropyValues(["model","platformVersion"])}catch(t){return Promise.resolve({})}},g=function(){return"android"===_()},y=function(){return"ios"===_()},E=function(){return!1},w=function(){return window.top!==window},b=(0,u.IH)(function(){return/open_news/i.test((0,c.ij)())}),O=(0,u.IH)(function(){return/ultralite/i.test((0,c.ij)())});function I(){try{var t,e;return[i.INVOKE_METHOD_ENABLED,i.INVOKE_METHOD_NOT_ENABLED][[!!(null!=(t=window)&&null!=(e=t.ToutiaoJSBridge)&&e.invokeMethod),!0].findIndex(function(t){return t})]}catch(t){return i.NOT_SURE}}var T=function(){try{return window&&window.top&&window.top.location.href,!1}catch(t){return!0}},R=function(){try{var t=new URL(decodeURIComponent(window.location.href)),e=/https?:\/\/[^\s/$.?#].[^\s]*/i;return e.test(t.search)||e.test(t.pathname)}catch(t){return!1}},S=function(){try{if(!T())return a.NOT_CROSS_DOMAIN_IFRAME;if(R())return a.URL_IN_QUERY_IFRAME;if(window.google_tag_manager)return a.GTM_IFRAME;if(window.name&&"web-pixel-sandbox"===window.name)return a.SANDBOX_IFRAME;return a.CROSS_DOMAIN_IFRAME}catch(t){return a.UNKNOWN_IFRAME}},N=function(){return(0,c.n2)()?a.WEB_WORKER:w()?S():a.NORMAL},A=function(){var t=(0,c.ij)();if(t)for(var e=0,n=Object.values(f.vu);e<n.length;e++){var r=n[e];if(t.includes(r))return r}},P=function(){var t=(0,c.ij)();if(t){var e=t.match(/\bapp_version\/(\S*)/),n=e&&e[1]?e[1].match(/^\d+\.\d+\.\d+$/):void 0;return n?n[0]:void 0}},L=function(){var t=(0,c.ij)();if(t)for(var e=Object.keys(f.vu),n=0;n<e.length;n++){var r=e[n],o=RegExp("\\b"+f.vu[r]+"_(\\S*)"),i=t.match(o),a=i&&i[1]?i[1].match(/^\d+\.\d+\.\d+$/):void 0;if(a)return a[0]}},x=function(){var t=A();if(!t||!f.MQ[t])return!1;var e=f.MQ[t],n=_();if(!e[n])return!0;var r=y()?L():g()?P():null;return!!r&&C(e[n],r)},C=function(t,e){for(var n=t.split("."),r=e.split("."),o=0;o<Math.max(n.length,r.length);o++){var i=parseInt(n[o])||Number.MAX_VALUE,a=parseInt(r[o])||-1;if(i<a)break;if(i>a)return!1}return!0},k=function(t){var e=A();return void 0!==e&&t.has(e)},D=function(){return k(new Set([f.vu.MUSICAL_LY,f.vu.TRILL,f.vu.ULTRALITE]))},M=function(){var t=(0,c.E9)();try{return!!(t.Shopify&&t.Shopify.shop&&t.Shopify.shop.indexOf(".myshopify.com")>0||t.name&&t.name.startsWith("web-pixel-sandbox-CUSTOM-shopify"))}catch(t){}return!1}},332:function(t,e,n){"use strict";n.d(e,{E9:function(){return a},FH:function(){return h},Gp:function(){return c},Ie:function(){return u},My:function(){return p},Wf:function(){return _},c6:function(){return m},cH:function(){return l},gM:function(){return i},ij:function(){return f},kW:function(){return d},n2:function(){return s},ri:function(){return v}});var r=n(229),o=null,i=function(t){o=t},a=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==n.g?n.g:Function("return this")()},c=function(){return a()[r.iG]||r.bk},u=function(){var t=a();return o||t[c()]},s=function(){var t=a();return void 0!==t.DedicatedWorkerGlobalScope?t instanceof t.DedicatedWorkerGlobalScope:"DedicatedWorkerGlobalScope"===t.constructor.name},l=function(){return!!u()._is_onsite},f=function(){var t=a();return("object"==typeof navigator&&navigator.userAgent?navigator.userAgent:"")||t._userAgent},p=function(t){try{var e=u();return e&&e._self_host_config&&e._self_host_config[t]||""}catch(t){return""}},h=function(t,e){void 0===e&&(e=[]);try{return e.includes(t)}catch(t){return!1}},d=function(t){var e=u(),n=e._i||{},r=t&&n[t];return t&&r&&r._partner?r._partner:e._partner?e._partner:""},v=function(t){var e=u(),n=e._i||{};return Object.keys(n).filter(function(e){return n[e]._partner===t}).length>0||e._partner===t},_=function(t){try{var e=u()._plugins||{};if(null!=e[t])return!!e[t];return!0}catch(t){return!0}},m=function(){try{var t=u()._ppf;return null==t.printAndClear?void 0:t.printAndClear()}catch(t){}}},783:function(t,e,n){"use strict";n.d(e,{ZK:function(){return c},dK:function(){return s},qe:function(){return o},um:function(){return i},vU:function(){return a},wE:function(){return u}});var r=n(332),o={info:[],error:[]};function i(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!1);try{var i=(0,r.Ie)(),a=null==i.getPlugin?void 0:i.getPlugin("Monitor");a&&a.info&&"function"==typeof a.info?a.info.call(a,t,e,n):(0,r.Wf)("Monitor")&&o.info.push({event:t,detail:e,withoutJSB:n})}catch(t){}}function a(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i=!1);try{var a=(0,r.Ie)(),c=null==a.getPlugin?void 0:a.getPlugin("Monitor");c&&c.error&&"function"==typeof c.error?c.error.call(c,t,e,n,i):(0,r.Wf)("Monitor")&&o.error.push({event:t,err:e,detail:n,withoutJSB:i})}catch(t){}}function c(t,e){try{var n=(0,r.Ie)(),o=null==n.getPlugin?void 0:n.getPlugin("DiagnosticsConsole");o&&o.warn.apply(o,[t,e])}catch(t){}}function u(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"getPixelDetail",start:performance.now()}}catch(t){}var e={lib:"ttq",pixelCode:"MOCK_SHOP_ID"};try{var n=document&&document.currentScript,o=n&&n.getAttribute("data-id")||"",i=(0,r.Gp)()||"ttq";e={pixelCode:o,lib:i}}catch(t){e={lib:"ttq",pixelCode:""}}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}return e}var s=function(){try{var t=(0,r.Ie)();if(!(t&&t._legacy&&0!==t._legacy.length))return!1;return Object.keys(t._t).length>Object.keys(t._legacy||[]).length||t.reporters.length>Object.keys(t._legacy||[]).length}catch(t){return!1}}},319:function(t,e,n){"use strict";function r(t){var e=Error(t);return e.source="ulid",e}n.d(e,{_v:function(){return D},QO:function(){return L},TX:function(){return S},hi:function(){return R},te:function(){return P},ZV:function(){return v},Ds:function(){return k},eh:function(){return q},iE:function(){return m},Zq:function(){return g},LT:function(){return O},Pm:function(){return E},bJ:function(){return Y},cm:function(){return C},d$:function(){return I},X1:function(){return N},vO:function(){return A},oh:function(){return G},zh:function(){return j},$9:function(){return J},mQ:function(){return x},Xu:function(){return y},$j:function(){return b},IH:function(){return w},iK:function(){return F},WZ:function(){return _},xF:function(){return V},b2:function(){return X},eD:function(){return T},P6:function(){return U}});var o,i="0123456789ABCDEFGHJKMNPQRSTVWXYZ",a=i.length,c=(o||(o=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];e||(e="undefined"!=typeof window?window:null);var o=e&&(e.crypto||e.msCrypto);if(o)return function(){var t=new Uint8Array(1);return o.getRandomValues(t),t[0]/255};try{var i=n(616);return function(){return i.randomBytes(1).readUInt8()/255}}catch(t){}if(t)return function(){return Math.random()};throw r("secure crypto unusable, insecure Math.random not allowed")}()),function(t){return isNaN(t)&&(t=Date.now()),function(t,e){if(isNaN(t))throw Error(t+" must be a number");if(t>0xffffffffffff)throw r("cannot encode time greater than 281474976710655");if(t<0)throw r("time must be positive");if(!1===Number.isInteger(t))throw r("time must be an integer");for(var n=void 0,o="";e>0;e--)n=t%a,o=i.charAt(n)+o,t=(t-n)/a;return o}(t,10)+function(t,e){for(var n="";t>0;t--)n=function(t){var e=Math.floor(t()*a);return e===a&&(e=a-1),i.charAt(e)}(e)+n;return n}(16,o)}),u=n(729),s=n(229),l=n(118),f=n(188),p=n(790);function h(){h=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new I(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return R()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function d(){}function v(){}var _={};u(_,i,function(){return this});var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&n.call(g,i)&&(_=g);var y=v.prototype=p.prototype=Object._ttq_create(_);function E(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=v,r(y,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(y),t},t.awrap=function(t){return{__await:t}},E(w.prototype),u(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(y),u(y,c,"Generator"),u(y,i,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function d(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}var v=function(t){},_=function(t){return!!t},m=function(t){return void 0!==t.metric_name},g=function(t){return"CompletePayment"===t||"Purchase"===t},y=function(t){return m(t)?s.aj:s.Kc},E=function(t){var e;return Object.keys((null==t||null==(e=t.context)?void 0:e.user)||{}).some(function(t){return -1!==l.Ae.indexOf(t)})};function w(t,e){var n,r=t;return function(){if(r){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];n=t.apply(e,i),r=null}return n}}var b=function(t){var e;return void 0===(e=t)&&(e=21),crypto.getRandomValues(new Uint8Array(e)).reduce(function(t,e){return(e&=63)<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t},"")},O=function(t){return t?""+t+s.n2+b(20):(0,f.fV)("sessionId")},I=function(){for(var t=c(Date.now());27!==t.length;)t.length>27?t=t.slice(0,27):t+="_";return t},T=function(t){return t?t.split(s.n2)[0]:""},R=function(t,e){return((0,p.r8)()?"/static/config.js":s.Ns)+"?sdkid="+t+"&hostname="+e},S=function(){return(0,p.r8)()?"/static/enable_cookie.js":s.OW},N=function(){return(0,p.r8)()?"/static/disable_cookie.js":s.QN},A=function(){return(0,p.r8)()?"/static/identify.js":s.lV},P=function(t,e){if(0===Object.keys(t).length)return{};var n={identity_params:{}},r={email:["email_is_hashed","sha256_email"],phone_number:["phone_is_hashed","sha256_phone"],zip_code:["zip_code"]};return Object.entries(e).forEach(function(e){var o=e[0];e[1]&&r[o]&&r[o].forEach(function(e){if(n.identity_params[e]=[u.hZ.EMPTY_VALUE],t[e]){var r=t[e]||[u.hZ.EMPTY_VALUE];n.identity_params&&(n.identity_params[e]=[].concat(r))}})}),n},L=function(t,e){var n={identity_params:{}};return 0===Object.keys(t).length?{}:(Object.entries(e).forEach(function(e){var r=e[0];if(e[1])if(t[r]&&t[r].length){var o=t[r]||[u.hZ.EMPTY_VALUE];n.identity_params[r]=[].concat(o)}else n.identity_params[r]=[u.hZ.EMPTY_VALUE]}),n)};function x(t,e){var n=Object.assign({},t);return e.forEach(function(t){null!==n[t]&&void 0!==n[t]&&delete n[t]}),n}var C=function(t,e){if(!t)return{};var n={};return Object.keys(t).forEach(function(r){e[r]&&(n[r]=t[r])}),n};function k(t,e,n){var r,o=n?t.bind(n):t;return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];clearTimeout(r),r=setTimeout(function(){o.apply(void 0,n)},e)}}function D(t){return M.apply(this,arguments)}function M(){var t;return t=h().mark(function t(e){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=500),t.abrupt("return",new Promise(function(t){setTimeout(function(){t(!0)},e)}));case 2:case"end":return t.stop()}},t)}),(M=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,c,"next",t)}function c(t){d(i,r,o,a,c,"throw",t)}a(void 0)})}).apply(this,arguments)}var j=["input[type='button']","input[type='image']","input[type='submit']","button","[class*=btn]","[class*=Btn]","[class*=button]","[class*=Button]","[role*=button]","[id*=btn]","[id*=Btn]","[id*=button]","[id*=Button]","a"],U=["[href^='tel:']","[href^='callto:']","[href^='sms:']","[href^='skype:']","[href^='whatsapp:']","[href^='mailto:']"],F=function(t){var e=j.some(function(e){return t.matches(e)}),n=U.some(function(e){return t.matches(e)});return e&&!n};function q(t,e){return Object.keys(function t(e,n){var r={};for(var o in e)if(e.hasOwnProperty(o)&&!n.hasOwnProperty(o))r[o]=e[o];else if(e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&e[o]!==n[o])if("object"==typeof e[o]&&"object"==typeof n[o]){var i=t(e[o],n[o]);Object.keys(i).length>0&&(r[o]=i)}else r[o]=e[o];for(var a in n)n.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(r[a]=n[a]);return r}(t,e)).length>0}function G(t,e){var n={};return t&&((0,f.HD)(t)||(0,f.hj)(t)?n.external_id=t.toString():(0,f.Kn)(t)&&(n=t)),e&&(0,f.Kn)(e)&&Object.assign(n,e),n}var H=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e,n={taskName:window.ttq._pf_tn,functionName:"getPixelScriptByPixelCode",start:performance.now()}}catch(t){}for(var r=Array.prototype.slice.call(document.getElementsByTagName("script")),o=0;o<r.length;o++){var i=r[o];if(i.innerHTML&&i.innerHTML.indexOf(t)>-1){e=i;break}}try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}return e},V=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"getPixelInstalledPosition",start:performance.now()}}catch(t){}var n="unknown";try{var r=t&&H(t);r&&(B(r)&&(n="isInHead"),K(r)&&(n="isInBodyTop10"))}catch(t){}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}return n},B=function t(e){var n=e.parentElement;return!!n&&("HEAD"===n.tagName||t(n))},W=function(t,e){for(var n=[document.body],r=0;r<=t&&n.length;){var o,i=n.pop();if(i===e)return!0;if(!((null==i?void 0:i.tagName.toLowerCase())==="script"&&(null==(o=i.src)?void 0:o.indexOf(s.Mm))>-1)){if(r++,"object"==typeof i&&i.children)for(var a=i.children.length-1;a>=0;a--)n.push(i.children[a])}}return!1},K=function(t){return W(10,t)},Y=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];setTimeout(function(){return t.apply(void 0,n)},0)}},X=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];Promise.resolve().then(function(){return t.apply(void 0,n)})}},J=/function WeakSet\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(WeakSet.toString())},331:function(t,e,n){"use strict";n.d(e,{Z:function(){return tI}}),n(42),n(505);var r,o,i,a,c,u,s,l,f,p,h,d,v=n(319),_=n(783),m=n(825),g=["","webkit","Moz","MS","ms","o"],y=window,E=void 0!==function(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<g.length;){if((r=(n=g[i])?n+o:e)in t)return t[r];i++}}(y,"PointerEvent"),w="ontouchstart"in y;(r=s||(s={}))[r.Default=0]="Default",r[r.Start=1]="Start",r[r.Move=2]="Move",r[r.End=4]="End",r[r.Cancle=8]="Cancle";var b={pointer:{events:["pointerdown","pointermove","pointerup","pointercancel"],handler:function(t){var e=t.type,n={status:s.Default,timestamp:Date.now(),position:[t.clientX,t.clientY]};return e===this.events[0]&&(0===t.button||"touch"===t.pointerType)?n.status=s.Start:e===this.events[1]?n.status=s.Move:e===this.events[2]?n.status=s.End:e===this.events[3]&&(n.status=s.Cancle),n}},touch:{events:["touchstart","touchmove","touchend","touchcancel"],handler:function(t){var e=t.type;if(1!==t.changedTouches.length)return null;var n={status:s.Default,timestamp:Date.now(),position:[t.changedTouches[0].clientX,t.changedTouches[0].clientY]};return e===this.events[0]?n.status=s.Start:e===this.events[1]?n.status=s.Move:e===this.events[2]?n.status=s.End:e===this.events[3]&&(n.status=s.Cancle),n.status===s.Default?null:n}},mouse:{events:["mousedown","mousemove","mouseup"],handler:function(t){var e=t.type,n={status:s.Default,timestamp:Date.now(),position:[t.clientX,t.clientY]};return e===this.events[0]&&0===t.button?n.status=s.Start:e===this.events[1]?n.status=s.Move:e===this.events[2]&&(n.status=s.End),n.status&s.Move&&1!==t.which&&(n.status=s.End),n.status===s.Default?null:n}}};"MSPointerEvent"in y&&!("PointerEvent"in y)&&(b.pointer.events=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var O={time:250,threshold:9};function I(t,e,n){for(var r=0;r<t.length;r++)document.addEventListener(t[r],e,n)}var T=function(t,e){var n=function(e){var n,r,o;return function(i){var a=b[e].handler(i);if(null!==a){if(a.status&s.Start){n=s.Start,r=a.timestamp,o=a.position,i.target;return}else if(a.status&s.End)n&s.Start&&a.timestamp-r<O.time&&Math.sqrt(Math.pow(a.position[0]-o[0],2)+Math.pow(a.position[1]-o[1],2))<O.threshold&&t(i);else if(a.status&s.Move&&n&s.Start)return}n=0,r=0,o=[0,0]}};E?I(b.pointer.events,n("pointer"),e):w?I(b.touch.events,n("touch"),e):I(b.mouse.events,n("mouse"),e)};(o=l||(l={})).V1="v1",o.V2="v2",(i=f||(f={})).ELEMENT_V2="ELEMENT_V2",i.IMG_SRC="IMG_SRC",i.TOKENIZE_TEXT="TOKENIZE_TEXT",i.PAGE_URL_V2="PAGE_URL_V2",(a=p||(p={}))[a.WRONG=-1]="WRONG",a[a.KEEP=0]="KEEP",a[a.ARRAY=-2]="ARRAY",a[a.TURNINTOINTEGER=1]="TURNINTOINTEGER",a[a.TURNINTODECIMAL=2]="TURNINTODECIMAL",(c=h||(h={}))[c.CLICK_EVENT=0]="CLICK_EVENT",c[c.DESTINATION_URL=1]="DESTINATION_URL";var R=function(t,e,n){var r=document.querySelectorAll(e);for(var o in r)if(n){if(Object.is(o,t))return!0}else if(!Object.is(o,t))return!0;return!1},S=function(t){var e=document.createRange(),n=document.body?document.body:document.head;e.selectNode(n);var r=e.createContextualFragment(t);n.appendChild(r)},N=function(){var t={},e=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t},A=function(t,e,n){var r=N();return new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var o={result:t.isIntersecting,curValue:e,condition:n};r.resolve(o)}})},{root:null,rootMargin:"0px",threshold:.5}).observe(t),r.promise};function P(t,e){var n=history[t],r=t+"-"+e;return function(){n.apply(history,arguments);var t=new CustomEvent(r,{detail:arguments});window.dispatchEvent(t)}}var L=function(t){history.pushState=P("pushState",t),history.replaceState=P("replaceState",t)},x=function(t,e){var n=t.getComputedStyle(e);return!("none"===n.display||"visible"!==n.visibility||.1>Number(n.opacity))},C=function(t){var e=t;if("string"==typeof t)try{e=decodeURI(t)}catch(n){e=t}return e},k=function(t,e){try{var n=new URL(t);return n.searchParams.delete(e),n.toString()}catch(e){return t}},D=function(t){return Object.values(f).includes(t)?l.V2:l.V1},M='"pixelMethod":"standard"',j=function(t,e){try{var n=t.split(M),r="";if(e&&(r+=',"is_button":"true"'),r)return n[0]+M+r+n[1];return t}catch(e){return t}},U=function(t){try{var e=t.split(M);return e[0]+M+',"is_standard_mode":"1"'+e[1]}catch(e){return t}},F=/[\-!$><-==&_\/\?\.,0-9:; \]\[%~\"\{\}\)\(\+\@\^\`]/g,q=/((([a-z])(?=[A-Z]))|(([A-Z])(?=[A-Z][a-z])))/g,G=/\s+/g,H={TOKENIZE_TEXT:"rule_compute_tokenize_text_error",IMG_SRC:"rule_compute_img_src_error",ELEMENT_V2:"rule_compute_element_v2_xpath_error"},V=function(t){var e;return null===t?null:(null==(e=t.innerText)?void 0:e.length)>0?t.innerText.replace(F," ").replace(q,function(t){return t+" "}).replace(G," ").toLowerCase().trim():null},B=function(t){var e,n;if("IMG"===t.tagName)return t.getAttribute("src")||"";if(window.getComputedStyle){var r=window.getComputedStyle(t).getPropertyValue("background-image");if(null!==r&&"none"!==r&&r.length>0)return r}return"INPUT"===t.tagName&&t.getAttribute("src")||(null==(n=null==(e=t.getElementsByTagName("img"))?void 0:e[0])?void 0:n.getAttribute("src"))||null},W=function(t,e){var n;return(null==(n=V(t))?void 0:n.toLowerCase())===e},K=function(t,e){return B(t)===e},Y=function(t,e){var n;return null!=(n=null==t?void 0:t.matches)&&!!n.call(t,e)},X=function(t,e,n,r){var o=!1,i=null,a=null;switch(e){case"TOKENIZE_TEXT":a=W;break;case"IMG_SRC":a=K;break;case"ELEMENT_V2":a=Y}for(var c=0;c<5&&!["HTML","BODY"].includes(null==t?void 0:t.tagName);c++){if((null==t?void 0:t.matches("input[type='button'], input[type='image'], input[type='submit'], button, [class*=btn], [class*=Btn], [class*=button], [class*=Button], [role*=button], [href^='tel: '], [href^='callto: '], [href^='mailto: '], [href^='sms: '], [href^='skype: '], [href^='whatsapp: '], [id*=btn], [id*=Btn], [id*=button], [id*=Button], a"))&&(null==a?void 0:a(t,n))){o=!0,i=t;break}t=t.parentElement}return r?i:o};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){return e=!e||e<0?0:+e,this.substring(e,e+t.length)===t}}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t});var J=function(t,e,n,r){switch(e){case"EQUALS":if([f.TOKENIZE_TEXT,f.IMG_SRC,f.ELEMENT_V2].includes(r))try{return X(t,r,n,!1)}catch(t){(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:H[r]});break}if("ELEMENT"==r)try{for(var o=document.querySelectorAll(n),i=Array.prototype.slice.call(o),a=0;a<i.length;a++)if(i[a].contains(t))return!0}catch(t){(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:"rule_compute_element_xpath_error"});break}if(n.split(";").filter(function(e){return t==e}).length>0)return!0;break;case"LT":if(t<n)return!0;break;case"GT":if(t>n)return!0;break;case"LT_OR_EQUAL":if(t<=n)return!0;break;case"GT_OR_EQUAL":if(t>=n)return!0;break;case"CONTAINS":if(n.split(";").filter(function(e){return(null==e?void 0:e.length)>0&&t.indexOf(e)>-1}).length>0)return!0;break;case"DOES_NOT_EQUAL":if(0==n.split(";").filter(function(e){return t==e}).length)return!0;break;case"DOES_NOT_CONTAIN":if(-1==t.indexOf(n))return!0;break;case"STARTS_WITH":if(t.startsWith(n))return!0;break;case"ENDS_WITH":if(t.endsWith(n))return!0;break;case"MATCHES_REGEX":if(n.test(t))return!0;break;case"MATCHES_REGEX_IGNORE_CASE":if(!n.test(t))return!0;break;case"MATCHES_CSS_SELECTOR":if(R(t,n,!0))return!0;break;case"DOSE_NOT_MATCHES_CSS_SELECTOR":if(R(t,n,!1))return!0}return!1};function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Q={click:["ELEMENT","TOKENIZE_TEXT","IMG_SRC","ELEMENT_V2","ELEMENT_CLASSES","ELEMENT_ID","ELEMENT_TARGET","ElEMENT_URL","ELEMENT_TEXT"],pageview:["PAGE_URL","PAGE_URL_V2","PAGE_HOSTNAME","PAGE_PATH","REFERRER"],visibility:["ELEMENT","ELEMENT_CLASSES","ELEMENT_ID"],history_change:["NEW_HISTORY_FRAGMENT","OLD_HISTORY_FRAGMENT","NEW_HISTORY_STATE","OLD_HISTORY_STATE","HISTORY_SOURCE"]},z="ttclid",$=function(){function t(){}var e=t.prototype;return e.dispatcher=function(t,e,n,r,o){void 0===o&&(o=document);for(var i=e.variable_type,a,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Z(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,e)}}(t))){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}("visibility"==t?["pageview","history_change","visibility"]:["pageview","history_change","click"]);!(a=c()).done;){var u=a.value;if(Q[u].indexOf(i)>-1){var s=void 0;switch(u){case"click":s=this.click(i,n);break;case"pageview":s=this.pageview(i);break;case"history_change":s=this.history_change(i,n,r);break;case"visibility":s=this.visibility(i,e.value,o)}return s}}},e.click=function(t,e){var n;if(!e)return!1;switch(t){case"ELEMENT":case"ELEMENT_V2":case"TOKENIZE_TEXT":case"IMG_SRC":case"ELEMENT_TARGET":n=e.target;break;case"ELEMENT_CLASSES":n=e.target.className;break;case"ELEMENT_ID":n=e.target.id;break;case"ElEMENT_URL":n=e.target.href||e.target.src||"";break;case"ELEMENT_TEXT":n=e.target.text||"";break;default:n=null}return n},e.pageview=function(t){var e;switch(t){case"PAGE_URL":case"PAGE_URL_V2":e=k(location.href,z);break;case"PAGE_HOSTNAME":e=location.hostname;break;case"PAGE_PATH":e=location.pathname;break;case"REFERRER":e=k(document.referrer,z);break;default:e=null}return e},e.history_change=function(t,e,n){var r;switch(t){case"NEW_HISTORY_FRAGMENT":r=location.hash;break;case"OLD_HISTORY_FRAGMENT":r=n.old_hash;break;case"NEW_HISTORY_STATE":r=history.state;break;case"OLD_HISTORY_STATE":r=n.old_state;break;case"HISTORY_SOURCE":r=e.type;break;default:r=null}return r},e.visibility=function(t,e,n){var r;switch(void 0===n&&(n=document),t){case"ELEMENT_ID":r="#"+e;break;case"ELEMENT_CLASS":r="."+e;break;case"ELEMENT":r=e;break;default:r=null}return n.querySelector(r)},t}(),tt=n(515),te=n.n(tt);function tn(t,e){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tr=function(t){function e(e,n){var r;return(r=t.call(this)||this).BaseConf=e,r.SDK_ID=n,r.BaseConf.forEach(function(t){t.id=t.code_id,t.conditions=t.conditions||[],t.conditions.forEach(function(t){t.result=!1})}),r}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,tn(e,t),e.prototype.sendDebugEvent=function(t,e,n){var r=this.BaseConf,o=[];r.forEach(function(t){t.code_id==e&&(t.conditions=n),o.push(t)});var i={sdk_id:this.SDK_ID,event_name:t,data:o};this.emit("jelly_message",i)},e}(te()),to=function(t){var e,n={};try{if(t.currency&&(n.currency=t.currency),t.value){document.querySelectorAll(t.value).length;var r=document.querySelector(t.value);(null==r?void 0:r.innerHTML)&&(n.ori_value=r.innerHTML,n.value=ti(null==(e=r.innerHTML)?void 0:e.trim(),t.value_index,t.value_parsing_method))}if(t.contents&&void 0!==t.contents[0].content_type&&(1===t.contents[0].content_type&&(n.content_type="product"),2===t.contents[0].content_type&&(n.content_type="product_group")),t.contents&&t.contents[0].content_name){var o=document.querySelector(t.contents[0].content_name);n.content_name=null==o?void 0:o.innerHTML}if(t.contents&&t.contents[0].content_id){if(t.contents[0].content_from===h.CLICK_EVENT){var i=document.querySelector(t.contents[0].content_id);n.content_id=null==i?void 0:i.innerHTML}else if(t.contents[0].content_from===h.DESTINATION_URL){var a=new URL(location.href);if(t.contents[0].content_id.startsWith("path")&&(n.content_id=a.pathname.split("/")[t.contents[0].content_id.split("|")[1]]),t.contents[0].content_id.startsWith("search")){var c=new URLSearchParams(a.search),u=t.contents[0].content_id.split("|")[1];n.content_id=c.get(u)}}}return n}catch(t){return(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:"dynamicParameter_v1_error"}),n}},ti=function(t,e,n){var r="";if(-1===e||void 0===e){var o=tc(t)[0];r=void 0!==o?ta(o,n):""}else{var i=tc(t)[e];r=void 0!==i?ta(i,n):""}return r},ta=function(t,e){var n="";if((e===p.KEEP||e===p.WRONG)&&(n=t),e===p.TURNINTOINTEGER&&(n=t.replace(/[,\.]/g,"")),e===p.TURNINTODECIMAL){var r=t.split(/[,\.]/g),o="";r.forEach(function(t,e){e<r.length-1?o+=t:o+="."+t}),n=o}return n},tc=function(t){for(var e,n=/[\d|\.|,]+/gm,r=[];null!==(e=n.exec(t));)e.index===n.lastIndex&&n.lastIndex++,e.forEach(function(t){r.push(t)});return r},tu=function(t,e,n){try{var r=t.split(M),o="";if(Object.keys(e).forEach(function(t){(null!==e[t]||void 0!==e[t])&&(o+=',"'+t+'":"'+("value"!==t?encodeURIComponent(e[t]):e[t])+'"')}),n&&(o+=',"dynamic_parameter_config":'+JSON.stringify(n)),o)return r[0]+M+o+r[1];return t}catch(e){return(0,_.vU)(m.O.CUSTOM_ERROR,e,{custom_name:"eb_jelly_error",custom_enum:"dynamicParameter_v1_transform_code_error"}),t}};(u=d||(d={}))[u.PAGE_RAW_STRING=0]="PAGE_RAW_STRING",u[u.PAGE_RAW_STRING_ARRAY=1]="PAGE_RAW_STRING_ARRAY",u[u.PAGE_EMAIL=2]="PAGE_EMAIL",u[u.PAGE_PHONE_NUM=3]="PAGE_PHONE_NUM",u[u.URL_SUBSTRING=4]="URL_SUBSTRING";var ts=function(t,e,n,r){void 0===r&&(r=!1);var o,i,a=null;if(!t||""===t)return null;if(r&&n)a=document.querySelector(n);else{var c=null==(o=t.match(/closest\$([^$]+)\$/))?void 0:o[1],u=null==(i=t.match(/children\$([^$]+)\$/))?void 0:i[1];if(e&&c&&u){Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var s=e.closest(c);a=null==s?void 0:s.querySelector(u)}else a=e&&u?e.querySelector(u):document.querySelector(n||t)}return a},tl=function(t,e,n){t.map(function(t){var r=t.content_type,o=t.content_id,i=t.content_from,a={};if(r&&(1===r?a.content_type="product":2===r&&(a.content_type="product_group")),o){if(i===h.CLICK_EVENT){var c=ts(o,n);(null==c?void 0:c.innerText)&&(a.content_id=null==c?void 0:c.innerText)}else if(i===h.DESTINATION_URL){var u=new URL(location.href);if(o.startsWith("path")&&(a.content_id=u.pathname.split("/")[o.split("|")[1]]),o.startsWith("search")){var s=new URLSearchParams(u.search),l=o.split("|")[1];a.content_id=s.get(l)||void 0}}a.content_id||(0,_.um)(m.O.CUSTOM_INFO,{custom_name:"eb_jelly_info",custom_enum:"dynamic_parameter_v2_content_id_empty",extJSON:{selector:o}})}i&&(a.content_from=i),e.push(a)})},tf=function(t,e,n,r){var o,i=t.relativePath,a=t.absolutePath;void 0===r&&(r=!1);var c=ts(i,e,a,r);if(!c)return{text:"",nearbyLink:void 0};var u="";if(n&&(o=function(t){for(var e=t,n=/^(https?:\/\/|ftps?:\/\/|mailto:|tel:|[^:]*\/|\.\.?\/|#)/i,r=0;r<3&&e;r++){if("A"===e.tagName&&e.hasAttribute("href")){var o=e.getAttribute("href");if(o&&n.test(o))try{return new URL(o,window.location.origin).href}catch(t){}}if(e.parentElement)e=e.parentElement;else break}}(c)),"INPUT"===c.tagName||"TEXTAREA"===c.tagName)u=c.value||"";else if("SELECT"===c.tagName){var s=c.selectedOptions[0];u=s&&s.textContent||""}else u=c.innerText;return{text:u,nearbyLink:o}},tp=function(t,e){var n={};try{if(t.parameter_list_v2){var r=t.parameter_list_v2;Object.keys(r).forEach(function(t){var o,i="content_name"===t,a=(o=["eb_email","eb_phone_number"],void 0===o)?void 0:o.includes(t);r[t].forEach(function(r){var o,c=r.absolute_path,u=r.relative_path;Array.isArray(n[t])||(n[t]=[]);var s=tf({relativePath:u,absolutePath:c},e,i,a),l=s.text,f=s.nearbyLink;l&&(null==(o=n[t])||o.push(i?Object.assign({content_name:l},f&&{link:f}):l))})})}}catch(t){(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:"handle_parameter_list_v2_error"})}return n},th=function(t,e){var n,r,o,i={};try{if(t.currency&&(i.currency=t.currency),t.value){var a=ts(t.value,e);(null==a?void 0:a.innerHTML)&&(i.ori_value=a.innerHTML,i.value=ti(null==(n=a.innerHTML)?void 0:n.trim(),t.value_index,t.value_parsing_method)),i.value||(0,_.um)(m.O.CUSTOM_INFO,{custom_name:"eb_jelly_info",custom_enum:"dynamic_parameter_v2_value_empty",extJSON:{selector:t.value}})}t.contents&&t.contents.length>0&&(i.contents=[],tl(t.contents,i.contents,e)),t.parameter_list_v2&&Object.assign(i,tp(t,e));var c={};return i.eb_email&&(null==(r=i.eb_email)?void 0:r.length)>0&&(c.eb_email=i.eb_email),i.eb_phone_number&&(null==(o=i.eb_phone_number)?void 0:o.length)>0&&(c.eb_phone_number=i.eb_phone_number),i}catch(t){return(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:"dynamicParameter_v2_error"}),i}},td=function(t,e,n){try{var r=t.split(M),o="";if(Object.keys(e).forEach(function(t){var n;if(null!==e[t]||void 0!==e[t])if("contents"===t){var r=e[t];o+=',"'+t+'":[',null==r||r.map(function(t,e){o+="{";var n=Object.keys(t);n.forEach(function(e,r){"content_id"===e&&t[e]&&(t[e]=encodeURIComponent(t[e])),o+='"'+e+'":"'+t[e]+'"'+(r===(null==n?void 0:n.length)-1?"":",")}),o+="}"+(e===(null==r?void 0:r.length)-1?"":",")}),o+="]"}else((n=["eb_email","eb_phone_number"],void 0===n)?void 0:n.includes(t))||"content_name"===t||(o+=',"'+t+'":"'+("value"!==t?encodeURIComponent(e[t]):e[t])+'"')}),n&&(o+=',"dynamic_parameter_config":'+JSON.stringify(n)),o)return r[0]+M+o+r[1];return t}catch(e){return(0,_.vU)(m.O.CUSTOM_ERROR,e,{custom_name:"eb_jelly_error",custom_enum:"dynamicParameter_v2_transform_error"}),t}},tv=n(332),t_=function(t,e,n,r,o,i){var a,c,u,s;try{var l={},f={},p=null==(c=null==(a=(0,tv.Ie)())?void 0:a.instance)?void 0:c.call(a,t);o&&(Object.keys(o).forEach(function(t){var e,n=o[t];null!=n&&""!==n&&("eb_email"===t||"eb_phone_number"===t?(null==n?void 0:n.length)>0&&(f[t]=n):"content_name"===t?l.contents=null==(e=l.contents||[])?void 0:e.concat(n):l[t]=n)}),(null==(u=Object.keys(f))?void 0:u.length)>0&&(null==(s=null==p?void 0:p.identify)||s.call(p,f)),Object.keys(f).forEach(function(t){delete l[t]})),l.eb_version=r,i&&(l.eb_rule_id=String(i)),n&&(l.is_button="true"),l.is_standard_mode="1",null==p||p.track(e,l,{})}catch(t){(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:"normalize_payload_error"})}};function tm(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return tg(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ty(t,e){return(ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tE=new $,tw=function(t){function e(e,n,r,o){var i;return(i=t.call(this)||this).on("jelly_message",o),i.SendEvent=new tr(n,r),i.SendEvent.on("jelly_message",function(t){i.emit("jelly_message",t)}),i.dispatchImpl=i._newDispatcher,i.CLICK=e.CLICK||[],i.PAGEVIEW=e.PAGEVIEW||[],i.VISIBILITY=e.VISIBILITY||[],i.HISTORY_CHANGE=e.HISTORY_CHANGE||[],i.SDK_ID=r||"",i.click(),i.pageview(),i.visibility(),i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,ty(e,t);var n=e.prototype;return n.dispatcher=function(t,e,n,r){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var o={taskName:window.ttq._pf_tn||"event_builder_dispatcher",functionName:window.ttq._pf_tn&&"event_builder_dispatcher",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="event_builder_dispatcher")}}catch(t){}this.dispatchImpl(t,e,n,r);try{window.ttq&&window.ttq._ppf&&(o.end=performance.now(),window.ttq._ppf.push(o),"event_builder_dispatcher"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},n._newDispatcher=function(t,e,n,r){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var o={taskName:window.ttq._pf_tn||"event_builder_dispatcher",functionName:window.ttq._pf_tn&&"event_builder_dispatcher",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="event_builder_dispatcher")}}catch(t){}if(e){for(var i,a=tm(e);!(i=a()).done;){var c=i.value,u=function(t){var e=t.match(/\.track\s*\(\s*"([^"\)]+)"/);return e&&e[1]?e[1]:null}(c.code);if(!u)return;for(var s,l=tm(c.conditions);!(s=l()).done;){var p=s.value,h=tE.dispatcher(t,p,n,r),d=J(h,p.operator,p.value,p.variable_type);if(("history_change"===t||"pageview"===t)&&(d=d||J(C(h),p.operator,p.value,p.variable_type)),d){var g=!1,y=D(p.variable_type);try{g=["ELEMENT",f.TOKENIZE_TEXT,f.IMG_SRC,f.ELEMENT_V2].includes(p.variable_type)&&(0,v.iK)(h)}catch(t){g=!1,(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_v2_error",custom_enum:"eb_is_button_check",extJSON:{element:h}})}var E={};if(p.dynamic_parameter)try{var w=null;[f.ELEMENT_V2,f.TOKENIZE_TEXT,f.IMG_SRC].includes(p.variable_type)&&(w=X(h,p.variable_type,p.value,!0)),E=th(p.dynamic_parameter,w)}catch(t){(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_v2_error",custom_enum:"get_dynamic_arameter_v2_func_error",extJSON:{element:h}})}t_(String(this.SDK_ID),u,g,y,E,p.rule_id)}}}try{window.ttq&&window.ttq._ppf&&(o.end=performance.now(),window.ttq._ppf.push(o),"event_builder_dispatcher"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}}},n._oldDispatcher=function(t,e,n,r){if(e)for(var o,i=tm(e);!(o=i()).done;)for(var a,c=o.value,u=tm(c.conditions);!(a=u()).done;){var s=a.value,l=tE.dispatcher(t,s,n,r),p=J(l,s.operator,s.value,s.variable_type);if(("history_change"===t||"pageview"===t)&&(p=p||J(C(l),s.operator,s.value,s.variable_type)),p){var h=!1,d=D(s.variable_type);try{h=["ELEMENT",f.TOKENIZE_TEXT,f.IMG_SRC,f.ELEMENT_V2].includes(s.variable_type)&&(0,v.iK)(l)}catch(t){h=!1,(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"button_check_jelly_error",custom_enum:"auto_click",extJSON:{element:l}})}var g=j(c.code,h);if(g=function(t,e){try{var n=t.split(M),r=Object.entries(e).map(function(t){var e=t[0],n=t[1];return',"'+e+'":"'+n+'"'}).join("");return n[0]+M+r+n[1]}catch(e){return t}}(g=U(g),Object.assign({eb_version:d},s.rule_id&&{eb_rule_id:s.rule_id})),s.dynamic_parameter)try{var y=void 0,E=void 0;switch(s.variable_type){case f.PAGE_URL_V2:y=th(s.dynamic_parameter,null),E=td(g,y,s.dynamic_parameter);break;case f.ELEMENT_V2:case f.TOKENIZE_TEXT:case f.IMG_SRC:var w=X(l,s.variable_type,s.value,!0);y=th(s.dynamic_parameter,w),E=td(g,y,s.dynamic_parameter);break;default:y=to(s.dynamic_parameter),E=tu(g,y,s.dynamic_parameter)}S(E)}catch(t){(0,_.vU)(m.O.CUSTOM_ERROR,t,{custom_name:"eb_jelly_error",custom_enum:"dynamic_parameter_code_concat"}),S(g)}else S(g)}}},n.click=function(){var t=this;T(function(e){t.dispatcher("click",t.CLICK,e)},!0)},n.pageview=function(){this.dispatcher("pageview",this.PAGEVIEW),this.history_change(this.PAGEVIEW)},n.history_change=function(t){void 0===t&&(t=this.HISTORY_CHANGE);var e=this,n=history.state,r=location.hash,o=location.href;L(this.SDK_ID),window.addEventListener("pushState-"+this.SDK_ID,function(r){if(location.href!=o){var i={old_state:n};e.dispatcher("history_change",t,r,i),n=history.state,o=location.href}}),window.addEventListener("replaceState-"+this.SDK_ID,function(){if(location.href!=o){var r={old_state:n};e.dispatcher("history_change",t,r),n=history.state,o=location.href}}),window.addEventListener("popstate",function(n){if(location.href!=o){var i={old_hash:r};e.dispatcher("history_change",t,n,i),r=location.hash,o=location.href}})},n.visibility=function(){if(!(this.VISIBILITY.length<1)){var t=this.VISIBILITY;new MutationObserver(tb(t,window)).observe(document,{childList:!0,characterData:!0,subtree:!0,attributes:!0});for(var e=document.getElementsByTagName("iframe"),n=0;n<e.length;n++)try{var r=e[n].contentWindow;null!=r&&new MutationObserver(tb(t,r)).observe(r.document,{childList:!0,characterData:!0,subtree:!0,attributes:!0})}catch(t){}}},e}(te()),tb=function(t,e){void 0===e&&(e=window);var n={};return function(){t.forEach(function(t){var r=!0,o=[];t.conditions.forEach(function(t){if(Q.visibility.indexOf(t.variable_type)>-1){var i=tE.dispatcher("visibility",t,null,null,e.document),a="_"+t.value;i&&x(e,i)&&!n[a]&&(o.push(A(i,"",t)),n[a]=!0)}else J(tE.dispatcher("visibility",t),t.operator,t.value,t.variable_type)||(r=!1)}),o.length>0&&Promise.all(o).then(function(e){for(var n,o=!0,i=tm(e);!(n=i()).done;)n.value.result&&r||(o=!1);o&&S(t.code)},function(){})})}};function tO(t,e){return(tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tI=function(t){function e(e,n){var r;if((r=t.call(this)||this).BaseConf=n,r.SDK_ID=e,window.jelly_tool_events&&window.jelly_tool_events.length&&window.jelly_tool_events.forEach(function(t){r.on(t.name,t.callback)}),r.emit("jelly_event",{SDK_ID:e,BaseConf:n||[]}),r.BaseConf instanceof Array){if(self._jelly_sdks=self._jelly_sdks||{},self._jelly_sdks[e]){if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}self._jelly_sdks[e]=!0;var o=r.dispatch();r.trigger=new tw(o,n,e,function(t){r.emit("jelly_message",t)})}return r}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,tO(e,t),e.prototype.dispatch=function(){var t={CLICK:[],PAGEVIEW:[],VISIBILITY:[],HISTORY_CHANGE:[]};return this.BaseConf.forEach(function(e){var n={code_id:e.code_id,code:e.code,conditions:e.conditions||[]};void 0!==e.trigger_type&&t[e.trigger_type]&&t[e.trigger_type].push(n)}),t},e}(te());window.TiktokJelly=tI}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n.rv=function(){return"1.3.15"},n.ruid="bundler=rspack@1.3.15",function(){"use strict";var t,e,r,o,i,a,c,u=n(783),s=n(825),l=n(332),f=n(790),p=n(319),h=function(){var t=(0,l.Ie)();return"object"==typeof t&&t._i?t._i:{}},d=function(t,e){var n=h()||{};Object.keys(n).forEach(function(r){var o=n[r];o._init||o.push([t].concat(e))})},v=function(t,e,n){var r=(h()||{})[t];if(r){if(r._init)return;r.push([e].concat(n))}};(oF=iu||(iu={})).PIXEL_CODE="pixelCode",oF.EVENT_SOURCE_ID="eventSourceId",oF.SHOP_ID="shopId",(oq=is||(is={})).CLICK="click",oq.TOUNCH_START="touchStart",oq.POINTER_DOWN="pointerDown",(oG=il||(il={})).BEFORE_REPORT="beforeReport",oG.QUEUE="queue",(ip||(ip={})).UPDATE_CONFIG="observer:updateConfig";var _=n(408),m={TTQ:Symbol.for("TTQ"),GLOBAL_TTQ:Symbol.for("GLOBAL_TTQ"),SHOPIFY_TTQ:Symbol.for("SHOPIFY_TTQ"),ENV:Symbol.for("ENV"),CONTEXT:Symbol.for("CONTEXT"),REPORTER:Symbol.for("REPORTER"),REPORTERS:Symbol.for("REPORTERS"),PLUGIN:Symbol.for("PLUGIN"),PLUGINS:Symbol.for("PLUGINS"),TTQ_GLOBAL_OPTIONS:Symbol.for("TTQ_GLOBAL_OPTIONS"),EVENT_EMITTER:Symbol.for("EVENT_EMITTER"),PERFORMANCE_PLUGIN:Symbol.for("PERFORMANCE_PLUGIN"),INTERACTION_PLUGIN:Symbol.for("INTERACTION_PLUGIN"),INTERACTION_PLUGIN_MONITOR:Symbol.for("INTERACTION_PLUGIN_MONITOR"),PERFORMANCE_PLUGIN_MONITOR:Symbol.for("PERFORMANCE_PLUGIN_MONITOR"),ADVANCED_MATCHING_PLUGIN:Symbol.for("ADVANCED_MATCHING_PLUGIN"),AUTO_ADVANCED_MATCHING_PLUGIN:Symbol.for("AUTO_ADVANCED_MATCHING_PLUGIN"),CALLBACK_PLUGIN:Symbol.for("CALLBACK_PLUGIN"),IDENTIFY_PLUGIN:Symbol.for("IDENTIFY_PLUGIN"),MONITOR_PLUGIN:Symbol.for("MONITOR_PLUGIN"),WEB_FL_PLUGIN:Symbol.for("WEB_FL_PLUGIN"),SHOPIFY_PLUGIN:Symbol.for("SHOPIFY_PLUGIN"),AUTO_CONFIG_PLUGIN:Symbol.for("AUTO_CONFIG_PLUGIN"),DIAGNOSTICS_CONSOLE_PLUGIN:Symbol.for("DIAGNOSTICS_CONSOLE_PLUGIN"),COMPETITOR_INSIGHT_PLUGIN:Symbol.for("COMPETITOR_INSIGHT_PLUGIN"),PANGLE_COOKIE_MATCHING_PLUGIN:Symbol.for("PANGLE_COOKIE_MATCHING_PLUGIN"),EVENT_BUILDER_PLUGIN:Symbol.for("EVENT_BUILDER_PLUGIN"),ENRICH_IPV6_PLUGIN:Symbol.for("ENRICH_IPV6_PLUGIN"),RUNTIME_MEASUREMENT_PLUGIN:Symbol.for("RUNTIME_MEASUREMENT_PLUGIN"),PAGE_PERFORMANCE_MONITOR:Symbol.for("PAGE_PERFORMANCE_MONITOR"),PAGE_INTERACTION_MONITOR:Symbol.for("PAGE_INTERACTION_MONITOR"),PAGEDATA_PLUGIN:Symbol.for("PAGEDATA_PLUGIN"),HISTORY_OBSERVER:Symbol.for("HISTORY_OBSERVER"),INTERACTION_OBSERVER:Symbol.for("INTERACTION_OBSERVER"),BATCH_SERVICE:Symbol.for("BATCH_SERVICE"),REPORT_SERVICE:Symbol.for("REPORT_SERVICE"),AD_SERVICE:Symbol.for("AD_SERVICE"),APP_SERVICE:Symbol.for("APP_SERVICE"),BRIDGE_SERVICE:Symbol.for("BRIDGE"),HTTP_SERVICE:Symbol.for("HTTP_SERVICE"),COOKIE_SERVICE:Symbol.for("COOKIE_SERVICE"),CONSENT_SERVICE:Symbol.for("CONSENT_SERVICE"),JS_BRIDGE:Symbol.for("JS_BRIDGE"),TTQ_REPORTERS:Symbol.for("TTQ_REPORTERS"),INTERACTION_MONITOR:Symbol.for("INTERACTION_MONITOR"),PERFORMANCE_MONITOR:Symbol.for("PERFORMANCE_MONITOR"),SANDBOX_PIXEL_API:Symbol("SANDBOX_PIXEL_API")},g=n(74);(oH=ih||(ih={})).INIT_START="initStart",oH.INIT_END="initEnd",oH.PATCH_END="patchEnd",oH.CONTEXT_INIT_START="contextInitStart",oH.CONTEXT_INIT_END="contextInitEnd",oH.PAGE_URL_WILL_CHANGE="pageUrlWillChange",oH.PAGE_URL_DID_CHANGE="pageUrlDidChange",oH.PAGE_DID_LOAD="pageDidLoad",oH.PAGE_WILL_LEAVE="pageWillLeave",oH.AD_INFO_INIT_START="adInfoInitStart",oH.AD_INFO_INIT_END="adInfoInitEnd",oH.BEFORE_AD_INFO_INIT_START="beforeAdInfoInitStart",oH.PIXEL_SEND="pixelSend",oH.PIXEL_DID_MOUNT="pixelDidMount",(oV=id||(id={})).UNKNOWN="-1",oV.LOADING="0",oV.INTERACTIVE="1",oV.COMPLETE="2",(oB=iv||(iv={})).HISTORY_CHANGE="hc",oB.URL_CHANGE="uc";var y=["page","track","identify"],E=["holdConsent","revokeConsent","grantConsent"],w=["identify"],b=["instance","instances","loadPixel","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"];(oW=i_||(i_={})).EMPTY_EVENT_TYPE_NAME="EMPTY_EVENT_TYPE_NAME",oW.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT="MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT",oW.LONG_EVENT_TYPE_NAME="LONG_EVENT_TYPE_NAME",oW.MISSING_VALUE_PARAMETER="MISSING_VALUE_PARAMETER",oW.MISSING_CURRENCY_PARAMETER="MISSING_CURRENCY_PARAMETER",oW.MISSING_CONTENT_ID="MISSING_CONTENT_ID",oW.MISSING_EMAIL_AND_PHONE="MISSING_EMAIL_AND_PHONE",oW.INVALID_EVENT_PARAMETER_VALUE="INVALID_EVENT_PARAMETER_VALUE",oW.INVALID_CURRENCY_CODE="INVALID_CURRENCY_CODE",oW.INVALID_CONTENT_ID="INVALID_CONTENT_ID",oW.INVALID_CONTENT_TYPE="INVALID_CONTENT_TYPE",oW.INVALID_EMAIL_FORMAT="INVALID_EMAIL_FORMAT",oW.INVALID_PHONE_NUMBER_FORMAT="INVALID_PHONE_NUMBER_FORMAT",oW.INVALID_EMAIL_INFORMATION="INVALID_EMAIL_INFORMATION",oW.INVALID_PHONE_NUMBER_INFORMATION="INVALID_PHONE_NUMBER_INFORMATION",oW.DUPLICATE_PIXEL_CODE="DUPLICATE_PIXEL_CODE",oW.MISSING_PIXEL_CODE="MISSING_PIXEL_CODE",oW.INVALID_PIXEL_CODE="INVALID_PIXEL_CODE";var O=function(t,e,n){t.isBound(e)?t.rebind(e).toConstantValue(n):t.bind(e).toConstantValue(n)},I=function(){var t=(0,l.Ie)();return t&&t._i||{}},T=function(t,e,n){void 0===n&&(n=_.S.OFFSITE);try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"webTtqFactory",start:performance.now()}}catch(t){}O(t,m.ENV,e),O(t,g.M.SignalType,n);var o=t.get(m.TTQ);try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}return o},R=function(t,e){var n,r=e.id,o=e.type,i=void 0===o?iu.PIXEL_CODE:o,a=e.info,c=e.options,u=e.plugins,s=void 0===u?{}:u,l=e.rules;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var f={taskName:window.ttq._pf_tn,functionName:"webReporterFactory",start:performance.now()}}catch(t){}var p=t.get(m.TTQ),h=t.get(m.TTQ_REPORTERS);if(!h.some(function(t){return t.getReporterId()===r})){O(t,g.M.ID,r),O(t,g.M.Type,i),O(t,g.M.Info,a||((n={})[i]=r,n)),O(t,g.M.Options,void 0===c?{}:c),O(t,g.M.Plugins,s),O(t,g.M.Rules,void 0===l?[]:l),p.enableFirstPartyCookie((null==a?void 0:a.firstPartyCookieEnabled)||!1);var d=t.get(m.REPORTER);if(s){var v=s.AdvancedMatching,_=s.AutoAdvancedMatching,y={};v&&Object.assign(y,v),_&&Object.assign(y,_),d.setAdvancedMatchingAvailableProperties(y)}d.on(il.BEFORE_REPORT,function(t,e,n,r,o){p.dispatch(ih.PIXEL_SEND,t,e,n,r,o)},{}),h.push(d),t.rebind(m.TTQ_REPORTERS).toConstantValue(h),p.dispatch(ih.PIXEL_DID_MOUNT,d);try{window.ttq&&window.ttq._ppf&&(f.end=performance.now(),window.ttq._ppf.push(f))}catch(t){}return d}},S=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"mergeWebGlobalTtq",start:performance.now()}}catch(t){}["getReporter","usePlugin","getPlugin","resetCookieExpires","getEmitter"].forEach(function(n){t[n]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e[n].apply(e,r)}}),t.context=e.context,t.reporters=e.reporters;try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}return t},N=function(t,e){var n=t||{},r=n._partner,o=n._ttp,i=n._self_host_config,a=n._usd_exchange_rate,c=n._legacy;return Object.assign(e,{partner:r,ttp:o,cc:n._cc,self_host_config:i,usd_exchange_rate:a,legacy:c,variation_id:n._variation_id,vids:n._vids,server_unqiue_id:n._server_unique_id,currency_list:n._currency_list,plugins:n._plugins,aam:n._aam,auto_config:n._auto_config,cde:n._cde,cookieBasedSessionConfig:n._csid_config}),e},A=function(t,e){var n=t.get(m.TTQ_GLOBAL_OPTIONS)||{};N(e,n),t.isBound(m.TTQ_GLOBAL_OPTIONS)?t.rebind(m.TTQ_GLOBAL_OPTIONS).toConstantValue(n):t.bind(m.TTQ_GLOBAL_OPTIONS).toConstantValue(n)},P=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"freezeAPI",start:performance.now()}}catch(t){}var n=(0,l.E9)(),r=(0,l.Gp)(),o=(0,l.Ie)(),i=(0,u.wE)().pixelCode,a=void 0===i?"":i;b.forEach(function(e){Object.defineProperty(o,e,{get:function(){return function(){try{var n=Array.prototype.slice.call(arguments);return E.indexOf(e)>-1&&setTimeout(function(){(0,u.um)(s.O.CUSTOM_INFO,{pixelCode:a,custom_name:e})}),t[e].apply(t,n)}catch(t){return(0,u.vU)(s.O.API_ERROR,t,{extJSON:{api:e}}),{}}}},set:function(){}})}),y.forEach(function(e){Object.defineProperty(o,e,{get:function(){return function(){try{var n=1==arguments.length&&void 0===arguments[0]?[]:Array.prototype.slice.call(arguments);return d(e,n),t[e].apply(t,n)}catch(t){return(0,u.vU)(s.O.API_ERROR,t,{extJSON:{api:e}}),{}}}},set:function(){}})}),n[r]._mounted=!0,n[r].initialize=!0,(0,l.gM)(n[r]);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},L=function(t,e,n){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"handleCache",start:performance.now()}}catch(t){}x(e),Object.entries(I()).forEach(function(r){var o=r[0],i=r[1];if(!i._init&&("Tealium"===(0,l.kW)(o)||(0,l.cH)()||i.info)&&(e.getReporter(o)?(0,u.ZK)(i_.DUPLICATE_PIXEL_CODE):(n||R)(t,{id:o,type:iu.PIXEL_CODE,info:i.info,options:i.options,rules:i.rules,plugins:i.plugins}),i._init=!0,i.length>0))for(;i.length;){var a=i.shift();if(a){var c=a[0],f=a.slice(1),p=e.instance(o);if(p)switch(c){case"identify":e.identify(f[0],f[1]);break;case"page":e.page(f[0]);break;case"track":p.track(f[0],f[1],f[2]||{});break;default:p[c]?p[c](f[0],f[1],f[2]||{}):(0,u.vU)(s.O.CUSTOM_ERROR,Error("action not find: "+p[c]))}}}}),C(e);try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}},x=function(t){try{var e=(0,l.Ie)();[].concat(E,w).forEach(function(n){e.find(function(r,o){var i=r[0],a=r.slice(1);if(i===n)return t[n].apply(t,a),e.splice(o,1),!0})})}catch(t){(0,u.vU)(s.O.API_ERROR,t,{extJSON:{api:"handleP0APICache"}})}},C=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"handleGlobalCache",start:performance.now()}}catch(t){}var n=(0,l.Ie)();if(n.length>0)for(;n.length;){var r=n.shift();if(r){var o=r[0],i=r.slice(1);switch(!(0,l.ri)("Tealium")&&d(o,i),o){case"identify":t.identify(i[0],i[1]);break;case"page":t.page(i[0]);break;case"track":t.track(i[0],i[1],i[2]||{});break;case"enableCookie":t.enableCookie();break;case"disableCookie":t.disableCookie();break;case"holdConsent":t.holdConsent();break;case"revokeConsent":t.revokeConsent();break;case"grantConsent":t.grantConsent()}}}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}};function k(t,e,n){return(k=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&D(o,n.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function D(t,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var M="_ttq_inject",j=function(){function t(){this.bindings={},this.rebind=this.bind}var e=t.prototype;return e.bind=function(t){var e=this;return{to:function(n){return e.bindings[t.toString()]={constructor:n,singleton:!1},e},toConstantValue:function(n){return e.bindings[t.toString()]={value:n,singleton:!0},e}}},e.isBound=function(t){return!!this.bindings[t.toString()]},e.inSingletonScope=function(){var t=Object.keys(this.bindings),e=t[t.length-1];if(e){var n=this.bindings[e];n&&(this.bindings[e]=Object.assign(Object.assign({},n),{singleton:!0}))}return this},e.get=function(t){var e=this.bindings[t.toString()];if(!e)throw Error("No binding found for identifier: "+String(t));return void 0!==e.value?e.value:e.singleton?(e.instance||(e.instance=this.createInstance(e.constructor)),e.instance):this.createInstance(e.constructor)},e.createInstance=function(t){var e=this;if(!t)throw Error("Cannot create instance because constructor is not defined.");var n=(t[M]||[]).map(function(t){try{return e.get(t.identifier)}catch(e){if(t.optional)return;throw e}});return k(t,n)},t}();function U(){return function(t){}}function F(t){return function(e,n,r){e[M]=e[M]||[],e[M][r]=Object.assign({},e[M][r],{identifier:t})}}function q(){return function(t,e,n){t[M]=t[M]||[],t[M][n]=Object.assign({},t[M][n],{optional:!0})}}function G(t,e){try{var n=new URL(t).searchParams.getAll(e);return n[n.length-1]||""}catch(t){return""}}(oK=im||(im={})).BIND="bind",oK.REBIND="rebind";var H=function(t,e,n){try{var r=G(e,t);if(r)return r;return G(n||"",t)}catch(t){}return""},V=function(){if(!(0,f.zd)())return{url:window.location.href,referrer:document.referrer,title:document.title};if(!(0,f.xD)()){var t,e,n,r,o,i;return{url:(null==(t=window)||null==(e=t.top)?void 0:e.location.href)||"",referrer:(null==(n=window)||null==(r=n.top)?void 0:r.document.referrer)||"",title:(null==(o=window)||null==(i=o.top)?void 0:i.document.title)||""}}var a=document.title,c=window.location.href,u=document.referrer;if(/doubleclick\.net/.test(window.location.hostname)){var s=window.location.pathname,l={};return s.split(";").forEach(function(t){var e=t.split("="),n=e[0],r=e[1];n&&r&&(l[n]=decodeURIComponent(r))}),{url:l["~oref"]||c,referrer:u,title:a}}return{url:c,referrer:u,title:a}},B=function(t){var e=V().url;try{return new URL(t||e)}catch(t){}return null},W=function(t){try{var e=window.sessionStorage.getItem(t);if(!e)return null;return JSON.parse(e)}catch(t){return null}},K=function(t){try{window.sessionStorage.removeItem(t)}catch(t){}},Y=function(t,e){try{var n=JSON.stringify(e);window.sessionStorage.setItem(t,n)}catch(t){}},X=n(229),J="https://analytics.tiktok.com/api/v2",Z=J+"/pixel",Q=J+"/performance",z=J+"/interaction",$=J+"/performance_interaction",tt=J+"/pixel/perf",te=J+"/pixel/inter",tn=J+"/pixel/act",tr=J+"/monitor",to="https://analytics-ipv6.tiktokw.us/ipv6/enrich_ipv6",ti="ttclid",ta="_toutiao_params",tc=function(t,e){try{var n=H(ti,t,e)||void 0,r=H("ext_params",t,e)||void 0,o=H(ta,t,e)||void 0,i=parseInt(H("ttuts",t,e),10)||void 0,a=o?JSON.parse(o):{},c=a.log_extra,u=void 0===c?void 0:c,s=a.idc,l=void 0===s?void 0:s,f=a.cid,p=void 0===f?void 0:f;return{callback:n,ext_params:r,log_extra:u,creative_id:p,idc:l,ttuts:i,ad_info_from:(u||l||p)&&"url"}}catch(t){return{}}},tu=function(t,e){try{var n=t.log_extra,r=t.ttuts;if(!(0,f.gn)())return!0;if(!(0,f.XA)(e)){if(null!=r)return 1!==r;return!0}if(n){var o=JSON.parse(n);return 1!==o.user_tracking_status}if(null===t.ATTStatus||void 0===t.ATTStatus)return!0;return 3===t.ATTStatus}catch(t){return!1}},ts=function(t,e){var n={};try{var r=t.creative_id,o=(t.callback,t.idc),i=t.convert_id,a=t.ad_info_from,c=t.ad_info_status,u=t.log_extra,s=t.ext_params,l=t.ATTStatus;if(r&&(n.creative_id=r),o&&(n.idc=o),i&&(n.convert_id=i),a&&(n.ad_info_from=a),c&&(n.ad_info_status=c),s&&(n.ext_params=s),l&&(n.ATTStatus=l),u){var f=JSON.parse(u),p=f.ad_user_agent,h=f.ad_id,d=f.rit,v=f.ocbs,_=f.vid,m=f.idc,g=f.country_id;h&&(n.ad_id=h),d&&(n.rit=d),p&&(n.ad_user_agent=p),v&&(n.ocbs=v),_&&(n.vid=_),m&&(n.idc=m),g&&(n.country_id=g)}return n}catch(t){return e&&e(t),n}},tl=n(188),tf=function(t){void 0===t&&(t={});var e=Object.assign({},{path:"/"},t);"number"==typeof e.expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),e.expires instanceof Date&&(e.expires=e.expires.toUTCString());var n="";for(var r in e)e[r]&&(n+="; "+r,!0!==e[r]&&(n+="="+e[r].split(";")[0]));return n},tp=function(t,e,n,r){void 0===n&&(n="/"),void 0===r&&(r=(0,tl.pW)()),tg(t,e,{path:n,expires:r})},th=function(t){if(t&&t.cde){var e=t.cde;return Object.assign({},X.Yp,{expires:e})}return X.Yp},td=0,tv=0,t_=function(t){var e={};return document.cookie.split(";").forEach(function(t){var n=t.split("=");e[n[0].trim()]=n.slice(1).join("=")}),e[t]||""},tm=function(t){if(0===document.cookie.length)return"";var e=t_(t);return e?unescape(e):""},tg=function(t,e,n){try{if(n){var r=window.location.hostname.split(".");if(tv=r.length,(td=tw())&&td<tv){n.domain="."+r.slice(tv-td-1).join("."),tb(t,e,n);return}for(var o="",i=0;i<tv&&(n.domain=o="."+r[tv-i-1]+o,td=i,!tb(t,e,n));i++);}else document.cookie=t+"="+e+tf(n)}catch(t){(0,u.vU)(s.O.API_ERROR,t,{extJSON:{position:"setCookieToHighestDomain"}})}},ty=function(t){var e=t.index,n=t.main;sessionStorage.setItem(X.AU,JSON.stringify({index:e,main:n}))},tE=function(t){var e=t.split(".");return e.length>=3&&e.includes("tt")&&!isNaN(Number(e[2]))&&Number(e[2])>0},tw=function(){if(td)return td;var t=tm(X.qC);return t&&tE(t)?Number(t.split(".")[2]):0},tb=function(t,e,n){var r;return t!==X.qC||tE(e)||(e=(r=e)?r.split(".")[0]+".tt."+((0,f.z6)()?0:tw()):""),document.cookie=t+"="+e+tf(n),e===tm(t)},tO=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e="");try{var r=H("tt_test_id",t,n);return r&&r!==e&&tp("tt_test_id",r,void 0,"session"),r||e}catch(t){return""}},tI=n(729);function tT(){return(tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var tR=function(t,e){var n;return!!(null!=e&&null!=(n=e.cookieBasedSessionConfig)&&n.enable&&t.firstPartyCookieEnabled)},tS=function(){var t=new Date().getTime();return{sessionId:t.toString()+"::"+(0,p.$j)(20),sessionCount:1,lastEventTS:t,isSessionStart:!0}},tN=function(t){var e={};return t.split("; ").forEach(function(t){var n=t.split("="),r=n[0],o=n[1];if(r.startsWith(X.ku)){var i=r.replace(X.ku,"").replace("_",""),a=o.split("."),c=a[0],u=a[1],s=a[2];c&&(0,tl.eZ)(u)&&(0,tl.eZ)(s)&&(e[i]={sessionId:c,sessionCount:Number(u),lastEventTS:Number(s)})}}),e},tA=function(t){var e=t.sessionCount,n=t.lastEventTS,r=new Date().getTime();return r-n>18e5?{sessionId:r.toString()+"::"+(0,p.$j)(20),sessionCount:e+1,lastEventTS:r,isSessionStart:!0}:tT({},t,{lastEventTS:r,isSessionStart:!1})},tP=function(t,e,n){var r=t.sessionId,o=t.sessionCount,i=t.isSessionStart;return Object.assign({csid:r,page_csid:e.sessionId,csct:o},i?{css:1}:{},n?{pixel_code:n}:{})},tL=function(){function t(t){this.pixelCode="",this.loaded=!1,this.status=1,this.name="",this.advertiserID="",this.setupMode=0,this.partner="",this.reporterInfo={},this.plugins={},this.options={},this.rules=[],this.pixelCode=t}var e=t.prototype;return e.getParameterInfo=function(){return Promise.resolve({pixelCode:this.pixelCode,name:this.name,status:this.status,setupMode:this.setupMode,advertiserID:this.advertiserID,partner:this.partner,is_onsite:!1,advancedMatchingAvailableProperties:{}})},e.getReporterId=function(){return""},e.getReporterUniqueLoadId=function(){return""},e.getReporterPartner=function(){},e.getReporterInfo=function(){return{reporter:{}}},e.getReportResultSet=function(){return[]},e.isOnsite=function(){return!1},e.isPartnerReporter=function(){return!1},e.setAdvancedMatchingAvailableProperties=function(t){},e.clearHistory=function(){},e.page=function(t){},e.track=function(t,e,n){return Promise.resolve(null)},e.getUserInfo=function(t){return{}},e.getReporterMatchedUserFormatInfo=function(){return{}},e.getReporterMatchedUserFormatInfoV2=function(){return{}},e.assemblyData=function(){return{event:"",message_id:"",event_id:"",is_onsite:!1,properties:{},context:{ad:{},device:{},library:{name:"",version:""},page:{url:""},pageview_id:"",session_id:"",variation_id:"",user:{}},partner:"",timestamp:""}},e.assemblySelfHostData=function(){return this.assemblyData()},e.trackSync=function(){},e.getReportEventHistoryKey=function(t){return"tiktok"},e.hasReportEventHistory=function(t,e){return!1},e.getCookieBasedSession=function(){return tS()},e.setCookieBasedSession=function(t){},t}();new tL("empty");var tx=function(){function t(t,e,n){this.initialize=!1,this.plugins=[],this.observers=[],this.reporters=[],this.context=t,this.reportService=e,n&&(this.emitter=n)}var e=t.prototype;return e.init=function(t,e){this.initContextInfo(t,e),this.initialize=!0},e.initContextInfo=function(t,e){var n=this;this.dispatch(ih.CONTEXT_INIT_START),this.initAdInfo(t,e),this.initAppInfo(t,e),this.initLocalServiceInfo(),this.reportService.pushPreposition(Promise.resolve().then(function(){return n.initUserInfo()})),this.initTestId(t,e),this.dispatch(ih.CONTEXT_INIT_END)},e.setPageIndex=function(t){},e.setPageInfo=function(t,e){var n=this.context.getPageInfo().url;if(n!==t){this.dispatch(ih.PAGE_URL_WILL_CHANGE,e||n,t);var r=this.context.setPageInfo(t,e||n);(null==r?void 0:r.pageIndex)&&this.setPageIndex(r.pageIndex),this.dispatch(ih.PAGE_URL_DID_CHANGE,t,n)}},e.initAdInfo=function(t,e){},e.initOffsiteAdInfo=function(t){},e.initAppInfo=function(t,e){},e.initUserInfo=function(){},e.initTestId=function(t,e){},e.usePlugin=function(t){try{if(!this.plugins.find(function(e){return e.name===t.name})){this.plugins.push(t);var e=t.name;e&&(this[e[0].toLowerCase()+e.slice(1)+"Plugin"]=t)}}catch(t){}},e.useObserver=function(t){try{if(!this.observers.find(function(e){return e.name===t.name})){this.observers.push(t);var e=t.name;e&&(this[""+(e[0].toLowerCase()+e.slice(1))]=t)}}catch(t){}},e.getPlugin=function(t){return this.plugins.find(function(e){return e.name===t})||null},e.getReporter=function(t){return this.reporters.find(function(e){return e.getReporterId()===t})},e.instance=function(t){var e=this.getReporter(t);return e||((0,u.vU)(s.O.PIXEL_EMPTY,Error(""),{pixelCode:t}),new tL(t))},e.instances=function(){return this.reporters},e.identify=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var n={taskName:window.ttq._pf_tn||"identify_api_handler",functionName:window.ttq._pf_tn&&"identify_api_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="identify_api_handler")}}catch(t){}var r=(0,p.oh)(t,e);this.context.setUserInfo(r);try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"identify_api_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},e.page=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e={taskName:window.ttq._pf_tn||"page_api_handler",functionName:window.ttq._pf_tn&&"page_api_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="page_api_handler")}}catch(t){}t.url!==this.context.getPageInfo().url&&(this.setPageInfo(t.url,t.referrer),this.reporters.forEach(function(t){t.clearHistory()}));var n=Object.assign({},t);delete n.url,delete n.referrer,this.reporters.forEach(function(t){t.page(n)});try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e),"page_api_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},e.isOnsitePage=function(){return this.context.getSignalType()===_.S.ONSITE||this.reporters.every(function(t){return t.isOnsite()})},e.track=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r={taskName:window.ttq._pf_tn||"track_api_handler",functionName:window.ttq._pf_tn&&"track_api_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="track_api_handler")}}catch(t){}this.instances().forEach(function(r,o){r.track(t,e,Object.assign({_i:o},n))});try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"track_api_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},e.dispatch=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.plugins.concat(this.observers).forEach(function(e){if("function"==typeof e[t])try{e[t].apply(e,n)}catch(r){(0,u.vU)(s.O.PLUGIN_ERROR,r,{extJSON:{plugin_name:e.name,cycle_name:t,data:n}})}})},e.getAllReportResultSet=function(){return this.instances().reduce(function(t,e){return t.concat(e.getReportResultSet())},[])},e.resetCookieExpires=function(){},e.enableCookie=function(){},e.disableCookie=function(){},e.enableFirstPartyCookie=function(t){},e.holdConsent=function(){},e.revokeConsent=function(){},e.grantConsent=function(){},e.initLocalServiceInfo=function(){},e.getEmitter=function(){return this.emitter},t}();function tC(){tC=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function tk(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}tx=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],tx);var tD=(oY=tC().mark(function t(e,n){return tC().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=1),!(n>=0)){t.next=13;break}return t.prev=2,t.next=5,function(t){return new Promise(function(e,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=t;var o=document.getElementsByTagName("script")[0];o&&o.parentNode?o.parentNode.insertBefore(r,o):n("none element"),r.onload=function(){e(!0)},r.onerror=n})}(e);case 5:return t.abrupt("return",Promise.resolve(!0));case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",tD.call(null,e,n-1));case 11:t.next=14;break;case 13:throw Error;case 14:case"end":return t.stop()}},t,null,[[2,8]])}),oX=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=oY.apply(t,e);function i(t){tk(o,n,r,i,a,"next",t)}function a(t){tk(o,n,r,i,a,"throw",t)}i(void 0)})},function(t,e){return oX.apply(this,arguments)});(oJ=ig||(ig={})).TRACK="track",oJ.PERFORMANCE="performance",oJ.INTERACTION="interaction",oJ.PCM="PCM",oJ.PERFORMANCE_INTERACTION="performance_interaction",oJ.SELFHOST="selfhost",oJ.AUTO_CONFIG="auto_config",oJ.PAGE="Pf",oJ.PAGE_PERFORMANCE="page_performance",oJ.PAGE_INTERACTION="page_interaction";var tM=["EnrichAM"];(oZ=iy||(iy={})).LDU="limited_data_use",oZ.EVENTID="eventID",oZ.EVENT_ID="event_id",(oQ=iE||(iE={}))[oQ.defaultReport=0]="defaultReport",oQ[oQ.httpReport=1]="httpReport",oQ[oQ.htmlHttpReport=2]="htmlHttpReport",(oz=iw||(iw={}))[oz.P0=0]="P0",oz[oz.P1=1]="P1",oz[oz.P2=2]="P2";var tj=["ttuts","ad_info_from"],tU="Pageview",tF=[],tq=["AED","ALL","AMD","ARS","AUD","AZN","BDT","BGN","BHD","BIF","BOB","BRL","BYN","CAD","CHF","CLP","CNY","COP","CRC","CZK","DKK","DOP","DZD","EGP","EUR","GBP","GEL","GTQ","HKD","HNL","HUF","IDR","ILS","INR","IQD","ISK","JOD","JPY","KES","KHR","KRW","KWD","KZT","LBP","MAD","MOP","MXN","MYR","NGN","NIO","NOK","NZD","OMR","PAB","PEN","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","SAR","SEK","SGD","THB","TND","TRY","TWD","TZS","UAH","USD","UZS","VES","VND","ZAR"],tG=function(){function t(){this.subscriberMap=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map}var e=t.prototype;return e.on=function(t,e,n,r){try{r&&(r.emitterType=r.emitterType||t,this.emit(ip.UPDATE_CONFIG,r));var o=Object.assign({throttle:!1,debounce:!1,once:!1,interval:500},n),i=this.subscriberMap.get(t)||[];if(i.some(function(t){return t.originalCallback===e}))return;i.push({originalCallback:e,wrappedCallback:this.wrapCallback(e,o),options:o,observerConfig:r}),this.subscriberMap.set(t,i)}catch(e){(0,u.vU)(s.O.CUSTOM_ERROR,e,{custom_name:"EventEmitter",custom_enum:t})}},e.emit=function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(this.subscriberMap.get(t)||[]).forEach(function(n){try{n.wrappedCallback.apply(n,r)}catch(n){(0,u.vU)(s.O.CUSTOM_ERROR,n,{custom_name:"EventEmitter",custom_enum:t,extJSON:{message:""+JSON.stringify(e.subscriberMap.get(t))}})}})},e.off=function(t,e){var n=this.subscriberMap.get(t)||[];this.subscriberMap.set(t,n.filter(function(t){return t.originalCallback!==e}))},e.clear=function(){this.subscriberMap.clear()},e.wrapCallback=function(t,e){return e.async&&(t=(0,p.b2)(t)),e.throttle&&(t=(0,tl.P2)(t,e.interval||500)),e.debounce&&(t=(0,p.Ds)(t,e.interval||500)),e.once&&(t=(0,p.IH)(t)),t},t}();tG=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],tG);var tH=function(t,e){if("selfhost"===t&&e&&(0,l.My)(e))return"https://"+(0,l.My)(e)+"/api/v2/pixel";var n={track:Z,performance:Q,interaction:z,performance_interaction:$,auto_config:tn,page_performance:tt,page_interaction:te}[t];return n||null};function tV(){return(tV=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tB(t,e){return(tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tW=function(t){function e(e,n){var r;return(r=t.call(this)||this).reporterInfo={},r.options={},r.plugins={},r.rules=[],r.reportEventHistory={},r.reportResultSet=[],r.selfHostConfig={},r.currentHref="",r.advancedMatchingAvailableProperties={external_id:!0,partner_id:!0},r.session=tS(),r.reportService=n,r.context=e,r}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,tB(e,t);var n=e.prototype;return n.getParameterInfo=function(){var t=this;return this.getInstance().then(function(){var e=t.reporterInfo,n=e.name,r=e.status,o=e.setupMode,i=e.advertiserID,a=e.is_onsite;return{pixelCode:t.getReporterId(),name:void 0===n?"":n,status:void 0===r?1:r,setupMode:void 0===o?0:o,advertiserID:(void 0===i?"":i).toString(),partner:t.getReporterPartner()||"",is_onsite:void 0!==a&&a,advancedMatchingAvailableProperties:t.advancedMatchingAvailableProperties,rules:t.rules}})},n.getInstance=function(){return this.pixelPromise=Promise.resolve(this)},n.getReporterId=function(){return""},n.getReporterUniqueLoadId=function(){return""+this.getReporterId()},n.getReporterPartner=function(){},n.getReporterInfo=function(){return{pixel:{code:this.getReporterId()}}},n.setAdvancedMatchingAvailableProperties=function(t){this.advancedMatchingAvailableProperties=Object.assign({},this.advancedMatchingAvailableProperties,t)},n.isOnsite=function(){return!1},n.isPartnerReporter=function(){return!1},n.getReportResultSet=function(){return this.reportResultSet},n.getUserInfo=function(t){return{}},n.getReporterMatchedUserFormatInfo=function(){return{}},n.getReporterMatchedUserFormatInfoV2=function(){return{}},n.getReportEventHistoryKey=function(t){return"tiktok"},n.getCookieBasedSession=function(){return this.session},n.setCookieBasedSession=function(t){t&&(this.session=t)},n.convertCookieBasedSession=function(t){return{}},n.clearHistory=function(){this.reportEventHistory={}},n.pushReport=function(t,e){void 0===e&&(e="tiktok"),this.reportEventHistory[e]||(this.reportEventHistory[e]=[]),this.reportEventHistory[e].push(t)},n.hasReportEventHistory=function(t,e){var n=this.getReportEventHistoryKey(e);return this.reportEventHistory[n]?!!(tF.includes(t)&&this.reportEventHistory[n].includes(t)):(this.reportEventHistory[n]=[],!1)},n.page=function(t){void 0===t&&(t={})},n.track=function(t,e,n,r,o){var i=this,a=r||ig.TRACK,c=o||iE.defaultReport;return!this.reportService||this.hasReportEventHistory(t,c)?Promise.resolve(null):(this.pushReport(t,this.getReportEventHistoryKey(c)),this.reportService.reportPreTasks.then(function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r={taskName:window.ttq._pf_tn||"track_after_report_preposition",functionName:window.ttq._pf_tn&&"track_after_report_preposition",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="track_after_report_preposition")}}catch(t){}var o=i.getReporterId(),u=i.trackSync(o,t,e,n,a,c);i.trackPostTask({reporterId:o,eventType:t,properties:e,eventConfig:n,type:a,reportType:c,reportData:u});try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"track_after_report_preposition"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}return Promise.resolve({reporterId:o,eventType:t,properties:e,eventConfig:n,type:a,reportType:c,reportData:u})}))},n.getEventType=function(t){return t},n.trackPostTask=function(t){},n.trackSync=function(t,e,n,r,o,i,a){void 0===o&&(o=ig.TRACK),void 0===i&&(i=iE.defaultReport);var c=o!==ig.SELFHOST?this.assemblyData(t,e,n,r,o):this.assemblySelfHostData(t,e,n,r,o),u=a||tH(o,t);if(null!==u&&this.reportService)return this.emit(il.BEFORE_REPORT,t,e,c,r,o),this.reportResultSet.push(this.reportService.report(u,c,i,iw.P0)),c},n.handlePropertiesToOptions=function(t,e){var n={};return e.forEach(function(e){n[e]=t[e],delete t[e]}),n},n.assemblyData=function(t,e,n,r,o){void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=ig.TRACK);var i=this.context.getAllData(),a=i.adInfo,c=i.userInfo,u=i.appInfo,s=i.pageSign,l=i.libraryInfo,h=i.pageInfo,d=i.signalType,v=s.sessionId,_=s.variationId,m=Object.assign({},n),g=m&&m.is_standard_mode;m&&m.pixelMethod&&delete m.pixelMethod;var y=Object.assign({},l,{version:this.context.isLegacyPixel(t)?"legacy-"+l.version:l.version}),E=Object.assign({},(0,p.mQ)(a,tj),{device_id:u.device_id,uid:u.user_id}),w=this.handlePropertiesToOptions(m,[iy.LDU,iy.EVENTID,iy.EVENT_ID]),b=this.options.limited_data_use,O=null!==w.limited_data_use&&void 0!==w.limited_data_use?w.limited_data_use:b;null==O?delete w.limited_data_use:w.limited_data_use=!!O;var I=r&&(r.event_id||r.eventID)||"";w.event_id=I||w.event_id||w.eventID||"",delete w.eventID;var T=this.getReporterInfo();T.pixel&&(T.pixel.runtime=(0,f.Tm)(),g&&(T.pixel.mode="standard"));var R=this.getUserInfo(tI.Ts.Manual)||{},S=this.getUserInfo(tI.Ts.ManualV2)||{},N=this.getReporterMatchedUserFormatInfoV2()||{},A=this.getUserInfo(tI.Ts.Auto)||{};A.auto_trigger_type&&(Object.assign(m,{auto_trigger_type:A.auto_trigger_type}),delete A.auto_trigger_type);var P=this.getUserInfo(tI.Ts.EBManual)||{};(0,f.Dt)()&&Object.assign(m,{android_version:u.android_version,device_model:u.device_model});var L={};c.anonymous_id&&(L.anonymous_id=c.anonymous_id);var x=this.getEventType(e),C=this.convertCookieBasedSession(o);return Object.assign({event:x,event_id:I,message_id:(0,tl.gj)((0,tl.fV)(X.WO),t),is_onsite:!!d,timestamp:new Date().toJSON(),context:tV({ad:E,device:{platform:u.platform},user:Object.assign({},L,R,S,A,P)},T,{page:Object.assign({},h),library:Object.assign({},y),session_id:(0,tl.gj)(v,t),pageview_id:(0,tl.gj)(this.context.getPageViewId(),this.getReporterUniqueLoadId(),X.n2),variation_id:_||""},C),_inspection:N,properties:m},w)},n.assemblySelfHostData=function(t,e,n,r,o){return void 0===n&&(n={}),void 0===r&&(r={}),this.assemblyData(t,e,n,r,o)},e}(tG);tW=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],tW);var tK={ViewForm:"ViewContent",ViewConsultationPage:"ViewContent",ViewDownloadPage:"ViewContent",Checkout:"PlaceAnOrder",Registration:"CompleteRegistration",AddBilling:"AddPaymentInfo",StartCheckout:"InitiateCheckout",ClickInDownloadPage:"ClickButton",ClickInConsultationPage:"ClickButton",ClickForm:"ClickButton",ClickToDownload:"Download",Consult:"Contact",ConsultByPhone:"Contact",CompletePayment:"Purchase",SubmitForm:"Lead"},tY=["event_experiment","dynamic_parameter_config","eb_version","eb_rule_id","tf"],tX=function(t){var e=t.getUserInfo().anonymous_id,n=tm(X.qC);e!==n&&t.setUserInfoWithoutIdentifyPlugin({anonymous_id:n})},tJ=function(t,e,n){try{var r=window.location.hostname.split(".");if(void 0!==ib&&ib<r.length){document.cookie=t+"="+e+tf(Object.assign({},n,{domain:"."+r.slice(ib).join(".")}));return}for(var o=r.length-2;o>=0;o--){var i="."+r.slice(o).join(".");if(document.cookie=t+"="+e+tf(Object.assign({},n,{domain:i})),tm(t)===e){ib=o;break}}}catch(t){}},tZ=function(t,e,n){var r,o=tS();return e&&(o=tA(e)),tJ(t?X.ku+"_"+t:X.ku,(r=o).sessionId+"."+r.sessionCount+"."+r.lastEventTS,th(n)),o};function tQ(t,e){return(tQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tz=function(t){function e(e){var n,r,o=e.id,i=e.type,a=e.isOnsitePage,c=e.context,u=e.reporterInfo,s=e.ttqOptions,l=e.reportService,f=e.plugins,p=e.rules,h=e.options;return(r=t.call(this,c,l)||this).ttp="",r.loaded=!1,r.id=o,r.pixelCode=o,r.type=i,r.isOnsitePage=a,r.options=(void 0===h?{}:h)||{},r.plugins=(void 0===f?{}:f)||{},r.rules=(void 0===p?[]:p)||[],r.reporterInfo=Object.assign(u||{},((n={})[i]=o,n)),r.ttp=s.ttp||"",r.currency_list=s.currency_list||null,r.ttqPartner=s.partner||"",r.selfHostConfig=s.self_host_config||{},r.ttqOptions=s,r.pixelPromise=r.getInstance(),r}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,tQ(e,t);var n=e.prototype;return n.identify=function(t,e){var n=(0,p.oh)(t,e);this.context.setUserInfo(n)},n.getReporterId=function(){return this.id||""},n.getReporterUniqueLoadId=function(){return this.reporterInfo.loadId+"-"+this.getReporterId()},n.getReporterPartner=function(){var t;return(null==(t=this.reporterInfo)?void 0:t.partner)||""},n.setPixelInfo=function(t,e,n){var r,o=this.type;this.reporterInfo=Object.assign(this.reporterInfo,Object.assign({},t),((r={})[o]=this.getReporterId(),r)),e&&(this.rules=e),n&&(this.plugins=n)},n.getInstance=function(){return Promise.resolve(this)},n.getReporterInfo=function(){return this.reporterInfo.pixelCode?t.prototype.getReporterInfo.call(this):{shop_id:this.reporterInfo.shopId,eventSourceId:this.reporterInfo.eventSourceId}},n.getUserInfo=function(t){var e=this.context.getUserInfo(),n=(0,p.cm)(e,Object.assign({},this.advancedMatchingAvailableProperties));switch(t){case tI.Ts.Manual:return(0,p.cm)(this.isPartnerReporter()?n:e,{external_id:!0,email:!0,phone_number:!0,ttoclid:!0});case tI.Ts.ManualV2:return(0,p.cm)(this.isPartnerReporter()?n:e,{first_name:!0,last_name:!0,city:!0,state:!0,country:!0,zip_code:!0,partner_id:!0,ttoclid:!0});case tI.Ts.EBManual:return(0,p.cm)(e,{eb_email:!0,eb_phone_number:!0});case tI.Ts.Auto:var r=(0,p.cm)(n,{external_id:!0,auto_email:!0,auto_phone_number:!0,ttoclid:!0});return Object.assign(r,(r.auto_email||r.auto_phone_number)&&e.auto_trigger_type?{auto_trigger_type:e.auto_trigger_type}:{});default:return n}},n.getReporterMatchedUserFormatInfo=function(){var t=this.context.getUserFormatInfo(),e=(0,p.QO)(t,this.isPartnerReporter()?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0}),n=(0,p.cm)(t,{auto_email:!0,auto_phone_number:!0});return Object.keys(n).length>0&&(e.identity_params||(e.identity_params={}),Object.assign(e.identity_params,n)),e},n.getReporterMatchedUserFormatInfoV2=function(){var t=this.context.getUserFormatInfoV2(),e=this.isPartnerReporter()?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0,first_name:!0,last_name:!0,city:!0,state:!0,country:!0,zip_code:!0,partner_id:!0};return(0,p.te)(t,e)},n.isOnsite=function(){var t;return!!(null==(t=this.reporterInfo)?void 0:t.is_onsite)},n.isPartnerReporter=function(){var t=this.getReporterPartner();return!!(t&&"None"!==t)},n.getSignalDiagnosticLabels=function(){var t=this.context.getSignalDiagnosticLabels();if(!t)return Object.assign({},tI.N4);var e=this.advancedMatchingAvailableProperties,n=e.email,r=e.phone_number,o=e.auto_email,i=e.auto_phone_number;n=!this.isPartnerReporter()||n,r=!this.isPartnerReporter()||r;var a=(0,p.cm)(t,{raw_email:n,raw_phone:r,hashed_email:n,hashed_phone:r,raw_auto_email:o,raw_auto_phone:i,raw_eb_email:!0,raw_eb_phone:!0});return Object.assign({},tI.N4,a)},n.setCookieBasedSession=function(t){t&&(this.session=t)},n.convertCookieBasedSession=function(t){return tR(this.reporterInfo,this.ttqOptions)&&t!==ig.AUTO_CONFIG?tP(this.getCookieBasedSession(),this.context.getPageCookieBasedSession()):{}},n.assemblyData=function(e,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o={}),void 0===i&&(i=ig.TRACK);var a,c,u=t.prototype.assemblyData.call(this,e,n,r,o,i);u.is_onsite=this.isOnsitePage.value;var s=(0,l.kW)(e)||this.ttqPartner;s&&(u.partner=s),u.signal_diagnostic_labels=this.getSignalDiagnosticLabels();var h=(0,l.ij)();h&&(u.context.userAgent=h);var d=function(){try{var t=document.readyState;if("loading"==t)return id.LOADING;if("interactive"==t)return id.INTERACTIVE;if("complete"==t)return id.COMPLETE;return id.UNKNOWN}catch(t){return id.UNKNOWN}}();return d&&(u.context.page.load_progress=d),a=u.properties,void 0===(c=u._inspection)&&(c={}),tY.forEach(function(t){a.hasOwnProperty(t)&&(c[t]=a[t],delete a[t])}),u._inspection=c,i!==ig.PAGE&&(u._inspection.ppf=(0,l.c6)()),u._inspection.vids=this.context.getVids(),u.context.ad.sdk_env=(0,f.RA)(),u.context.ad.jsb_status=(0,f.Fn)(),i!==ig.INTERACTION&&i!==ig.PERFORMANCE&&i!==ig.PERFORMANCE_INTERACTION||!1!==this.context.getEnableAdTracking()||this.isOnsitePage.value||(u.context.user={},u.context.ad=this.context.getOffsiteAdInfo(),u.context.ad=(0,p.mQ)(u.context.ad,tj)),u},n.page=function(t){void 0===t&&(t={});var e=V().url;e!==this.currentHref&&(this.currentHref=e,this.track(tU,t,{}))},n.track=function(e,n,r,o,i){var a=this;void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=ig.TRACK),void 0===i&&(i=iE.defaultReport);var c=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var c={taskName:window.ttq._pf_tn||"track_after_reporter_init",functionName:window.ttq._pf_tn&&"track_after_reporter_init",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="track_after_reporter_init")}}catch(t){}var u=a.getReporterId();if(tM.includes(e))return t.prototype.track.call(a,e,n,r,o,i);var s=Object.assign({},r);a.selfHostConfig[u]&&!r.eventID&&(s=Object.assign({},s,{eventID:(0,tl.gj)((0,tl.fV)(X.qf),u)}));try{window.ttq&&window.ttq._ppf&&(c.end=performance.now(),window.ttq._ppf.push(c),"track_after_reporter_init"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}return t.prototype.track.call(a,e,n,s,o,i)};return this.loaded?c():this.getInstance().then(c)},n.getEventType=function(t){return tK[t]||t},n.trackSync=function(e,n,r,o,i,a,c){if(void 0===r&&(r={}),void 0===o&&(o={}),void 0===i&&(i=ig.TRACK),void 0===a&&(a=iE.defaultReport),"track"===i&&(0,u.um)(s.O.PIXEL_SEND,{pixelCode:e,extJSON:{event:n}}),i!==ig.TRACK)return void t.prototype.trackSync.call(this,e,n,r,o,i,a,c);r&&"string"==typeof r.currency&&(r.currency=r.currency.toUpperCase());var l,f=this.context.getTestID();if(f){var p=this.assemblyData(e,n,r,o);return p.tt_test_id=f,p.context.ad={},null==(l=this===null||void 0===this?void 0:this.reportService)||l.report(c||Z,p,iE.htmlHttpReport,iw.P0),p}if(r&&"object"==typeof r){var h,d=r,v=d.value,_=d.currency;void 0===v||!isNaN(v)&&v>=0||(0,u.um)(s.O.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_value",extJSON:{event:n,value:v,currency:_}}),void 0===_||(void 0===(h=this.currency_list)&&(h=null),(h||tq).includes(_))||(0,u.um)(s.O.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_currency",extJSON:{event:n,value:v,currency:_}})}return t.prototype.trackSync.call(this,e,n,r,o,i,a,c)},n.trackPostTask=function(t){var e=t.reporterId,n=t.eventType,r=t.properties,o=t.eventConfig;tM.includes(n)||this.selfHostConfig[e]&&!this.hasReportEventHistory(n,iE.htmlHttpReport)&&(this.pushReport(n,this.getReportEventHistoryKey(iE.htmlHttpReport)),this.trackSync(e,n,r,o,ig.SELFHOST,iE.htmlHttpReport))},n.getReportEventHistoryKey=function(t){return t===iE.htmlHttpReport?this.selfHostConfig[this.getReporterId()]:"tiktok"},n.assemblySelfHostData=function(t,e,n,r,o){void 0===n&&(n={}),void 0===r&&(r={});var i=this.assemblyData(t,e,n,r,o),a=this.ttp;return a&&(i.context.user.ttp=a),i},e}(tW);function t$(t,e){return(t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var t0=function(t,e){return function(n,r){e(n,r,t)}},t1=function(t){function e(e,n,r,o,i,a,c,u,s,l){return t.call(this,{id:e,type:n,isOnsitePage:r,context:o,reporterInfo:i,ttqOptions:a,reportService:c,plugins:u,rules:s,options:l})||this}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,t$(e,t);var n=e.prototype;return n.getInstance=function(){var t,e=this;if(this.pixelPromise)return this.pixelPromise;var n=(t=this.id,h()[t]||{});return(0,l.cH)()||n&&n.info?(this.loaded=!0,this.pixelPromise=Promise.resolve(this)):(this.pixelPromise=new Promise(function(t,n){var r=B();tD((0,p.hi)(e.id,(null==r?void 0:r.hostname)||"")).then(function(){e.loaded=!0,t(e)}).catch(function(t){e.pixelPromise=null,n(t)})}),this.pixelPromise)},n.setCookieBasedSession=function(e){var n=tZ(this.pixelCode,e,this.ttqOptions);t.prototype.setCookieBasedSession.call(this,n)},n.track=function(e,n,r,o,i){if(void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=ig.TRACK),void 0===i&&(i=iE.defaultReport),r&&r.pixel_code&&this.getReporterId()!==r.pixel_code)return Promise.resolve(null);if(tR(this.reporterInfo,this.ttqOptions)){var a=tN(document.cookie);this.setCookieBasedSession(a[this.getReporterId()]),this.context.setPageCookieBasedSession(a[""])}return t.prototype.track.call(this,e,n,r,o,i)},e}(tz);function t2(t,e){return(t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var t3=function(t){function e(){return t.apply(this,arguments)||this}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,t2(e,t);var n=e.prototype;return n.getInstance=function(){return this.pixelPromise=Promise.resolve(this),this.pixelPromise},n.track=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),v(this.getReporterId(),"track",[t,e,n]),Promise.resolve(null)},e}(t1=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),t0(0,F(g.M.ID)),t0(1,F(g.M.Type)),t0(2,F(g.M.IsOnsitePage)),t0(3,F(m.CONTEXT)),t0(4,F(g.M.Info)),t0(5,F(m.TTQ_GLOBAL_OPTIONS)),t0(6,F(m.REPORT_SERVICE)),t0(7,F(g.M.Plugins)),t0(7,q()),t0(8,F(g.M.Rules)),t0(8,q()),t0(9,F(g.M.Options)),t0(9,q())],t1));function t6(){t6=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function t5(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function t8(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){t5(i,r,o,a,c,"next",t)}function c(t){t5(i,r,o,a,c,"throw",t)}a(void 0)})}}function t4(t,e){return(t4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var t9=function(t,e){return function(n,r){e(n,r,t)}},t7=function(t){function e(e,n,r,o,i,a,c,s,l,f,p,h,d,v,_,m,g,y,E,w,b,O,I){(T=t.call(this,e,i,l)||this).context=e,T.env=s,T.reporters=n,T.cookieService=a,T.reportService=i,T.consentService=c,T.adService=r,T.appService=o,T.eventEmitter=l,T.historyObserver=b,T.interactionObserver=O,T.autoAdvancedMatchingPlugin=p,T.callbackPlugin=h,T.identifyPlugin=d,T.monitorPlugin=f,T.shopifyPlugin=v,T.autoConfigPlugin=_,T.diagnosticsConsolePlugin=m,T.pangleCookieMatchingPlugin=g,T.eventBuilderPlugin=y,T.pagedataPlugin=w,T.enrichIpv6Plugin=E,T.runtimeMeasurementPlugin=I,T.eventEmitter=l,T.historyObserver&&T.useObserver(T.historyObserver),T.interactionObserver&&T.useObserver(T.interactionObserver),T.autoAdvancedMatchingPlugin&&T.usePlugin(T.autoAdvancedMatchingPlugin),T.callbackPlugin&&T.usePlugin(T.callbackPlugin),T.identifyPlugin&&T.usePlugin(T.identifyPlugin),T.monitorPlugin&&T.usePlugin(T.monitorPlugin),T.shopifyPlugin&&T.usePlugin(T.shopifyPlugin),T.autoConfigPlugin&&T.usePlugin(T.autoConfigPlugin),T.diagnosticsConsolePlugin&&T.usePlugin(T.diagnosticsConsolePlugin),T.pangleCookieMatchingPlugin&&T.usePlugin(T.pangleCookieMatchingPlugin),T.eventBuilderPlugin&&T.usePlugin(T.eventBuilderPlugin),T.enrichIpv6Plugin&&T.usePlugin(T.enrichIpv6Plugin),T.runtimeMeasurementPlugin&&T.usePlugin(T.runtimeMeasurementPlugin),T.monitorPlugin&&(u.qe.info.forEach(function(t){var e;null==(e=T.monitorPlugin)||e.info(t.event,t.detail,t.withoutJSB)}),u.qe.error.forEach(function(t){var e;null==(e=T.monitorPlugin)||e.error(t.event,t.err,t.detail,t.withoutJSB)}),u.qe.info=[],u.qe.error=[]),T.dispatch(ih.INIT_START),T.pagedataPlugin&&T.usePlugin(T.pagedataPlugin),T.onPageLoaded(),T.onPageLeave();var T,R=V(),S=R.url,N=R.referrer;return T.init(S,N),T.setPageInfo(S,N),T.dispatch(ih.INIT_END),T}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,t4(e,t);var n,r=e.prototype;return r.initAdInfo=function(t,e){this.dispatch(ih.BEFORE_AD_INFO_INIT_START);var n=W(X.dm);if(n)return void this.initAdCache(n);if((0,f.zP)()){var r=tc(t,e);r&&(r.creative_id&&r.log_extra||r.callback)&&(this.dispatch(ih.AD_INFO_INIT_START),Y(X.dm,r),this.setAdInfo(r),this.initOffsiteAdInfo(r));return}this.initBaseAdInfo(t,e)},r.initAdCache=function(t){this.dispatch(ih.AD_INFO_INIT_START),t.ad_info_from="cache",t.ad_info_status="fulfilled(cache)",this.setAdInfo(t),this.initOffsiteAdInfo(t)},r.initBaseAdInfo=function(t,e){var n=this;this.adService.webBridgeService.jsbridge&&this.dispatch(ih.AD_INFO_INIT_START),this.reportService.pushPreposition(t8(t6().mark(function r(){var o;return t6().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.adService.getAdInfo(t,e);case 3:o=r.sent,n.context.setAdInfo(o),n.initOffsiteAdInfo(o),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),(0,u.vU)(s.O.INIT_ERROR,r.t0,{extJSON:{position:"initAdInfo"}});case 11:case"end":return r.stop()}},r,null,[[0,8]])}))())},r.initOffsiteAdInfo=function(t){var e=ts(t,function(t){(0,u.vU)(s.O.INIT_ERROR,t,{extJSON:{position:"handleAdInfoOfficial"}})});this.context.setOffsiteAdInfo(e);var n=tu(t,this.env);this.context.setEnableAdTracking(n),this.dispatch(ih.AD_INFO_INIT_END,{extJSON:{enabledAdTracking:n}})},r.initAppInfo=function(t,e){var n=this,r=W(X.Cd);if(r)return void this.context.setAppInfo(r);this.reportService.pushPreposition(t8(t6().mark(function r(){var o;return t6().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.initBaseAppInfo(t,e);case 2:return o=r.sent,r.abrupt("return",o);case 4:case"end":return r.stop()}},r)}))())},n=t8(t6().mark(function t(e,n){var r;return t6().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appService.getAppInfo(e,n);case 2:return r=t.sent,this.context.setAppInfo(r),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),r.initBaseAppInfo=function(t,e){return n.apply(this,arguments)},r.initTestId=function(t,e){if(!this.context.getTestID()){var n=tO(t,tm("tt_test_id"),e);this.context.setTestID(n)}},r.initUserInfo=function(){this.setCookieInfo()},r.initLocalServiceInfo=function(){var t,e,n=W(X.RC);if(n)return void this.context.setUserInfoWithoutIdentifyPlugin(((t={})[X.RC]=n,t));var r=V(),o=r.url,i=r.referrer,a=H(X.bO[location.hostname]?X.bO[location.hostname]:X.RC,o,i);a&&(Y(X.RC,a),this.context.setUserInfoWithoutIdentifyPlugin(((e={})[X.RC]=a,e)))},r.setPageIndex=function(t){t&&ty(t)},r.instance=function(t){this.beforeAPIExecution();var e=this.getReporter(t);return e||new t3(t,iu.PIXEL_CODE,{value:!1},this.context,{pixelCode:t},{},{})},r.instances=function(){return this.beforeAPIExecution(),this.reporters},r.page=function(e){this.beforeAPIExecution();var n=V(),r=n.url,o=n.referrer;t.prototype.page.call(this,Object.assign({url:(null==e?void 0:e.page)||r,referrer:(null==e?void 0:e.referrer)||o},e))},r.track=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r={});try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var o={taskName:window.ttq._pf_tn,functionName:"web_track_handler",start:performance.now()}}catch(t){}this.beforeAPIExecution();var i=r.pixel_code;if(void 0===i&&t.prototype.track.call(this,e,n,r),void 0!==i){var a=this.instance(i);a instanceof t3||a.track(e,n,r)}try{window.ttq&&window.ttq._ppf&&(o.end=performance.now(),window.ttq._ppf.push(o))}catch(t){}},r.identify=function(e,n){this.beforeAPIExecution(),t.prototype.identify.call(this,e,n)},r.setAdInfo=function(t){this.context.setAdInfo(t)},r.enableFirstPartyCookie=function(t){this.cookieService.enableFirstPartyCookie(t),t&&this.setCookieInfo()},r.enableCookie=function(){this.cookieService.enableFirstPartyCookie(!0),this.setCookieInfo(),this.cookieService.enableCookie()},r.disableCookie=function(){this.cookieService.disableCookie(),this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:void 0}),this.disablePangleCookie()},r.holdConsent=function(){this.consentService.setConsentMode(tI._R.HOLD)},r.revokeConsent=function(){this.consentService.setConsentMode(tI._R.REVOKE)},r.grantConsent=function(){this.consentService.setConsentMode(tI._R.GRANT)},r.disablePangleCookie=function(){this.pangleCookieMatchingPlugin&&this.pangleCookieMatchingPlugin.disablePangleCookie()},r.setAnonymousId=function(t){this.cookieService.setAnonymousId(t),this.initUserInfo()},r.resetCookieExpires=function(){this.cookieService.resetExpires()},r.setCookieInfo=function(){if(this.cookieService.canUseCookie()){var t=this.cookieService.getAnonymousId();t&&this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:t})}},r.onPageLoaded=function(){var t=this;window.addEventListener("load",function(){t.dispatch(ih.PAGE_DID_LOAD)},{once:!0})},r.onPageLeave=function(){var t=this,e=(0,p.IH)(function(){var e=Date.now();t.dispatch(ih.PAGE_WILL_LEAVE,e),t.consentService.updateCache()});document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()}),"onpagehide"in window&&window.addEventListener("pagehide",function(){e()}),window.addEventListener("beforeunload",function(){return e},{once:!0})},r.beforeAPIExecution=function(){try{var t,e;t=this.context,V().url===t.getPageInfo().url||this.setPageInfo(V().url),e=this.context,tm(X.qC)===e.getUserInfo().anonymous_id||tX(this.context)}catch(t){(0,u.vU)(s.O.API_ERROR,t,{extJSON:{position:"beforeAPIExecution"}})}},r.loadPixel=function(t,e){if(t){if(this.reporters.find(function(e){return e.getReporterId()===t}))return void(0,u.ZK)(i_.DUPLICATE_PIXEL_CODE);(0,l.Ie)().load(t,e||{})}},e}(tx),et=t7=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),t9(0,F(m.CONTEXT)),t9(1,F(m.TTQ_REPORTERS)),t9(2,F(m.AD_SERVICE)),t9(3,F(m.APP_SERVICE)),t9(4,F(m.REPORT_SERVICE)),t9(5,F(m.COOKIE_SERVICE)),t9(6,F(m.CONSENT_SERVICE)),t9(7,F(m.ENV)),t9(8,F(m.EVENT_EMITTER)),t9(9,F(m.MONITOR_PLUGIN)),t9(9,q()),t9(10,F(m.AUTO_ADVANCED_MATCHING_PLUGIN)),t9(10,q()),t9(11,F(m.CALLBACK_PLUGIN)),t9(11,q()),t9(12,F(m.IDENTIFY_PLUGIN)),t9(12,q()),t9(13,F(m.SHOPIFY_PLUGIN)),t9(13,q()),t9(14,F(m.AUTO_CONFIG_PLUGIN)),t9(14,q()),t9(15,F(m.DIAGNOSTICS_CONSOLE_PLUGIN)),t9(15,q()),t9(16,F(m.PANGLE_COOKIE_MATCHING_PLUGIN)),t9(16,q()),t9(17,F(m.EVENT_BUILDER_PLUGIN)),t9(17,q()),t9(18,F(m.ENRICH_IPV6_PLUGIN)),t9(18,q()),t9(19,F(m.PAGEDATA_PLUGIN)),t9(19,q()),t9(20,F(m.HISTORY_OBSERVER)),t9(20,q()),t9(21,F(m.INTERACTION_OBSERVER)),t9(21,q()),t9(22,F(m.RUNTIME_MEASUREMENT_PLUGIN)),t9(22,q())],t7),ee=n(118);function en(){return(en=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var er=function(){function t(t){this.userFormatInfo={},this.userFormatInfoV2={},this.enableAdTracking=!0,this.offsiteAdInfo={},this.tt_test_id="",this.signalDiagnosticLabels=en({},tI.N4),this.pageCookieBasedSession=tS(),this.init(t)}var e=t.prototype;return e.init=function(t){this.userInfo={},this.adInfo={},this.appInfo={},this.pageInfo={url:"",referrer:""},this.pageSign={sessionId:"",pageId:""},this.libraryInfo=t},e.getAllData=function(){return{userInfo:this.userInfo,adInfo:this.adInfo,appInfo:this.appInfo,libraryInfo:this.libraryInfo,pageInfo:this.pageInfo,pageSign:this.pageSign,signalType:this.signalType,userFormatInfo:this.userFormatInfo,userFormatInfoV2:this.userFormatInfoV2,enableAdTracking:this.enableAdTracking,offsiteAdInfo:this.offsiteAdInfo,tt_test_id:this.tt_test_id}},e.getLibraryInfo=function(){return this.libraryInfo},e.setSignalType=function(t){this.signalType=t},e.getSignalType=function(){return this.signalType},e.setTestID=function(t){this.tt_test_id=t},e.getTestID=function(){return this.tt_test_id},e.setEnableAdTracking=function(t){this.enableAdTracking=t},e.getEnableAdTracking=function(){return this.enableAdTracking},e.setOffsiteAdInfo=function(t){this.offsiteAdInfo=Object.assign({},this.offsiteAdInfo,t)},e.getOffsiteAdInfo=function(){return this.offsiteAdInfo},e.getUserFormatInfo=function(){return this.userFormatInfo},e.setUserFormatInfo=function(t){void 0===t&&(t={}),Object.assign(this.userFormatInfo,t)},e.getUserFormatInfoV2=function(){return this.userFormatInfoV2},e.setUserFormatInfoV2=function(t){void 0===t&&(t={}),Object.assign(this.userFormatInfoV2,t)},e.setUserInfo=function(t){void 0===t&&(t={}),Object.assign(this.userInfo,t)},e.setUserInfoWithoutIdentifyPlugin=function(t){t&&Object.assign(this.userInfo,t)},e.getUserInfo=function(){return this.userInfo},e.getAdInfo=function(){return this.adInfo},e.setAdInfo=function(t){t&&(this.adInfo?this.adInfo=Object.assign({},this.adInfo,t):this.adInfo=t)},e.getAppInfo=function(){return this.appInfo},e.setAppInfo=function(t){t&&(this.appInfo=Object.assign({},this.appInfo,t))},e.getPageInfo=function(){return this.pageInfo},e.getPageSign=function(){return this.pageSign},e.setPageInfo=function(t,e){var n=en({},this.pageInfo),r=en({},this.pageSign);if(n.url!==t){var o=n.url;if(void 0!==n.url&&(n.referrer=n.url),void 0!==e&&(n.referrer=e),void 0!==r.pageIndex){var i=r.pageIndex,a=i.index,c=i.sub,u=i.main;r.pageIndex={index:++a,sub:++c,main:u}}return n.url=t,this.pageInfo=n,this.pageSign=r,{from:o,pageIndex:r.pageIndex}}},e.setPageInfoData=function(t){this.pageInfo=Object.assign({},this.pageInfo,t)},e.getSessionIdFromCache=function(){return null},e.setSessionIdToCache=function(t){},e.setSignalDiagnosticLabels=function(t){Object.assign(this.signalDiagnosticLabels,t)},e.getSignalDiagnosticLabels=function(){return this.signalDiagnosticLabels},e.getPageId=function(t){return void 0===t&&(t=""+Date.now()),t+"-"+(0,p.$j)(5)},e.getPageViewId=function(){var t=this.pageSign,e=t.pageId,n=t.pageIndex;return""+e+(n?"."+n.main+"."+n.sub:"")},e.getVariationId=function(){return""},e.getVids=function(){return""},e.isLegacyPixel=function(t){return!1},e.initPageSign=function(){var t=this.getSessionIdFromCache();null===t&&(t=(0,tl.fV)(X.Qu),this.setSessionIdToCache(t));var e={sessionId:t,pageId:(0,tl.fV)(X.M0)};this.pageSign=e},e.getPageCookieBasedSession=function(){return this.pageCookieBasedSession},e.setPageCookieBasedSession=function(t){t&&(this.pageCookieBasedSession=t)},t}();function eo(t,e){return(eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}er=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],er);var ei=function(t,e){return function(n,r){e(n,r,t)}},ea=function(t){function e(e,n,r,o,i){var a;return(a=t.call(this,e)||this).setSignalType(i||_.S.OFFSITE),a.pageSign={sessionId:"",pageId:"",variationId:"",vids:"",pageIndex:{main:-1,sub:-1,index:-1}},a.legacy=r.legacy||[],a.variationId=r.variation_id||"",a.vids=r.vids||"",a.serverUniqueId=r.server_unqiue_id||"",a.ttqOptions=r,a.reportService=n,a.initPageSign(),(0,f.XA)(o)&&(0,f.gn)()&&(a.enableAdTracking=!1),a.data=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(a),a}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,eo(e,t);var n=e.prototype;return n.getSessionIdFromCache=function(){var t=null;try{t=JSON.parse(sessionStorage.getItem(X.Bp)||"")}catch(t){}return t},n.setSessionIdToCache=function(t){Y(X.Bp,t)},n.getVariationId=function(){return this.variationId},n.getVids=function(){return this.vids},n.isLegacyPixel=function(t){return(0,l.FH)(t,this.legacy)},n.assignPageInfo=function(t){Object.assign(this.pageInfo,t)},n.getSessionIndex=function(){var t={main:-1,sub:-1,index:-1};try{var e=JSON.parse(sessionStorage.getItem(X.AU)||"{}");if(e)return Object.assign({},t,e)}catch(t){}return t},n.setUserInfo=function(t){var e=this;if(void 0===t&&(t={}),0!==Object.keys(t).length){var n={};Object.entries(t).forEach(function(t){var r,o=t[0],i=t[1];if(i){if(o===ee.Sk)return void e.setUserInfoWithoutIdentifyPlugin(((r={})[ee.Sk]=i,r));n[o]=String(i).trim()}});var r=(0,l.Ie)(),o=null==r?void 0:r.getPlugin("Identify");o&&this.reportService.pushPreposition(o.handleUserProperties(n,t).then(function(t){void 0===t&&(t={});try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r={taskName:window.ttq._pf_tn||"identify_after_encryption",functionName:window.ttq._pf_tn&&"identify_after_encryption",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="identify_after_encryption")}}catch(t){}var i=t,a=i.userProperties,c=i.userDataFormat,u=i.userDataFormatV2;if(a){Object.assign(e.userInfo,a);var s=e.getUserFormatInfo()||{},l=e.getUserFormatInfoV2()||{},f=e.getSignalDiagnosticLabels()||{};if(e.setUserFormatInfo(Object.assign({},s,c)),e.setUserFormatInfoV2(Object.assign({},l,u)),e.setSignalDiagnosticLabels(Object.assign({},f,t.identifierLabel||{})),0===Object.keys(e.userInfo).length||1===Object.keys(n).length&&Object.keys(n).includes("external_id"))return;var p=o.reporters[0]||null,h=p?Object.keys(Object.assign({},p.getUserInfo(tI.Ts.Manual),p.getUserInfo(tI.Ts.Auto),p.getUserInfo(tI.Ts.EBManual))):[];p&&h.length&&p.track("EnrichAM",{},{},ig.TRACK)}try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"identify_after_encryption"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}}).catch(function(t){(0,u.vU)(s.O.API_ERROR,t,{extJSON:{api:"identify"}})}))}},n.initPageSign=function(){var t=this.getSessionIdFromCache();null===t&&(t=(0,p.LT)(this.serverUniqueId),this.setSessionIdToCache(t));var e=this.getPageId((0,p.eD)(t)),n=this.getVariationId(),r=this.getSessionIndex();r.main++,this.pageSign={sessionId:t,pageId:e,variationId:n,pageIndex:r}},n.setPageCookieBasedSession=function(e){var n=tZ("",e,this.ttqOptions);t.prototype.setPageCookieBasedSession.call(this,n)},e}(er);ea=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),ei(0,F(g.M.WebLibraryInfo)),ei(1,F(m.REPORT_SERVICE)),ei(2,F(m.TTQ_GLOBAL_OPTIONS)),ei(3,F(m.ENV)),ei(3,q()),ei(4,F(g.M.SignalType)),ei(4,q())],ea);var ec=String.fromCharCode.bind(String),eu=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),es=function(t){for(var e,n,r,o,i="",a=t.length%3,c=0;c<t.length;){if((n=t.charCodeAt(c++))>255||(r=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw TypeError("invalid character found");i+=eu[(e=n<<16|r<<8|o)>>18&63]+eu[e>>12&63]+eu[e>>6&63]+eu[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},el=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?ec(192|e>>>6)+ec(128|63&e):ec(224|e>>>12&15)+ec(128|e>>>6&63)+ec(128|63&e)}var n=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return ec(240|n>>>18&7)+ec(128|n>>>12&63)+ec(128|n>>>6&63)+ec(128|63&n)},ef=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ep=function(t){return es(JSON.stringify(t).replace(ef,el)).replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"===t?"-":"_"})};function eh(){eh=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ed(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}var ev=function(){function t(t,e,n){this.httpService=t,this.bridgeService=e,this.reportPreTasks=n}var e,n,r=t.prototype;return r.pushPreposition=function(t){this.reportPreTasks.push(t)},e=eh().mark(function t(e,n,r,o){return eh().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}},t)}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){ed(i,r,o,a,c,"next",t)}function c(t){ed(i,r,o,a,c,"throw",t)}a(void 0)})},r.report=function(t,e,r,o){return n.apply(this,arguments)},t}();ev=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],ev);var e_=function(t,e){var n=new URL(t);return Object.keys(e).forEach(function(t){var r=e[t].toJSON?e[t].toJSON():String(e[t]);n.searchParams.set(t,r)}),n.toString()},em=function(t){var e=Array(t.length),n=0;return new Promise(function(r,o){for(var i=function(o){var i=t[o];i&&"function"==typeof i.then?i.then(function(i){e[o]={status:"fulfilled",value:i},++n===t.length&&r(e)}).catch(function(i){e[o]={status:"rejected",reason:i},++n===t.length&&r(e)}):(e[o]={status:"fulfilled",value:i},++n===t.length&&r(e))},a=0;a<t.length;a++)i(a)})};(o$=iO||(iO={}))[o$.PENDING=0]="PENDING",o$[o$.FULFILLED=1]="FULFILLED";var eg=function(){function t(){this.promiseQueue=[],this.status=iO.FULFILLED}var e=t.prototype;return e.push=function(t){this.status=iO.PENDING,this.promiseQueue.push(t)},e.then=function(t){var e,n=this;return this.status===iO.FULFILLED?Promise.resolve(t()):(e=this.promiseQueue,"function"==typeof Promise.allSettled?Promise.allSettled(e):em(e)).then(function(){return n.status=iO.FULFILLED,t()})},t}();function ey(){ey=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function eE(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function ew(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){eE(i,r,o,a,c,"next",t)}function c(t){eE(i,r,o,a,c,"throw",t)}a(void 0)})}}function eb(t,e){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var eO=function(t,e){return function(n,r){e(n,r,t)}},eI=function(t){function e(e,n,r,o){var i;return(i=t.call(this,e,n,new eg)||this).supportSendAnalyticsEvent=!0,i.consentService=r,i.consentService.on(il.QUEUE,function(t){t.forEach(function(t){var e=t.url,n=t.data,r=t.type;i.report(e,n,r,iw.P0)})}),i.env=o,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,eb(e,t);var n,r,o,i=e.prototype;return n=ew(ey().mark(function t(e,n,r){var o,i,a,c,l,h,d;return ey().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bridgeService.jsbridge){t.next=2;break}return t.abrupt("return");case 2:return h=!!(l=n).context&&(null==(i=null==(o=l.context)?void 0:o.ad)?void 0:i.ad_info_status)==="timeout",d={},t.prev=5,t.next=8,this.bridgeService.send(l,h);case 8:if(!(!(d=t.sent)||1!==d.code)){t.next=11;break}throw Error("[fetch bridge] sendLog error: code "+(d&&d.code)+", data: "+(d&&JSON.stringify(d)));case 11:return(0,p.WZ)(l.event)&&(0,u.um)(s.O.JSB_SEND,{pixelCode:null==(a=l.context.pixel)?void 0:a.code,app_name:(0,f.bp)()?"ultralite":"",extJSON:{event:l.event,event_id:l.event_id,need_inject_ad_info:h}}),t.abrupt("return",d);case 15:t.prev=15,t.t0=t.catch(5),(0,p.WZ)(l.event)&&(0,u.vU)(s.O.JSB_ERROR,t.t0,{pixelCode:null==(c=l.context.pixel)?void 0:c.code,custom_name:"sendReportData",custom_enum:d&&d.code?""+d.code:"non",app_name:(0,f.PO)()||"",extJSON:{position:"sendReportData"}}),(0,f.bp)()&&(0,f.Dt)()&&this.sendHttpReport(e,l,r);case 19:case"end":return t.stop()}},t,this,[[5,15]])})),i.send=function(t,e,r){return n.apply(this,arguments)},r=ew(ey().mark(function t(e,n,r,o,i){var a;return ey().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!0),t.next=3,this.httpService.send(e,n,i);case 3:t.sent||this.httpService.sendByImage(e,{analytics_message:r}),o&&(0,u.um)(s.O.HTTP_SEND,{pixelCode:null==(a=n.context.pixel)?void 0:a.code,extJSON:{event:n.event,event_id:n.event_id}});case 6:case"end":return t.stop()}},t,this)})),i.sendHttpReport=function(t,e,n,o,i){return r.apply(this,arguments)},i.beforeReport=function(t,e,n){void 0===n&&(n=iE.defaultReport);var r=this.consentService.getConsentMode();return r!==tI._R.REVOKE&&(r!==tI._R.HOLD||(this.consentService.cacheReportTask(t,e,n),!1))},o=ew(ey().mark(function t(e,n,r,o){var i,a,c,l;return ey().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=iE.defaultReport),void 0===o&&(o=iw.P0),o===iw.P0){t.next=8;break}return t.next=5,(0,p._v)(0);case 5:return t.next=7,this.report(e,n,r,iw.P0);case 7:case 15:return t.abrupt("return",t.sent);case 8:if(this.beforeReport(e,n,r)){t.next=11;break}return t.abrupt("return");case 11:if(i=ep(n),!(r===iE.defaultReport&&this.bridgeService.jsbridge)){t.next=16;break}return t.next=15,this.send(e,n,i);case 16:if(!(r===iE.httpReport&&this.bridgeService.jsbridge&&(0,f.XA)(this.env)&&!(0,f.NC)()&&this.supportSendAnalyticsEvent)){t.next=35;break}return a=e,t.prev=18,a=new URL(e).pathname,t.next=22,this.bridgeService.sendAnalyticsEvent({path:a,method:"POST",data:n});case 22:if(l=Error("sendAnalyticsEvent not support: code "+(c=t.sent)+", path: "+a+", data: "+JSON.stringify(n)),null!=c&&-2!==c){t.next=27;break}throw this.supportSendAnalyticsEvent=!1,l;case 27:if(1!==c){t.next=29;break}return t.abrupt("return");case 29:throw l;case 32:t.prev=32,t.t0=t.catch(18),(0,u.vU)(s.O.CUSTOM_ERROR,t.t0,{custom_name:"sendAnalyticsEvent",custom_enum:String(c)},!0);case 35:this.sendHttpReport(e,n,i,!!((0,p.WZ)(n.event)&&(0,p.Pm)(n)),n.action?3:void 0);case 36:case"end":return t.stop()}},t,this,[[18,32]])})),i.report=function(t,e,n,r){return o.apply(this,arguments)},i.reportFL=function(t){this.bridgeService.jsbridge&&this.bridgeService.updateWebFlData(t)},e}(ev);function eT(){eT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function eR(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}eI=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),eO(0,F(m.HTTP_SERVICE)),eO(1,F(m.BRIDGE_SERVICE)),eO(2,F(m.CONSENT_SERVICE)),eO(3,F(m.ENV)),eO(3,q())],eI);var eS=function(){function t(t){this.webBridgeService=t}var e,n,r=t.prototype;return e=eT().mark(function t(e,n){var r,o,i;return eT().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.getAdInfoFromURL(e,n),!this.webBridgeService.jsbridge){t.next=7;break}return t.next=4,this.webBridgeService.getAdInfo();case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0={};case 8:return o=t.t0,(i=Object.assign({},r,o))&&(i.creative_id&&i.log_extra||i.callback)&&Y(X.dm,i),t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){eR(i,r,o,a,c,"next",t)}function c(t){eR(i,r,o,a,c,"throw",t)}a(void 0)})},r.getAdInfo=function(t,e){return n.apply(this,arguments)},r.getAdInfoFromURL=function(t,e){return tc(t,e)},t}();function eN(){eN=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function eA(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}eS=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),(o0=F(m.BRIDGE_SERVICE),function(t,e){o0(t,e,0)})],eS);var eP=function(){function t(t){this.webBridgeService=t}var e,n,r=t.prototype;return e=eN().mark(function t(e,n){var r,o,i,a;return eN().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=this.getAppInfoFromURL(e,n)).platform=(0,f.Xf)(),!(0,f.Dt)()){t.next=10;break}return t.next=5,(0,f.sH)();case 5:i=(o=t.sent).model,a=o.platformVersion,r.device_model=i,r.android_version=a;case 10:return(0,tl.Qr)(r)||Y(X.Cd,r),t.abrupt("return",r);case 12:case"end":return t.stop()}},t,this)}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){eA(i,r,o,a,c,"next",t)}function c(t){eA(i,r,o,a,c,"throw",t)}a(void 0)})},r.getAppInfo=function(t,e){return n.apply(this,arguments)},r.getAppInfoFromURL=function(t,e){try{var n=H(ta,t,e),r=n&&JSON.parse(n),o=r.device_id,i=r.uid;return{device_id:o,user_id:i}}catch(t){return{}}},t}();eP=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),(o1=F(m.BRIDGE_SERVICE),function(t,e){o1(t,e,0)})],eP);var eL="ad_analytics_msg";function ex(){ex=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function eC(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function ek(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){eC(i,r,o,a,c,"next",t)}function c(t){eC(i,r,o,a,c,"throw",t)}a(void 0)})}}var eD=function(t,e){return function(n,r){e(n,r,t)}},eM=function(){function t(t,e){this.env=t,(0,f.Z0)(this.env)&&(this.jsbridge=e),this.bridgeTimeout=400}var e,n,r,o,i,a,c,l=t.prototype;return e=ek(ex().mark(function t(){var e=this;return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=3;break}return(0,u.vU)(s.O.JSB_ERROR,Error("tt bridge error when getting ad info"),{extJSON:{position:"getAdInfo"}}),t.abrupt("return",Promise.resolve({}));case 3:return t.abrupt("return",new Promise(function(){var t=ek(ex().mark(function t(n){var r;return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.callAdInfo();case 3:(r=t.sent).ad_info_from="jsb",r.ad_info_status=r.ad_info_status||"fulfilled",n(r),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n({}),(0,u.vU)(s.O.JSB_ERROR,t.t0,{extJSON:{position:"getAdInfo"}});case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}},t,this)})),l.getAdInfo=function(){return e.apply(this,arguments)},n=ek(ex().mark(function t(){var e,n;return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.call("adInfo",{},(0,f.zd)()?3500:5e3);case 3:if((e=t.sent).data){t.next=6;break}return t.abrupt("return",Promise.reject("adInfo no data"));case 6:return n={creative_id:e.data.cid,log_extra:e.data.log_extra},t.abrupt("return",n);case 10:if(t.prev=10,t.t0=t.catch(0),"JSBRIDGE TIMEOUT"!==t.t0){t.next=17;break}return(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"ad_info_init_timeout"}),t.abrupt("return",{ad_info_status:"timeout"});case 17:return(0,u.vU)(s.O.JSB_ERROR,t.t0,{extJSON:{position:"getAdInfo"}}),t.abrupt("return",{});case 19:case"end":return t.stop()}},t,this,[[0,10]])})),l.callAdInfo=function(){return n.apply(this,arguments)},r=ek(ex().mark(function t(){return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve({}));case 1:case"end":return t.stop()}},t)})),l.getAppInfo=function(){return r.apply(this,arguments)},o=ek(ex().mark(function t(e,n){var r,o,i,a,c,l,h,d,v,_,m,g;return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return i=(null==(o=null==(r=null==e?void 0:e.context)?void 0:r.ad)?void 0:o.creative_id)||"0",a=ep(e),c=(0,p.Xu)(e),l={analytics_message:a,trackLogData:JSON.stringify(e),category:"ad_analytics_msg",tag:eL,label:c},(0,f.NC)()&&(l.is_ad_event=1),v={eventName:eL,labelName:c,value:i,extValue:"0",extJson:l},"insight_log_monitor"===c&&(0,f.z1)()?(d="x.reportAppLog",_={eventName:"insight_log_monitor",params:l},h=this.call("x.reportAppLog",_,this.bridgeTimeout)):(0,f.zP)()||(0,p.iE)(e)?(d="sendLog",h=this.call("sendLog",v,this.bridgeTimeout)):(0,f.XA)(this.env)?(0,f.gn)()&&n?(m={eventName:c,params:l},d="sendLogWithAdInfo",h=this.call("sendLogWithAdInfo",m,this.bridgeTimeout)):(d="sendLog",h=this.call("sendLog",v,this.bridgeTimeout)):(g={event_name:c,version:2,properties:l},d="track_event",h=this.call("track_event",g,400)),setTimeout(function(){(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"send_report_data",extJSON:{api_name:d}})}),t.abrupt("return",h);case 11:case"end":return t.stop()}},t,this)})),l.send=function(t,e){return o.apply(this,arguments)},i=ek(ex().mark(function t(e,n,r,o){var i=this;return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),void 0===r&&(r=400),void 0===o&&(o=!0),t.abrupt("return",new Promise(function(t,a){var c;if(!i.jsbridge){a("JSBRIDGE ERROR"),o&&(0,u.vU)(s.O.JSB_ERROR,Error("JSBRIDGE ERROR"),{extJSON:{position:"getCallPromise"}});return}r>0&&(c=window.setTimeout(function(){a("JSBRIDGE TIMEOUT"),o&&(0,u.vU)(s.O.JSB_ERROR,Error("JSBRIDGE TIMEOUT"),{extJSON:{position:"getCallPromise",method:e}})},r)),i.jsbridge&&i.jsbridge.call&&i.jsbridge.call(e,n,function(e){t(function(t,e){void 0===e&&(e=!0);var n={};try{if("string"==typeof t)n.data=JSON.parse(t);else if(t.code&&t.data&&t.ret?0:1)if(void 0!==t.code){var r=Object.assign({},t),o=r.code;n.code=o,delete r.code,r.data?n.data=r.data:n.data=r}else n.data=t;else(n=t).__data&&(n.data=n.__data)}catch(t){e&&(0,u.vU)(s.O.JSB_ERROR,t,{extJSON:{position:"getCallPromise bridge.call"}})}return n}(e,o)),window.clearTimeout(c)})}));case 4:case"end":return t.stop()}},t)})),l.call=function(t,e,n,r){return i.apply(this,arguments)},a=ek(ex().mark(function t(e){var n,r,o,i,a;return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.method,r=e.path,o=e.params,i=e.data,t.next=3,this.call("sendAnalyticsEvent",{method:n,path:r,params:o,data:i,header:{"Content-Type":"application/json"}},0,!1);case 3:return a=t.sent,t.abrupt("return",null==a?void 0:a.code);case 5:case"end":return t.stop()}},t,this)})),l.sendAnalyticsEvent=function(t){return a.apply(this,arguments)},c=ek(ex().mark(function t(e){return ex().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((0,f.XA)(this.env)&&(0,f.gn)())){t.next=2;break}return t.abrupt("return",this.call("updateFLLocalConv",e,this.bridgeTimeout));case 2:case"end":return t.stop()}},t,this)})),l.updateWebFlData=function(t){return c.apply(this,arguments)},t}();function ej(){ej=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function eU(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}eM=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),eD(0,F(m.ENV)),eD(0,q()),eD(1,F(m.JS_BRIDGE)),eD(1,q())],eM);var eF=function(){function t(){}var e,n,r=t.prototype;return e=ej().mark(function t(e,n,r){var o;return ej().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=0),t.prev=1,!(!navigator||!navigator.sendBeacon)){t.next=4;break}return t.abrupt("return",!1);case 4:if(!(!(o=navigator.sendBeacon(e,JSON.stringify(n)))&&"number"==typeof r&&r>0)){t.next=10;break}return r--,t.next=9,(0,p._v)(200);case 9:return t.abrupt("return",this.send(e,n,r));case 10:return t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this,[[1,13]])}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){eU(i,r,o,a,c,"next",t)}function c(t){eU(i,r,o,a,c,"throw",t)}a(void 0)})},r.send=function(t,e,r){return n.apply(this,arguments)},r.sendByImage=function(t,e){new Image().src=e_(t,e)},t}();function eq(){eq=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function eG(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}eF=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],eF);var eH=function(){function t(t){this.cookieExpireOption=th(t)}var e,n,r=t.prototype;return r.genCookieID=function(){return(0,p.d$)()},e=eq().mark(function t(){return eq().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return tg(X.ct,"1",this.cookieExpireOption),t.abrupt("return",tD((0,p.TX)()));case 2:case"end":return t.stop()}},t,this)}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){eG(i,r,o,a,c,"next",t)}function c(t){eG(i,r,o,a,c,"throw",t)}a(void 0)})},r.enableCookie=function(){return n.apply(this,arguments)},r.enableFirstPartyCookie=function(t){if(t){tg(X.ct,"1",this.cookieExpireOption);var e=this.getAnonymousId();this.setAnonymousId(e||this.genCookieID())}},r.disableCookie=function(){tg(X.ct,"0",this.cookieExpireOption),tg(X.qC,"",Object.assign(this.cookieExpireOption,{expires:-1})),tD((0,p.X1)())},r.setAnonymousId=function(t){var e=this.getAnonymousId()||t;if(e){var n=e.split(".")[0];tg(X.qC,n,this.cookieExpireOption)}},r.getAnonymousId=function(){return tm(X.qC)||""},r.canUseCookie=function(){try{return"0"!==tm(X.ct)}catch(t){}return!1},r.resetExpires=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"resetExpires",start:performance.now()}}catch(t){}var e=tm(X.ct);e&&tg(X.ct,e,this.cookieExpireOption);var n=this.getAnonymousId();n&&this.setAnonymousId(n);try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}},t}();function eV(t,e){return(eV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}eH=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),(o2=F(m.TTQ_GLOBAL_OPTIONS),function(t,e){o2(t,e,0)})],eH),(o3=iI||(iI={}))[o3.P0=4]="P0",o3[o3.P1=3]="P1",o3[o3.P2=2]="P2",o3[o3.P3=1]="P3";var eB="tt_hold_events",eW=function(t){function e(){var e;return e=t.apply(this,arguments)||this,e.consentMode=tI._R.UNKNOWN,e.queue=[],e.debounceUpdateCache=(0,p.Ds)(function(){e.updateCache()},200,function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.handleHistoryQueue=(0,p.IH)(function(){var t=W(eB);Array.isArray(t)&&(e.queue=e.queue.concat(t),e.changeQueueWithConsent())}),e}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,eV(e,t);var n=e.prototype;return n.on=function(e,n){t.prototype.on.call(this,e,n,{}),this.handleHistoryQueue()},n.setConsentMode=function(t){this.consentMode=t,this.changeQueueWithConsent()},n.changeQueueWithConsent=function(){switch(this.consentMode){case tI._R.REVOKE:this.cleanQueue();break;case tI._R.GRANT:this.releaseQueue(),this.cleanQueue();case tI._R.HOLD:case tI._R.UNKNOWN:}},n.getConsentMode=function(){return this.consentMode},n.cacheReportTask=function(t,e,n){void 0===n&&(n=iE.defaultReport),this.queue.push({url:t,data:e,type:n}),this.debounceUpdateCache()},n.cleanQueue=function(){this.queue=[],K(eB)},n.updateCache=function(){this.queue&&this.queue.length>0&&Y(eB,this.queue)},n.releaseQueue=function(){var t=this;this.queue.sort(function(e,n){return t.getEventPriority(n.data)-t.getEventPriority(e.data)}),this.emit(il.QUEUE,this.queue)},n.getEventPriority=function(t){return t.event&&t.event.length>0?iI.P0:t.action&&t.action.length>0?iI.P1:""===t.event?iI.P2:iI.P3},e}(tG);eW=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],eW);var eK=function(){function t(t){var e=t.name,n=t.context,r=t.reporters;this.reporters=[],this.context=n,this.reporters=r,this.name=e}var e=t.prototype;return e.initStart=function(){},e.initEnd=function(){},e.adInfoInitStart=function(){},e.adInfoInitEnd=function(){},e.contextInitStart=function(){},e.contextInitEnd=function(){},e.pageUrlWillChange=function(t,e){},e.pageUrlDidChange=function(t,e){},e.pageDidLoad=function(){},e.pageWillLeave=function(t){},e.pixelSend=function(t,e,n,r,o){},e.pixelDidMount=function(t){},e.patchEnd=function(){},t}();function eY(t,e){return(eY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var eX=function(t){function e(){return t.apply(this,arguments)||this}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,eY(e,t),e}(eK=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U()],eK));function eJ(t,e){return(eJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var eZ=function(t,e){return function(n,r){e(n,r,t)}},eQ=function(t){function e(e,n){var r;return(r=t.call(this,{name:"Callback",reporters:n,context:e})||this).ttclidCookieValue="undefined"!=typeof document?tm(ti):"",r}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,eJ(e,t),e.prototype.pixelDidMount=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"callback_plugin_pixelDidMount",start:performance.now()}}catch(t){}var n=V(),r=H(ti,n.url,n.referrer);r&&this.ttclidCookieValue!==r&&tp(ti,r);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},e}(eX);eQ=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),eZ(0,F(m.CONTEXT)),eZ(1,F(m.TTQ_REPORTERS))],eQ);var ez={isHash:function(t){return!1},genIdentifierLabelByUserProperties:function(t){return{}}},e$={validatePhoneNumberLength:function(t){},parsePhoneNumberFromString:function(t){}},e0={tryDecodeHashedBase64String:function(t){return null},tryDecodeHashedBase64Hex:function(t){return null}},e1={checkEmailFormat:function(t){return!1},checkMDNEmailFormat:function(t){return!1}},e2=function(t){var e=t.parsePhoneNumberFromString,n=t.validatePhoneNumberLength;e$.parsePhoneNumberFromString=e,e$.validatePhoneNumberLength=n},e3=function(t){var e=t.isHash,n=t.genIdentifierLabelByUserProperties;ez.isHash=e,ez.genIdentifierLabelByUserProperties=n},e6=function(t){var e=t.tryDecodeHashedBase64String,n=t.tryDecodeHashedBase64Hex;e0.tryDecodeHashedBase64String=e,e0.tryDecodeHashedBase64Hex=n},e5=function(t){var e=t.checkEmailFormat,n=t.checkMDNEmailFormat;e1.checkEmailFormat=e,e1.checkMDNEmailFormat=n},e8=function(t){var e=t.parsePhoneNumberFromString,n=t.validatePhoneNumberLength,r=t.isHash,o=t.genIdentifierLabelByUserProperties,i=t.tryDecodeHashedBase64String,a=t.tryDecodeHashedBase64Hex,c=t.checkEmailFormat,u=t.checkMDNEmailFormat,s=t.sha256;e5({checkEmailFormat:c,checkMDNEmailFormat:u}),e6({tryDecodeHashedBase64String:i,tryDecodeHashedBase64Hex:a}),e3({isHash:r,genIdentifierLabelByUserProperties:o}),e2({parsePhoneNumberFromString:e,validatePhoneNumberLength:n}),(0,p.ZV)(s)},e4=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=e$.parsePhoneNumberFromString);var r=t,o=e?n(t,e):n(t);return o?r="86"===o.countryCallingCode?o.nationalNumber:o.number:t.replace(/[^0-9]/g,"").length>0&&(r=t.replace(/[^0-9]/g,"")),r},e9=["(null)","","''\"",void 0,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","eb045d78d273107348b0300c01d29b7552d622abbc6faf81b3ec55359aa9950c","not set",null,"6181738008c985a1b5f106b796c98e719efcc3c0ff68ddcd14a049825f4900a8","2a539d6520266b56c3b0c525b9e6128858baeccb5ee9b694a2906e123c8d6dd3","c6e52c372287175a895926604fa738a0ad279538a67371cd56909c7917e69ea1","None","74234e98afe7498fb5daf1f36ac2d78acc339464f950703b8c019892f982b90b","f24f02d3c35894296522abac8c4b2439b1c1b650e1fb4c97c0f3c50b580b0a3c","no","a683c5c5349f6f7fb903ba8a9e7e55d0ba1b8f03579f95be83f4954c33e81098","f18a2548c063c5a2b1560c6f2b9ec44bf9ed9017884404016d74f330119aaefe","449f06574cd639e1826848ff5d70ba95904574be84f34e61baa526d517dfb493","fcbcf165908dd18a9e49f7ff27810176db8e9f63b4352213741664245224f8aa","NA","bc857c49633bbc75644c51f36b16b2f768cc0ee13f65402ec7c32c96308272dd","42cbf37902c6911d7b4e371fe8f8708a0ceda6946249d4a3e23de8d5e60ae8b7"];function e7(t,e){return(e7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){function e(e){var n=e.name,r=e.context,o=e.reporters;return t.call(this,{name:n,reporters:o,context:r})||this}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,e7(e,t);var n=e.prototype;return n.setIdentifyUtils=function(t){var e=t.isHash,n=t.sha256,r=t.genIdentifierLabelByUserProperties,o=t.tryDecodeHashedBase64String,i=t.tryDecodeHashedBase64Hex,a=t.validatePhoneNumberLength,c=t.parsePhoneNumberFromString,u=t.checkEmailFormat,s=t.checkMDNEmailFormat,l=t.getCookieDeprecationLabel,f=t.getAllTopics;e8({isHash:e,sha256:n,genIdentifierLabelByUserProperties:r,tryDecodeHashedBase64String:o,tryDecodeHashedBase64Hex:i,validatePhoneNumberLength:a,parsePhoneNumberFromString:c,checkEmailFormat:u,checkMDNEmailFormat:s}),this.parsePhoneNumberFromString=c,this.checkMDNEmailFormat=s,this.checkEmailFormat=u,this.sha256=n,this.getCookieDeprecationLabel=void 0===l?function(){}:l,this.getAllTopics=void 0===f?function(){}:f},n.baseHandleUserProperties=function(t,e){var n=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r={taskName:window.ttq._pf_tn||"identify_encryption",functionName:window.ttq._pf_tn&&"identify_encryption",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="identify_encryption")}}catch(t){}if(t){var o=this.identifyParamsFormattedInfo(t),i=this.identifyParamsFormattedInfoV2(t),a=ez.genIdentifierLabelByUserProperties(e);this.handlePIIDiagnostics(i),Object.entries(t).forEach(function(e){var r=e[0],o=e[1],a=void 0===o?"":o;if(a){var c=String(a);if(["email","phone_number","sha256_email","sha256_phone_number"].includes(r)){var u=n.getUserDataFormatInfoV2KeyName(r),s=e0.tryDecodeHashedBase64Hex(c);if(null!==s)t[r]=s,null!==u&&(i=n.updateUserDataFormatV2Label(u,tI.Vp.BASE64_HEX_HASHED,i));else{var l=e0.tryDecodeHashedBase64String(c);l&&(t[r]=l,null!==u&&(i=n.updateUserDataFormatV2Label(u,tI.Vp.BASE64_STRING_HASHED,i)))}}switch("zip_code"===r&&c&&(ez.isHash(c)?i=n.updateUserDataFormatV2Label("zip_code",tI.Vp.ZIP_CODE_IS_HASHED,i):(i=n.updateUserDataFormatV2Label("zip_code",tI.Vp.ZIP_CODE_IS_NOT_HASHED,i),n.isZipFromUs(t)?(t.zip_code=n.sha256(n.truncateString(c,5)),i=n.updateUserDataFormatV2Label("zip_code",tI.Vp.ZIP_CODE_IS_US,i)):(t.zip_code=n.sha256(c),i=n.updateUserDataFormatV2Label("zip_code",tI.Vp.ZIP_CODE_IS_NOT_US,i)))),r){case"email":t.email=ez.isHash(c)&&!n.checkEmailFormat(c)?c:n.sha256(n.handleEmail(c));break;case"eb_email":t.eb_email=n.sha256(n.handleEmail(c));break;case"phone_number":t.phone_number=ez.isHash(c)?c:n.sha256(n.handlePhoneNumber(c));break;case"eb_phone_number":t.eb_phone_number=n.sha256(n.handlePhoneNumber(c));break;case"auto_email":t.auto_email=n.sha256(n.handleEmail(c));break;case"auto_phone_number":t.auto_phone_number=n.sha256(n.handlePhoneNumber(c));break;case"first_name":t.first_name=ez.isHash(c)?c:n.sha256(c);break;case"last_name":t.last_name=ez.isHash(c)?c:n.sha256(c);break;case"city":t.city=n.truncateString(c,80);break;case"state":t.state=n.truncateString(c,80);break;case"country":t.country=n.truncateString(c,80);break;default:return}}}),t.sha256_email&&(t.email=this.handleCheckHashedEmailValue(String(t.sha256_email),o)),t.sha256_phone_number&&(t.phone_number=this.handleCheckHashedPhoneValue(String(t.sha256_phone_number),o));try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"identify_encryption"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}return{userProperties:t,userDataFormat:o,userDataFormatV2:i,identifierLabel:a}}},n.identifyParamsFormattedInfo=function(t){var e=this,n={},r=/^sha256_(.*)$/;return Object.entries(t).forEach(function(t){var o=t[0],i=t[1],a=String(void 0===i?"":i),c=o.match(r);switch(o){case"email":e.handleEmailFormat(a,o,n);break;case"phone_number":e.handlePhoneNumberFormat(a,"phone_number",n);break;case"auto_email":e.handleEmailFormat(a,"auto_email",n);break;case"auto_phone_number":e.handlePhoneNumberFormat(a,"auto_phone_number",n);break;case(c||{}).input:var u=null==c?void 0:c.pop();u&&ee.Ae.includes(u)&&(n[u]=[tI.hZ.HASHED]);break;case"first_name":case"last_name":case"city":case"state":case"country":case"zip_code":case"partner_id":e.handleNewPiisFormat(a,o,n);break;default:n[o]=[tI.hZ.CORRECT_FORMAT]}}),n},n.identifyParamsFormattedInfoV2=function(t){var e=this,n={};return Object.entries(t).forEach(function(t){var r=t[0],o=t[1],i=String(void 0===o?"":o);switch(r){case"email":e.handlePixelValidation(i,ee.X2.EMAIL_IS_HASHED,n);break;case"phone_number":e.handlePixelValidation(i,ee.X2.PHONE_IS_HASHED,n);break;case"sha256_email":e.handlePixelValidation(i,ee.X2.SHA256_EMAIL,n);break;case"sha256_phone_number":e.handlePixelValidation(i,ee.X2.SHA256_PHONE,n);break;case"first_name":case"last_name":case"city":case"state":case"country":case"zip_code":case"partner_id":break;default:n[r]=[tI.Vp.UNKNOWN_INVALID]}}),n},n.updateUserDataFormatV2Label=function(t,e,n){var r,o;return(null===n[t]||void 0===n[t]||(null==(r=n[t])?void 0:r.includes(tI.Vp.UNKNOWN_INVALID)))&&(n[t]=[]),null==(o=n[t])||o.push(e),n},n.getUserDataFormatInfoV2KeyName=function(t){return({email:"email_is_hashed",phone_number:"phone_is_hashed",sha256_email:"sha256_email",sha256_phone_number:"sha256_phone",zip_code:"zip_code"})[t]||null},n.handlePIIDiagnostics=function(t){},n.handleEmail=function(t){return t.toLowerCase()},n.handlePhoneNumber=function(t,e){return void 0===e&&(e=this.parsePhoneNumberFromString),e4(t,"",e)},n.handleCheckHashedEmailValue=function(t,e,n){return(void 0===n&&(n=this.checkEmailFormat),e.email=e.email||[],ez.isHash(t))?(null==e||e.email.push(tI.hZ.HASHED_CORRECT),t):n(t)?(null==e||e.email.push(tI.hZ.PLAINTEXT_EMAIL),this.sha256(this.handleEmail(String(t)))):(null==e||e.email.push(tI.hZ.HASHED_ERR),this.sha256(t))},n.handleCheckHashedPhoneValue=function(t,e,n){return(void 0===n&&(n=this.parsePhoneNumberFromString),e.phone_number=e.phone_number||[],ez.isHash(t))?(null==e||e.phone_number.push(tI.hZ.HASHED_CORRECT),t):n(t)?(e.phone_number.push(tI.hZ.PLAINTEXT_PHONE),this.sha256(this.handlePhoneNumber(String(t),n))):(null==e||e.phone_number.push(tI.hZ.HASHED_ERR),this.sha256(t))},n.handlePixelValidation=function(t,e,n){n[e]=[],e9.includes(t)&&n[e].push(tI.Vp.FILTER_EVENTS),t&&ez.isHash(t)&&n[e].push(tI.Vp.HASHED),t&&this.checkEmailFormat(t)&&n[e].push(tI.Vp.PLAIN_EMAIL),t&&this.checkMDNEmailFormat(t)&&n[e].push(tI.Vp.PLAIN_MDN_EMAIL),t&&this.parsePhoneNumberFromString(t)&&n[e].push(tI.Vp.PLAIN_PHONE),t&&0===n[e].length&&n[e].push(tI.Vp.UNKNOWN_INVALID)},n.isZipFromUs=function(t){var e;return(null==(e=t.country)?void 0:e.toLowerCase())==="us"},n.truncateString=function(t,e){var n=Array.from(t);return n.length<=e?t:n.slice(0,e).join("")},n.handlePhoneNumberFormat=function(t,e,n){var r=this.handleCheckPhoneNumber(String(t),this.parsePhoneNumberFromString);n[e]=r},n.handleCheckPhoneNumber=function(t,e){void 0===e&&(e=this.parsePhoneNumberFromString);var n=[];return t?ez.isHash(t)?n.push(tI.hZ.HASHED):e(t)?n.push(tI.hZ.CORRECT_FORMAT):n.push(tI.hZ.WRONG_FORMAT):n.push(tI.hZ.EMPTY_VALUE),n},n.handleCheckEmail=function(t,e){void 0===e&&(e=this.checkEmailFormat);var n=[];return t?ez.isHash(t)?n.push(tI.hZ.HASHED):e(t)?n.push(tI.hZ.CORRECT_FORMAT):n.push(tI.hZ.WRONG_FORMAT):n.push(tI.hZ.EMPTY_VALUE),n},n.handleEmailFormat=function(t,e,n){var r=this.handleCheckEmail(String(t),this.checkEmailFormat);n&&n[e]&&(n[e]||[]).includes(tI.hZ.HASHED)||(n[e]=r)},n.handleNewPiisFormat=function(t,e,n){t&&(n[e]=[tI.hZ.CORRECT_FORMAT])},e}(eX);function ne(){ne=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function nn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function nr(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){nn(i,r,o,a,c,"next",t)}function c(t){nn(i,r,o,a,c,"throw",t)}a(void 0)})}}function no(t,e){return(no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ni=function(t,e){return function(n,r){e(n,r,t)}},na=function(t){function e(e,n){var r;return(r=t.call(this,{name:"Identify",reporters:n,context:e})||this).init(),r}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,no(e,t);var n,r,o=e.prototype;return o.init=function(){var t=this;return this.pluginPromise||((0,u.um)(s.O.IDENTIFY_INIT_START),this.pluginPromise=tD((0,p.vO)()).then(function(){t.detectTopics(),(0,u.um)(s.O.IDENTIFY_INIT_END)}).catch(function(){var t=Error("Loading chunk identify failed.\n(error: "+window.location.host+"/static/identify.js)");return t.name="ChunkLoadError",Promise.reject(t)})),this.pluginPromise},n=nr(ne().mark(function t(e,n){return ne().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this.init();case 4:return t.abrupt("return",this.baseHandleUserProperties(e,n));case 5:case"end":return t.stop()}},t,this)})),o.handleUserProperties=function(t,e){return n.apply(this,arguments)},o.handlePIIDiagnostics=function(t){try{var e=t.email_is_hashed,n=void 0===e?[]:e,r=t.sha256_email,o=void 0===r?[]:r,i=t.phone_is_hashed,a=void 0===i?[]:i,c=t.sha256_phone,s=void 0===c?[]:c;if(n.includes(tI.Vp.UNKNOWN_INVALID)||o.includes(tI.Vp.UNKNOWN_INVALID))return void(0,u.ZK)(i_.INVALID_EMAIL_FORMAT);if(a.includes(tI.Vp.UNKNOWN_INVALID)||s.includes(tI.Vp.UNKNOWN_INVALID))return void(0,u.ZK)(i_.INVALID_PHONE_NUMBER_FORMAT);if(n.includes(tI.Vp.FILTER_EVENTS)||o.includes(tI.Vp.FILTER_EVENTS))return void(0,u.ZK)(i_.INVALID_EMAIL_INFORMATION);if(a.includes(tI.Vp.FILTER_EVENTS)||s.includes(tI.Vp.FILTER_EVENTS))return void(0,u.ZK)(i_.INVALID_PHONE_NUMBER_INFORMATION)}catch(t){}},r=nr(ne().mark(function t(){var e,n;return ne().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getCookieDeprecationLabel();case 3:return e=t.sent,t.next=6,this.getAllTopics();case 6:(n=t.sent)&&(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"topics",extJSON:{cookie_label:String(e),stack:n.toString()}}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}},t,this,[[0,10]])})),o.detectTopics=function(){return r.apply(this,arguments)},e}(nt);na=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),ni(0,F(m.CONTEXT)),ni(1,F(m.TTQ_REPORTERS))],na);var nc=function(t,e,n,r){try{var o=(0,l.Ie)().getEmitter();if(!o)return;var i=n.throttle,a=n.interval;o.on(t,e,{throttle:i,interval:a},{emitterType:t,listenEventTypes:[is.CLICK],environment:"window",pluginVersion:r||"v1"})}catch(e){(0,u.vU)(s.O.CUSTOM_ERROR,e,{custom_name:"addEventListener",custom_enum:t})}};(o6=iT||(iT={})).ERROR_FORMAT="error_format",o6.OVER_LENGTH="over_length_3e4",o6.FILTER_SENSITIVE_FIELDS="filter_sensitive_fields";var nu="form_detail_error";(o5=iR||(iR={})).GET_ELEMENTS_ERROR="get_elements_error",o5.INIT_ERROR="init_error",o5.ASSEMBLE_FORM_DETAIL_ERROR="assemble_form_detail_error",o5.DETECT_FORM_ELEMENT_ERROR="detect_form_element_error",o5.GET_OVERALL_FORM_DETAIL_ERROR="get_overall_form_detail_error",o5.FORM_OBSERVER_ERROR="form_observer_error",o5.OVER_LENGTH="over_length_3e4",(o8=iS||(iS={})).METADATA="Metadata",o8.CLICK="Click",(o4=iN||(iN={})).AUTO_COLLECTION="AUTO_COLLECTION",o4.AUTO_FORM="AUTO_FORM",o4.AUTO_CLICK="AUTO_CLICK",o4.AUTO_VC="AUTO_VC",o4.AUTO_VC_REVERSE="AUTO_VC_REVERSE",(o9=iA||(iA={})).AUTO_FORM="form_rules",o9.AUTO_VC="vc_rules",o9.AUTO_VC_REVERSE="vc_rules_reverse",(o7=iP||(iP={})).PAGE_LEAVE="PageLeave",o7.PAGE_VIEW="PageView",o7.DOM_CHANGE="DomChange",o7.URL_CHANGE="UrlChange",o7.CLICK="Click",o7.SCROLL="Scroll";var ns=["AnatomicalStructure","AnatomicalSystem","ApprovedIndication","ArriveAction","Artery","BioChemEntity","BloodTest","Bone","BorrowAction","BrainStructure","BrokerageAccount","CDCPMDRecord","ChemicalSubstance","CovidTestingFacility","DDxElement","DepartAction","DepositAccount","DiagnosticLab","DiagnosticProcedure","Diet","DietarySupplement","DoseSchedule","ElementarySchool","HighSchool","ExercisePlan","Gene","GovernmentBenefitsType","GovernmentService","HealthAspectEnumeration","HealthInsurancePlan","HealthPlanCostSharingSpecification","HealthTopicContent","Hospital","ImagingTest","InfectiousAgentClass","InvestmentFund","InvestmentOrDeposit","Invoice","Joint","LendAction","LifestyleModification","Ligament","LoanOrCredit","LymphaticVessel","MaximumDoseSchedule","MedicalAudience","MedicalAudienceType","MedicalCause","MedicalCode","MedicalCondition","MedicalConditionStage","MedicalContraindication","MedicalDevice","MedicalEntity","MedicalEvidenceLevel","MedicalGuidelineContraindication","MedicalIndication","MedicalIntangible","MedicalObservationalStudy","MedicalOrganization","MedicalProcedure","MedicalProcedureType","MedicalRiskCalculator","MedicalRiskFactor","MedicalRiskScore","MedicalSign","MedicalSignOrSymptom","MedicalStudy","MedicalSymptom","MedicalTest","MedicalTestPanel","MedicalTherapy","MedicalTrial","MiddleSchool","MoneyTransfer","Muscle","Nerve","OccupationalTherapy","Order","PalliativeProcedure","ParentAudience","PathologyTest","Patient","PeopleAudience","Person","Pharmacy","PhysicalActivity","PhysicalTherapy","Physician","PoliticalParty","Preschool","PreventionIndication","Protein","PsychologicalTreatment","RadiationTherapy","RecommendedDoseSchedule","ReportedDoseSchedule","School","Substance","SuperficialAnatomy","SurgicalProcedure","Text","TherapeuticProcedure","TreatmentIndication","URL","Vein","Vessel","VitalSign","WorkersUnion"];(it=iL||(iL={})).V1="v1",it.V2="v2";var nl={IRRELEVANT_KEYWORDS:new Set(["CLOSE","OPEN"]),TERMINATION_TAGS:new Set(["UL","OL","BODY","HTML","DOCUMENT","MAIN"]),VALID_IMG_KEYWORDS:new Set(["https","http","product","goods","img","image","jpg","jpeg","png","webp"]),INVALID_IMG_KEYWORDS:new Set(["icon","logo","svg","gif"]),DYNAMIC_IMAGE_ATTRS:["data-src","data-original"],INVALID_LINK_PATTERNS:[/^java/i,/^#/,/^$/,/^mailto:/i,/^tel:/i,/^\/$/],EXCLUDE_CLASSES:new Set(["hover","active","focus","current","first","last"]),MAIN_IMG_MIN_SIZE:100,MAX_TRAVERSE_LAYERS:10,MAX_IMG_COUNT:6,HIGH_SIZE_THRESHOLD:.8,SKIP_ELEMENT:new Set(["SVG","POLYGON"]),SIBLING_SIMILARITY_THRESHOLD:.7,SIBLING_NODE_COUNT_THRESHOLD:10,SIMILAR_WIDTH_THRESHOLD:.1,SIMILAR_HEIGHT_THRESHOLD:.4,PRIORITY_CONFIG:{destination:["composedPath","container"],image_url:["composedPath","container"],inner_text:["container","composedPath"]},MIN_SIZE_ABSOLUTE_VALUE:100},nf={MONEY_SYMBOLS:new Set(["$","\xa5","\xa3","₩","₫","﷼","€","฿","₹","₽","zł","₦","د.إ","₱","TL","JPY","EUR","GBP","INR","BRL","CAD	","AUD","RUB","MXN","KRW","TRY","RM","SEK","THB","SGD","ARS",":-"]),MIN_IMG_SIZE:30,MAX_COMPRESS_STRING_LENGTH:200,INVALID_DATA_SIMILARITY_THRESHOLD:.6,MAX_PRODUCTS_COUNT:8};(ie=ix||(ix={})).COMPOSED_PATH="composedPath",ie.FIND_PRODUCT_CARD="findProductCard",ie.CHECKOUT="checkout";var np="checkout",nh=["destination","image_url","from"],nd=new Set(["x","y","num_child_buttons","timestamp","xpath","tag","from"]);function nv(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return n_(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nm(t){return/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi.test(t)||/(\+?0?86-?)?1[3-9]\d{9}/g.test(t)||/(\+\d{1,2}\s?)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}/g.test(t)||/^[\-!$><-==&_\/\?\.,0-9:; \]\[%~\"\{\}\)\(\+\@\^\`]/g.test(t)||ns.some(function(e){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}var ng=function t(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return"";if(e===document.documentElement)return"/HTML";for(var n=1,r=e.previousSibling;r;)r.nodeType===Node.ELEMENT_NODE&&r.tagName===e.tagName&&n++,r=r.previousSibling;var o=e.tagName.toLowerCase();return t(e.parentNode)+"/"+o+"["+n+"]"};function ny(t,e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];window.requestIdleCallback&&window.requestIdleCallback(t.bind.apply(t,[e].concat(r))),t.apply(e,r)}}function nE(t){var e=t.options,n=t.plugins;return e&&!1!==e.autoConfig&&n&&n[r1]}function nw(t,e){if(!iA[e])return!0;var n=t.plugins;return e===iN.AUTO_VC_REVERSE?nE(t)&&n[r1]&&!n[r1][iA.AUTO_VC]:nE(t)&&n[r1]&&n[r1][iA[e]]}function nb(t){if(!t)return!1;var e=t.toLowerCase();return Array.from(nl.VALID_IMG_KEYWORDS).some(function(t){return e.includes(t)})&&!Array.from(nl.INVALID_IMG_KEYWORDS).some(function(t){return e.includes(t)})}function nO(t){return!!t&&t instanceof Element&&nl.TERMINATION_TAGS.has(t.tagName.toUpperCase())}function nI(t){return new Set(t.className.split(/\s+/).filter(Boolean))}function nT(t,e,n){if(void 0===n&&(n=new Set([])),0===t.size&&0===e.size)return 1;if(0===t.size||0===e.size)return 0;function r(t){var e=Array.from(n);return new Set(Array.from(t).filter(function(t){return!e.some(function(e){return t.includes(e)})}))}var o,i,a=r(t),c=r(e),u=a[Symbol.iterator](),s=c[Symbol.iterator](),l=0,f=0;do{if(o=u.next(),i=s.next(),!o.value||!i.value)break;o.value===i.value||c.has(o.value)||2>=function(t,e){if(!t||!e)return 0;for(var n=t.length,r=e.length,o=Array.from({length:n+1},function(){return Array(r+1).fill(0)}),i=0;i<=n;i++)o[i][0]=i;for(var a=0;a<=r;a++)o[0][a]=a;for(var c=1;c<=n;c++)for(var u=1;u<=r;u++)t[c-1]===e[u-1]?o[c][u]=o[c-1][u-1]:o[c][u]=Math.min(o[c-1][u]+1,o[c][u-1]+1,o[c-1][u-1]+1);return o[n][r]}(o.value,i.value)?(l++,f+=1):f+=2}while(!o.done||!i.done);return l/f}function nR(t){if(!t)return null;for(var e,n=nv(nl.DYNAMIC_IMAGE_ATTRS);!(e=n()).done;){var r=e.value,o=t.getAttribute(r);if(o&&nb(o))return o}if(t.src&&nb(t.src))return t.src;var i=t.getAttribute("srcset");if(i){var a=i.split(",").find(function(t){return nb(t.trim().split(" ")[0])});if(a)return a.split(" ")[0]}return null}function nS(t){return t instanceof HTMLAnchorElement&&function(t){if(!t)return!1;var e=t.trim();return!nl.INVALID_LINK_PATTERNS.some(function(t){return new RegExp(t).test(e)})}(t.getAttribute("href"))?t.href:null}function nN(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return nA(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nP=function(t){var e=t.parentNode,n=0,r=!1;try{r=(0,p.iK)(t)}catch(e){(0,u.vU)(s.O.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}}),r=!1}if(r)return{buttonFlag:!0,triggerElement:t};for(;n<5&&e&&e!==document;){var o=!1;try{o=(0,p.iK)(e)}catch(e){(0,u.vU)(s.O.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}}),o=!1}if(o)return{buttonFlag:!0,triggerElement:e};e=e.parentNode,n++}return{buttonFlag:!1,triggerElement:t}},nL=function t(e){for(var n=0,r=e.children,o=0;o<r.length;o++){var i=r[o],a=!1;try{a=(0,p.iK)(i)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:i}}),a=!1}a&&n++,n+=t(i)}return n},nx=function(t){var e,n,r,o,i="";if("A"===t.tagName.toUpperCase())i=null!=(e=t.getAttribute("href"))?e:"";else if("BUTTON"===t.tagName.toUpperCase()){var a=null!=(n=t.getAttribute("onclick"))?n:"",c=null!=(r=t.getAttribute("formaction"))?r:"",u=a.match(/^.*=(['"])(.*)\1.*$/);c?i=c:u&&(i=u[2])}else"FORM"===t.tagName.toUpperCase()&&(i=null!=(o=t.getAttribute("action"))?o:"");return i},nC=function(t,e){void 0===e&&(e=!0);for(var n,r,o,i,a,c,l,f=t.attributes,p={type:"",value:"",name:"",class:"",dataset:"",id:"",tag:"",destination:"",xpath:"",inner_text:"",image_url:"",num_child_buttons:0},h=0;h<f.length;h++){var d=f[h];p[d.name]=d.value}p.dataset=JSON.stringify(t.dataset),p.id=null!=(n=t.id)?n:"",p.class=null!=(r=t.className)?r:"",p.tag=t.tagName,p.destination=nx(t),p.name=null!=(o=t.getAttribute("name"))?o:"",p.value=null!=(i=t.getAttribute("value"))?i:"",p.type=null!=(a=t.getAttribute("type"))?a:"",p.rect=t.getBoundingClientRect();try{p.xpath=ng(t)}catch(e){p.xpath="",(0,u.vU)(s.O.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}})}return p.inner_text=null!=(c=t.innerText)?c:"",p.image_url=null!=(l=t.getAttribute("src"))?l:"",p.num_child_buttons=e?nL(t):0,p},nk=function(t){var e=t.tag,n=t.class,r=t.destination,o=t.id,i=t.name,a=t.type,c=t.value,u=t.rect,s=t.xpath,l=t.inner_text,f=t.image_url,p={tag:e,attributes:{},inner_text:l,xpath:s,num_child_buttons:t.num_child_buttons,timestamp:new Date().toISOString(),position:u?{x:u.x,y:u.y}:{x:"",y:""}};return n&&(p.attributes.class=n),r&&(p.attributes.destination=r),o&&(p.attributes.id=o),i&&(p.attributes.name=i),a&&(p.attributes.type=a),c&&(p.attributes.value=c),f&&(p.image_url=f),p};function nD(t){if(!t)return null;for(var e,n=Array.from(t.querySelectorAll("a")),r=n.filter(function(t){return 0!==t.getElementsByTagName("img").length}),o=nN(r);!(e=o()).done;){var i=nS(e.value);if(i)return i}for(var a=0;a<n.length;a++){var c=n[a];if(!r.includes(c)){var u=nS(c);if(u)return u}}return null}function nM(t,e){if(void 0===e&&(e={RequiredLinkData:!1,RequiredImageData:!1,RequiredWeightAndHeight:!0}),!(t instanceof HTMLElement)||(nO(t),nl.SKIP_ELEMENT.has(t.tagName.toUpperCase())||nO(t)||!t.parentNode||e.RequiredWeightAndHeight&&1!=nj(t)))return!1;var n=function(t,e){if(!t||!t.parentElement||e<=0)return[];var n=Array.from(t.parentElement.children).filter(function(e){return e instanceof HTMLElement&&e.tagName==t.tagName}),r=n.indexOf(t);if(-1===r)return[];var o=n.length-r-1,i=Math.min(Math.ceil(e/2),r),a=Math.min(e-i,o);i+a<e&&(i=Math.min(e-a,r));for(var c=[],u=1;u<=i;u++)c.push(n[r-u]);for(var s=[],l=1;l<=a;l++)s.push(n[r+l]);return[].concat(c,s).slice(0,e)}(t,nl.SIBLING_NODE_COUNT_THRESHOLD);if(e.RequiredWeightAndHeight&&(n=n.filter(function(t){return 1==nj(t)})),0===n.length)return!1;var r=t.offsetWidth,o=t.offsetHeight,i=nI(t),a=n.slice(0,nl.SIBLING_NODE_COUNT_THRESHOLD).reduce(function(t,n){var a=Math.abs(n.offsetWidth-r)/r,c=Math.abs(n.offsetHeight-o)/o,u=nT(i,nI(n),nl.EXCLUDE_CLASSES);return e.RequiredWeightAndHeight?a<=nl.SIMILAR_WIDTH_THRESHOLD&&c<=nl.SIMILAR_HEIGHT_THRESHOLD&&u>=nl.SIBLING_SIMILARITY_THRESHOLD?t+1:t-1:u>=nl.SIBLING_SIMILARITY_THRESHOLD?t+1:t-1},0),c=t.getElementsByTagName("a").length>0,u=t.getElementsByTagName("img").length>0;return e.RequiredLinkData?a>=0&&c:e.RequiredImageData?a>=0&&u:a>=0&&(c||u)}function nj(t){var e=window.innerHeight||document.documentElement.clientHeight;return t.offsetHeight/e>nl.HIGH_SIZE_THRESHOLD?2:t.offsetHeight<nl.MIN_SIZE_ABSOLUTE_VALUE?0:1}var nU={getMicroData:!0,getJSONLD:!0,getOpenGraph:!0,getMetaData:!0};function nF(t,e){return(void 0===e&&(e=500),"string"!=typeof t)?"":(t=t.trim()).length<e?t:t.slice(0,500)}function nq(t){return void 0===t&&(t=[]),{items:t,has:function(t){return this.items.some(function(e){return e===t})},add:function(t){this.has(t)||this.items.push(t)}}}function nG(t,e){if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(function(t){return nG(t,e)});var n={};for(var r in t)!function(t,e){return!!e&&e.length>0&&e.some(function(e){return t.toLowerCase()===e.toLowerCase()})}(r,e)&&(n[r]=nG(t[r],e));return n}function nH(t){return Array.isArray(t)?t.some(function(t){return nH(t)}):"string"==typeof t&&(t=t.toLowerCase().replace(/https?:\/\/schema\.org\//,""),ns.some(function(e){return t===e.toLowerCase()}))}var nV=["form","[id*=form], [class*=form]"],nB=["label"],nW=["input,select,textarea"],nK=["radio","checkbox"],nY=["hidden","reset","submit","password"];function nX(t,e){try{for(var n=0;n<t.length;n++){var r=e.querySelectorAll(t[n]);if(r&&r.length>0)return Array.from(r)}return[]}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:nu,custom_enum:iR.GET_ELEMENTS_ERROR}),[]}}function nJ(t){var e="";return!function t(n){for(;n;)n.nodeType===Node.TEXT_NODE?e+=n.textContent:"SELECT"!==n.nodeName&&n.firstChild&&t(n.firstChild),n=n.nextSibling}(t.firstChild),e.replace(/[\t\n]/g,"").trim()}function nZ(t){if(!t)return!1;var e=window.getComputedStyle(t);return!("none"===e.display||"visible"!==e.visibility||function t(e){return!(!e||e.isSameNode(document.body)||e.isSameNode(document))&&("0"==window.getComputedStyle(e).opacity||t(e.parentElement))}(t))&&(0!==t.offsetWidth||0!==t.offsetHeight)}function nQ(t){var e=t.getAttribute("type");return!!e&&nY.indexOf(e)>-1}function nz(t){return t&&nm(t)?"__Text__":t}(ir=iC||(iC={}))[ir.CONTAIN=0]="CONTAIN",ir[ir.ID=1]="ID",ir[ir.SELECTOR=2]="SELECTOR";var n$=function(){function t(t){var e=this;this.formUpdateHandlers=[],this.answerMap={},t.find(function(t){var n=e.getRules(t);return!!n&&(e.rules=n,!0)}),this.init()}var e=t.prototype;return e.getRules=function(t){var e=t.plugins&&t.plugins.AutoConfig;return e&&e[iA.AUTO_FORM]},e.init=function(){var t=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"initAutoForm_init",start:performance.now()}}catch(t){}try{this.forms=this.detectFormElement(),this.forms&&this.forms.forEach(function(e){e.formDetail=t.assembleFormDetail(e),t.startFormObserver(e,t.formUpdateHandlers)})}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:nu,custom_enum:iR.INIT_ERROR})}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},e.getOverallFormDetail=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"initAutoForm_getOverallFormDetail",start:performance.now()}}catch(t){}var e="[]";try{this.forms&&this.forms.length>0&&(this.forms.some(function(t){var e=t.el;return!document.body.contains(e)})&&this.init(),e=JSON.stringify(this.forms.map(function(t){return t.formDetail}).filter(function(t){return t})))}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:nu,custom_enum:iR.GET_OVERALL_FORM_DETAIL_ERROR})}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}return e},e.addFormUpdateHandler=function(t){this.formUpdateHandlers.push(t)},e.startFormObserver=function(t,e){var n=this;try{var r=(0,p.Ds)(function(){var r=n.assembleFormDetail(t);(!t.formDetail||r&&(0,p.eh)(r,t.formDetail))&&(t.formDetail=r,e.forEach(function(e){return e.call(n,t.formDetail)}))},2e3,this);if(t.el.parentNode){var o=t.el.parentNode;this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(r),this.observer.observe(o,{attributes:!0,childList:!0,subtree:!0}),o.addEventListener("click",r,{capture:!0})}}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:nu,custom_enum:iR.FORM_OBSERVER_ERROR})}},e.detectFormElement=function(){try{var t,e,n=[0,0,0],r=(t=this.rules,(e=nX(t||nV,document)).filter(function(t){return!e.some(function(e){return e.contains(t)&&e!==t})}));if(!r)return[];var o=r.map(function(t){return{el:t,questions:[]}});return o.forEach(function(t){var e,r,o=(e=t.el,nX(nB,e)),i=new Set([]);o.forEach(function(e){var r=function(t,e){var n=nX(nW,t);if(n&&n.length)return{els:n,from:iC.CONTAIN};var r=t.getAttribute("for");if(r&&(n=nX(["input[id='"+r+"'],select[id='"+r+"'],textarea[id='"+r+"']"],e)))return{els:n,from:iC.ID};return!1}(e,t.el);if(r){var o=r.els,a=r.from,c=o.filter(function(t){return!nQ(t)}).map(function(t){return i.add(t),{el:t,from:a}});c&&c.length&&(n[a]=1,t.questions.push({el:e,answers:c}))}}),(r=t.el,nX(nW,r)).filter(function(t){return!nQ(t)}).forEach(function(e){if(!i.has(e)){n[iC.SELECTOR]=1;var r,o=(r=t.el,function t(e){return null==e||e.isSameNode(r)?r:nJ(e).length>0?e:t(e.parentNode)}(e.parentNode));t.questions.push({el:o,answers:[{el:e,from:iC.SELECTOR}]})}})}),(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"form_detail_answer_from",custom_enum:n.join("")}),o}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:nu,custom_enum:iR.DETECT_FORM_ELEMENT_ERROR}),[]}},e.calculateQuestionFilledTime=function(t){var e=t.el,n=t.answers,r=ng(e),o=n.reduce(function(t,e){var n=e.el,r=n.getAttribute("type");return r&&nK.indexOf(r.toLowerCase())>-1?t+","+n.checked:t+","+n.value},"");this.answerMap[r]||(this.answerMap[r]={defaultValue:o,value:o});var i=this.answerMap[r],a=i.defaultValue,c=i.filledTime;return(this.answerMap[r].value=o,a===o)?void delete this.answerMap[r].filledTime:c||(this.answerMap[r].filledTime=+new Date)},e.assembleFormDetail=function(t){var e=this,n=t.el,r=t.questions;try{var o={xpath:ng(n),id:n.id,name:nz(n.getAttribute("name")),tag:n.tagName.toLowerCase(),class_name:n.className,questions:[],width:n.offsetWidth,height:n.offsetHeight,is_visible:nZ(n)};return o.questions=r.map(function(t){var n=t.el,r=t.answers,o={xpath:ng(n),id:n.id,name:nz(nJ(n)),tag:n.tagName.toLowerCase(),class_name:n.className,filled_time:e.calculateQuestionFilledTime(t),answers:[],width:n.offsetWidth,height:n.offsetHeight,is_visible:nZ(n)};return r.forEach(function(t){var e=t.el,n=t.from;e&&"SELECT"===e.tagName.toUpperCase()?o.answers=o.answers.concat(Array.from(e.querySelectorAll("option")).map(function(t){return{xpath:ng(t),id:t.id,name:nz(t.value||t.innerText),tag:t.tagName.toLowerCase(),class_name:t.className,from:n,width:t.offsetWidth,height:t.offsetHeight,is_visible:nZ(e)}})):o.answers.push({xpath:ng(e),id:e.id,name:nz(e.getAttribute("name")),tag:e.tagName.toLowerCase(),class_name:e.className,input_type:e.getAttribute("type"),placeholder:nz(e.getAttribute("placeholder")),from:n,width:e.offsetWidth,height:e.offsetHeight,is_visible:nZ(e)})}),o}),o}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:nu,custom_enum:iR.ASSEMBLE_FORM_DETAIL_ERROR});return}},t}(),n0=["United States","US","Canada","CA","Australia","AU","Mexico","MX","Argentina","AR","Chile","CL","Colombia","CO","Fiji","FJ","Liberia","LR","Namibia","NA","New Zealand","NZ","Singapore","SG","Solomon Islands","SB","Suriname","SR","South Africa","ZA","Barbados","BB","Belize","BZ","Cuba","CU","Dominican Republic","DO","Guyana","GY","Jamaica","JM","Cayman Islands","KY","Trinidad and Tobago","TT","Tuvalu","TV","Zimbabwe","ZW","United Kingdom","GB","Egypt","EG","Falkland Islands","FK","Gibraltar","GI","Guernsey","GG","Isle of Man","IM","Jersey","JE","Lebanon","LB","Saint Helena","SH","Syria","SY","Sudan","SD","Japan","JP","China","CN","Japan","JP","CN","South Korea","KR","Philippines","PH","Cuba","CU","Sweden","SE","Norway","NO","Denmark","DK","Iceland","IS","Costa Rica","CR","El Salvador","SV","Bolivia","BO","Venezuela","VE","Bahamas","BS","Brunei","BN","Ethiopia","ET","Eritrea","ER","Iran","IR","Oman","OM","Qatar","QA","Saudi Arabia","SA","Yemen","YE","Bulgaria","BG","Kyrgyzstan","KG","Central African CFA franc zone","XAF","West African CFA franc zone","XOF"].map(function(t){return t.toUpperCase()}),n1=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTC","BTN","BWP","BYN","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNH","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","ETH","EUR","FJD","FKP","GBP","GEL","GGP","GHC","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTC","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RMB","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRL","TRY","TTD","TVD","TWD","TZS","UAH","UGX","USD","UYI","UYU","UYW","UZS","VEF","VES","VND","VUV","WST","XAF","XBT","XCD","XOF","XPF","XSU","XUA","YER","ZAR","ZMW","ZWD","ZWL"];function n2(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return n3(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n3(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var n6=["firstidxpath","absolutexpath","threeleveltagclassxpath"],n5=["modelxpath"],n8=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"updateParameterInferenceData",start:performance.now()}}catch(t){}try{var r=t.getPageInfo(),o=rr(r.url,e);r.url.includes("checkout")&&o&&ru(o,r.url,e),o&&rn(o)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData"})}try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}},n4=function(t){try{var e=t.plugins&&t.plugins.AutoConfig;return e&&e.vc_rules}catch(t){return}},n9=function(t){try{if(!t)return null;for(var e,n=n2(t);!(e=n()).done;){var r=e.value;if(r.parameter_enhancement)return r.parameter_enhancement}}catch(t){t(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"getEnhancementRules"})}return null},n7=function(t){var e;try{if(!t)return null;var n=null,r=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(r){var o=(null==(e=r.textContent)?void 0:e.trim())||null;o&&(n=o)}return n}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"getEnhancementRuleDataByXPath"}),null}},rt=function(t){if(!t)return null;var e=t.split("|||").filter(function(t){return""!==t});if(e.length<2)return null;var n=e[0],r=e[1],o=e[2];return{pattern:n,replacement:r,flags:void 0===o?"":o}},re=function(t,e){if(!t)return null;for(var n,r=null,o=n2(e);!(n=o()).done&&!(r=n7(t[n.value])););if(!r)return null;var i=r,a=(null==t?void 0:t.format_method)&&rt(t.format_method);if(a)try{var c=a.pattern,l=a.replacement,f=a.flags,p=new RegExp(c,f);i=r.replace(p,l)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"parseFormatMethod"})}var h=Object.assign({},t,{parameterOriValue:r,parameterValue:i});return n6.forEach(function(t){delete h[t]}),n5.forEach(function(t){delete h[t]}),h},rn=function(t){try{var e=n9(t);if(!e)return null;var n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){var i=void 0;(i=(i=re(o.helper_rule,n6))&&i.parameterValue?i:re(o.model_rule,n5))&&(n[r]=Object.assign({},i),(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"updateParameterInferenceData",custom_enum:"enhancement_rule_result",extJSON:{message:JSON.stringify(o)+"||"+JSON.stringify(i)}}))}}return rs(rh,n),(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"updateParameterInferenceData",custom_enum:"enhancement_properties",extJSON:{message:""+JSON.stringify(n)}}),Object.keys(n).length>0?n:null}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"enhancement_parameter_inference"}),null}},rr=function(t,e){var n=null;for(var r in e)if(t.includes(r))return e[r];return null},ro=function(t,e){var n=function(t,e){try{for(var n,r=document.evaluate(t,document,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),o=null;n=r.iterateNext();)/\d/.test(n.innerText)&&(o=n);if(!o&&e)for(var i=document.getElementsByClassName(e),a=0;a<i.length;a++){var c=i[a];c instanceof HTMLElement&&/\d/.test(c.innerText)&&(o=c)}return o}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"getLastElementWithNumber"}),null}}(t,e),r=null==n?void 0:n.textContent;return{priceNumberString:r?function(t){var e=t.match(/(?:\d[\d\s,.]*\d|\d)/g);if(e){for(var n,r,o,i,a=e[0],c=n2(e);!(i=c()).done;)if(i.value!==a)return null;return n=a.replace(/[\s,\.]/g,""),r=Math.max(a.lastIndexOf("."),a.lastIndexOf(",")),o=!1,-1!==r&&r>=a.length-3&&(o=!0),o&&(n=n.slice(0,r-(a.length-1))+"."+n.slice(r-(a.length-1))),n}return null}(r):null,textContent:r}},ri=function(t){if(!t)return{currencyCode:null,currencyCodeFromeXpath:null};var e,n=null==(e=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?void 0:e.textContent,r=((null==n?void 0:n.trim())?n1.includes(n.toUpperCase().trim()):null)?null==n?void 0:n.toUpperCase().trim():null;return{currencyCode:n,currencyCodeFromeXpath:r}},ra=function(t){if(!t)return{countryCode:null,countryCodeFromXpath:null};var e,n=null==(e=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?void 0:e.textContent,r=((null==n?void 0:n.trim())?n0.includes(n.toUpperCase().trim()):null)?null==n?void 0:n.toUpperCase().trim():null;return{countryCode:n,countryCodeFromXpath:r}},rc=function(t){try{var e=new URL(t).hostname.split(".");for(var n in e)if(n0.includes(e[n].toUpperCase()))return e[n].toUpperCase()}catch(t){}return null},ru=function(t,e,n){try{if(t)for(var r,o=n2(t);!(r=o()).done;){var i=r.value;if(i.valueXpath&&i.currency&&i.currency.val){var a=i.currency.val,c=ro(i.valueXpath,i.currency.val),l=c.textContent,f=c.priceNumberString;if(f&&l){var p=ri(i.currency.xpath),h=p.currencyCode,d=p.currencyCodeFromeXpath;h&&(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"auto_value_currency_currency_code_form_xpath",extJSON:{url:e,currencyCode:h,vcConfig:n}});var v=ra(i.countryCodeXpath),_=v.countryCode,m=v.countryCodeFromXpath;_&&(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"auto_value_currency_country_form_xpath",extJSON:{url:e,country:_,vcConfig:n}});var g={value:f,currency:d||a,ori_value:l,rule_key:i.rule_key,country_code:m};return m||(g.country_code=rc(e)),(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"auto_value_currency_update_info",extJSON:{url:e,autoProperties:g,vcConfig:n}}),rs(rp,g),g}}}return null}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"updateAutoVCData"}),null}},rs=function(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch(t){}},rl=function(t){try{var e=sessionStorage.getItem(t);return e?JSON.parse(e):null}catch(t){return null}},rf=function(t){try{sessionStorage.removeItem(t)}catch(t){}},rp="value_currency_rule",rh="parameter_inference_rule",rd=[iP.CLICK,iP.SCROLL],rv=function(){function t(t){var e=this;this.handlerArray=t,rd.forEach(function(t){window.addEventListener(t.toLowerCase(),(0,p.Ds)(function(){e.interactionHandler(t)},2e3,e),{capture:!0,passive:!0})})}var e=t.prototype;return e.iterateHandlerArray=function(t){this.handlerArray.forEach(function(e){return e(t)})},e.interactionHandler=function(t){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.iterateHandlerArray(t),this.timeoutId=setTimeout(function(){e.iterateHandlerArray(t)},2e3)},t}(),r_=function(){function t(){this.history={}}var e=t.prototype;return e.hasReport=function(t,e,n){var r=this.genHistoryKey(t,e);return this.history[r]&&this.history[r].indexOf(n)>-1},e.addHistory=function(t,e,n){var r=this.genHistoryKey(t,e);this.history[r]||(this.history[r]=[]),this.history[r].push(n)},e.clearHistory=function(){this.history={}},e.genHistoryKey=function(t,e){return t+":"+e},t}(),rm=function(){function t(t,e,n,r){this.context=t,this.reportHistory=new r_,this.reporters=e,this.reportService=n,this.ttqOptions=r}var e=t.prototype;return e.report=function(t,e,n){var r=this,o=tH(ig.AUTO_CONFIG),i=this.getReportPixelList(e,n),a=this.assemblyReportData(t,n,i);a&&o&&this.reportService.reportPreTasks.then(function(){r.reportService.report(o,a,iE.defaultReport,iw.P0)})},e.clearHistory=function(){this.reportHistory.clearHistory()},e.getReportPixelList=function(t,e){var n=this,r=JSON.stringify(Object.assign({},e,{page_trigger:void 0}));return this.reporters.filter(function(e){return!!nE(e)&&nw(e,t)}).filter(function(e){var o=e.getReporterId();return!([iN.AUTO_COLLECTION,iN.AUTO_FORM].indexOf(t)>-1&&n.reportHistory.hasReport(t,o,r))&&(n.reportHistory.addHistory(t,o,r),e)})},e.getCookieBasedSessions=function(t){var e=[],n=tN(document.cookie),r=t.filter(function(t){var e;return!!(null==(e=null==t?void 0:t.reporterInfo)?void 0:e.firstPartyCookieEnabled)});if(0===r.length)return e;var o=this.context.getPageCookieBasedSession();return r.forEach(function(t){var r=t.getReporterId();t.setCookieBasedSession(n[r]),e.push(tP(t.getCookieBasedSession(),o,r))}),e},e.assemblyReportData=function(t,e,n){if(0!==n.length){var r,o,i,a=n.map(function(t){return t.getReporterId()}),c=this.context.getPageSign(),u=(null==(o=null==(r=this.ttqOptions)?void 0:r.cookieBasedSessionConfig)?void 0:o.enable)?this.getCookieBasedSessions(n):[],s=n[0],l=s.assemblyData(s.getReporterId(),"",{},{},ig.AUTO_CONFIG);return delete l.event,l.action=t,l.auto_collected_properties=e,l.context.pixel||(l.context.pixel={}),l.context.pixel.code=a[0],l.context.pixel.codes=a.join("|"),l.context.index=null==(i=c.pageIndex)?void 0:i.index,l.context.session_id=c.sessionId,l.context.pageview_id=(0,tl.gj)(this.context.getPageViewId(),s.reporterInfo.loadId,X.n2),l.context.sessions=u,l.message_id=l.message_id.replace(/-[^-]*$/,""),l}},t}(),rg=new Set([",","?",";","!","、","，","。","？","；","！",":","："]);(io=iD||(iD={})).ID_SSN="ID_SSN",io.PASSPORT="PASSPORT",io.DRIVING_LICENSE="DRIVING_LICENSE",io.PHONE="PHONE",io.EMAIL="EMAIL",io.CREDIT_CARD="CREDIT_CARD",io.RACE_ETHNIC="RACE_ETHNIC",io.RELIGION="RELIGION",io.SEXUAL_ORIENTATION="SEXUAL_ORIENTATION",io.POLITICAL_AFFILIATION="POLITICAL_AFFILIATION",io.UNION_MEMBERSHIP="UNION_MEMBERSHIP",io.CRIMINAL_RECORD="CRIMINAL_RECORD",io.DEFAULT="***";var ry=((ik={})[iD.RACE_ETHNIC]=["asian","black","white","caucasian","hispanic","latino","arab","middle eastern","african american","native american","indigenous","pacific islander","jewish","afro","mulatto","mestizo","racial","ethnicity","ethnic group"],ik[iD.RELIGION]=["christian","catholic","protestant","baptist","orthodox","muslim","islam","islamic","sunni","shia","jewish","judaism","synagogue","hebrew","hindu","hinduism","vedic","bhagavad","buddhist","buddhism","taoism","shinto","atheist","agnostic","secular","religious belief"],ik[iD.SEXUAL_ORIENTATION]=["heterosexual","homosexual","bisexual","pansexual","gay","lesbian","lgbt","lgbtq","queer","asexual","sexual orientation","gender identity","trans","transgender","nonbinary","non-binary"],ik[iD.POLITICAL_AFFILIATION]=["democrat","democratic","republican","libertarian","conservative","liberal","progressive","nationalist","communist","socialism","socialist","marxist","left-wing","right-wing","maga","antifa","alt-right","green party","political party","political ideology"],ik[iD.UNION_MEMBERSHIP]=["labor union","trade union","union member","collective bargaining","strike","unionized","organized labor","workers' union","teamsters","AFL-CIO","IBEW","union dues","union card"],ik[iD.CRIMINAL_RECORD]=["arrest","arrested","convicted","conviction","felony","felon","misdemeanor","parole","probation","criminal record","jail","prison","inmate","suspect","indictment","charged with","mugshot"],ik),rE=Object.values(iD).reduce(function(t,e){return t[e]="<#"+e+"#>",t},{}),rw={prefix:"(?<!<#)",suffix:"(?!(?:[^<]*>|[^>]*<))"},rb=rx([/(?:\+?\d{1,3}[\s-]?|\(\+?\d{1,3}\)[\s-]?)?(?:\d{2,4}[\s-]?|\(\d{2,4}\)[\s-]?)?(?:\d[\s-]?){5,}/g],rw),rO=rx([/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi],rw),rI=rx([/(?:(?:4[0-9]{3}|5[1-5][0-9]{2}|6011|65[0-9]{2}|3[47][0-9]{2}|3(?:0[0-5]|[68][0-9])|2131|1800|35\d{2})[-\s]?(?:[0-9]{4}[-\s]?){2}[0-9]{3,4}|62[0-9]{3}[-\s]?(?:[0-9]{4}[-\s]?){2,3}[0-9]{3,4})$(?![\d])/g],rw),rT=rx([/\d{3}-\d{2}-\d{4}|\d{9}/g,/\d{17}(\d|X|x)$/g,/[A-CEGHJ-PR-TW-Z]{2}\d{6}[A-D]?/g,/(?:[A-Z]\d{10}|\d{10})/g,/[A-Z0-9]{12}/g],rw),rR=rx([/[EDS]\d{8}/g,/[A-HJ-NP-Z][A-HJ-NP-Z0-9]{8}/g,/[A-Z]{2}\d{6}/g],rw),rS=rx([/\d{17}[\dXx]/g,/[A-Z0-9]{16}/g,/[A-Z0-9]{10,12}/g,/[A-Z0-9]{12}/g],rw),rN=function(t,e){if("string"!=typeof t)throw TypeError("text must be a non-empty string");if("number"!=typeof e||e<=0)throw TypeError("targetLength must be a positive integer");for(var n=[],r=0,o=t.length;r<o;){var i=Math.min(r+e,o);if(i===o){var a=t.slice(r).trim();a&&n.push(a);break}if(rA(t[i]||"")){var c=rP(t,i),u=c.leftBound,s=c.rightBound;if(i-u<=s-i){var l=t.slice(r,u+1).trim();l&&n.push(l);var f=t.slice(u+1,s+1).trim();f&&n.push(f),r=s+1}else{var p=t.slice(r,s+1).trim();p&&n.push(p),r=s+1}}else{var h=t.slice(r,i).trim();h&&n.push(h),r=i}}return n},rA=function(t){if(1!==t.length)throw TypeError("char must be a single character");return!rg.has(t)},rP=function(t,e){for(var n=e,r=e;n>0&&rA(t[n]);)n--;for(;r<t.length&&rA(t[r]);)r++;return{leftBound:n,rightBound:r}},rL=function(t){return rE[t]||rE[iD.DEFAULT]};function rx(t,e){return void 0===e&&(e={prefix:"",suffix:""}),t.map(function(t){var n,r;return t.source.startsWith("^")&&t.source.endsWith("$")?t:(n=e.prefix,r=e.suffix,void 0===n&&(n=""),void 0===r&&(r=""),RegExp(""+n+t.source+r,t.flags))})}function rC(t){return null===t?"null":void 0===t?"undefined":Array.isArray(t)?"array":t instanceof Date?"date":t instanceof RegExp?"regexp":t instanceof Map?"map":t instanceof Set?"set":"symbol"==typeof t?"symbol":typeof t}var rk=function(){function t(){}var e=t.prototype;return e.decompose=function(t){for(var e=[],n=0,r=0,o=t.length,i="text",a="",c="";r<o;){var u=t[r];"text"===i?"<"===u?(n=this.processTextBuffer(c,e,n),c="",i="tag",a="<"):c+=u:(a+=u,">"===u&&(n=this.parseTag(a,e,n),i="text",a="")),r++}return n=this.processTextBuffer(c,e,n),a&&(n=this.parseTag(a,e,n)),e},e.processTextBuffer=function(t,e,n){var r=t.trim();if(!r)return n;if(r.length<=30){var o={type:"text",value:r,position:n++};return e.push(o),n}return rN(r,30).forEach(function(t){var r={type:"text",value:t,position:n++};e.push(r)}),n},e.parseTag=function(t,e,n){var r=n;if(!t)return r;if(t.startsWith("</")){var o={type:"tagEnd",name:t.slice(2,-1).trim(),position:r++};return e.push(o),r}var i=t.slice(1,-1).trim(),a=i.indexOf(" ");if(-1===a){var c={type:"tagStart",name:i,position:r++},u={type:"tagStartClose",name:i,position:r++};return e.push(c,u),r}var s=i.slice(0,a).trim(),l=i.slice(a+1).trim(),f=this.parseAttributes(l),p={type:"tagStart",name:s,position:r++};e.push(p),f.forEach(function(t){var n={type:"attribute",key:t[0],value:t[1],position:r++};e.push(n)});var h={type:"tagStartClose",name:s,position:r++};return e.push(h),r},e.parseAttributes=function(t){for(var e,n,r,o,i=[],a=/([\w-]+)(?:\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s'"]+)))?/g;null!==(o=a.exec(t));){var c=o[1].trim(),u=null!=(r=null!=(n=null!=(e=o[2])?e:o[3])?n:o[4])?r:"";i.push([c,u])}return i},t}(),rD=function(){function t(){}return t.prototype.decompose=function(t,e){var n=this;void 0===e&&(e="");var r=[],o=0;return Array.isArray(t)?t.forEach(function(t,i){var a=e?e+"."+i:String(i);if(null!==t&&"object"==typeof t){var c=n.decompose(t,a);r.push.apply(r,c)}else"string"===rC(t)&&t.length>30?rN(t,30).forEach(function(t){r.push({type:"array-item",key:a,value:t,position:o++})}):r.push({type:"array-item",key:a,value:t,position:o++})}):null!==t&&"object"==typeof t&&Object.keys(t).forEach(function(i){var a=e?e+"."+i:i,c=t[i];if(null!==c&&"object"==typeof c){var u=n.decompose(c,a);r.push.apply(r,u)}else"string"===rC(c)&&c.length>30?rN(c,30).forEach(function(t){r.push({type:"object-property",key:a,value:t,name:i,position:o++})}):r.push({type:"object-property",key:a,value:c,name:i,position:o++})}),r},t}();function rM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rj=function(){function t(){}return t.prototype.recompose=function(t,e){for(var n,r="",o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return rM(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rM(t,e)}}(t))){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(n=o()).done;){var i=n.value;switch(i.type){case"tagStart":r+="<"+i.name;break;case"attribute":r+=" "+i.key+'="'+i.redactedValue+'"';break;case"tagStartClose":r+=">";break;case"text":r+=i.redactedValue;break;case"tagEnd":r+="</"+i.name+">"}}return r},t}(),rU=function(){function t(){}return t.prototype.recompose=function(t,e){var n;return n=Array.isArray(e)?[]:{},0===t.length||t.forEach(function(t){var e=t.key,r=t.redactedValue,o=t.type;if(e){var i=e.split("."),a=n;i.forEach(function(t,e){var n=e===i.length-1,c=i[e+1],u="array-item"===o||!n&&void 0!==c&&!isNaN(Number(c));void 0===a[t]&&(a[t]=u?[]:{}),n?a[t]&&"string"==typeof a[t]?a[t]+=r:a[t]=r:a=a[t]})}}),n},t}();function rF(){rF=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var rq=function(){function t(t,e,n,r){this.replaceTag=n||iD.DEFAULT,this.regexArray=[].concat(t),this.type=r||"DEFAULT_TYPE",this.keyWords=e}return t.prototype.redact=function(t,e,n){var r,o,i,a;return r=this,o=void 0,i=void 0,a=rF().mark(function r(){var o,i,a,c,u=this;return rF().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t&&t.startsWith("<KEYWORD_"))){r.next=2;break}return r.abrupt("return",t);case 2:if(o=t,!(this.keyWords&&this.keyWords.length&&Array.isArray(this.keyWords))){r.next=7;break}this.keyWords.forEach(function(t){var e=RegExp(t,"gi");o=o.replaceAll(e,rL(u.replaceTag))}),r.next=15;break;case 7:if(!(this.keyWords&&"object"==typeof this.keyWords)){r.next=15;break}i=rF().mark(function t(){var e,n;return rF().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=(e=c[a])[0],e[1].forEach(function(t){var e=RegExp(t,"gi");o=o.replaceAll(e,rL(n))});case 2:case"end":return t.stop()}},t)}),a=0,c=Object.entries(this.keyWords);case 10:if(!(a<c.length)){r.next=15;break}return r.delegateYield(i(),"t0",12);case 12:a++,r.next=10;break;case 15:return this.regexArray.length&&(o=this.regexArray.reduce(function(t,e){return t.replaceAll(e,rL(u.replaceTag))},o)),r.next=18,e(o,n);case 18:return o=r.sent,r.abrupt("return",o);case 20:case"end":return r.stop()}},r,this)}),new(i||(i=Promise))(function(t,e){function n(t){try{u(a.next(t))}catch(t){e(t)}}function c(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var r;e.done?t(e.value):((r=e.value)instanceof i?r:new i(function(t){t(r)})).then(n,c)}u((a=a.apply(r,o||[])).next())})},t}();function rG(){rG=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var rH=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,c)}u((r=r.apply(t,e||[])).next())})},rV=function(){function t(){this.middlewareRedactors=[],this.sensitive_data_found=!1,this.htmlDecomposer=new rk,this.elementDecomposer=new rD,this.htmlRecomposer=new rj,this.elementRecomposer=new rU}var e=t.prototype;return e.registerRedactor=function(t){if("function"!=typeof(null==t?void 0:t.redact))throw Error("Middleware must implement `redact(value: string, next: NextFunction): Promise<string>` method");this.middlewareRedactors.push(t)},e.process=function(t,e){return rH(this,void 0,void 0,rG().mark(function n(){var r,o,i,a,c,u=this;return rG().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this.sensitive_data_found=!1,"string"==typeof t||"object"==typeof t){n.next=4;break}return n.abrupt("return",Promise.resolve({originalInput:t,success:!1,error:Error("Input must be string or object")}));case 4:if("object"!=typeof t||null!==t){n.next=6;break}return n.abrupt("return",Promise.resolve({originalInput:t,success:!1,error:Error("Input object must not be null")}));case 6:return"string"==typeof t?(r=this.htmlDecomposer,o=this.htmlRecomposer):(r=this.elementDecomposer,o=this.elementRecomposer),i=r.decompose(t),n.next=10,Promise.all(i.map(function(t){return rH(u,void 0,void 0,rG().mark(function n(){var r,o,i;return rG().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e&&t.name&&e.has(t.name))){n.next=2;break}return n.abrupt("return",Object.assign(Object.assign({},t),{redactedValue:t.value}));case 2:if(!(null==(r=t.type)?void 0:r.includes("tag"))){n.next=4;break}return n.abrupt("return",Object.assign(Object.assign({},t),{redactedValue:""}));case 4:return o=t.value||"",n.next=7,this.dispatch(0,o);case 7:return(i=n.sent)!==o&&(this.sensitive_data_found=!0),n.abrupt("return",Object.assign(Object.assign({},t),{redactedValue:i}));case 10:case"end":return n.stop()}},n,this)}))}));case 10:return a=n.sent,c=o.recompose(a,t),n.abrupt("return",Promise.resolve({originalInput:t,success:!0,redactedOutput:c}));case 15:return n.prev=15,n.t0=n.catch(0),n.abrupt("return",Promise.resolve({originalInput:t,success:!1,error:n.t0}));case 18:case"end":return n.stop()}},n,this,[[0,15]])}))},e.createRedactor=function(t,e,n,r){void 0===t&&(t=[]),void 0===e&&(e=[]);var o=new rq(t,e,n);return r&&(o.redact=r),o},e.dispatch=function(t,e){return rH(this,void 0,void 0,rG().mark(function n(){var r,o,i,a=this;return rG().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.middlewareRedactors[t]){n.next=3;break}return n.abrupt("return",e);case 3:return o=function(n){return void 0===n&&(n=e),rH(a,void 0,void 0,rG().mark(function e(){return rG().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dispatch(t+1,n));case 1:case"end":return e.stop()}},e,this)}))},n.prev=4,n.next=7,r.redact(e,o);case 7:return i=n.sent,n.abrupt("return",i);case 11:return n.prev=11,n.t0=n.catch(4),n.abrupt("return",o(e));case 14:case"end":return n.stop()}},n,this,[[4,11]])}))},e.isHasSensitiveData=function(){return this.sensitive_data_found},t}();function rB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rW=p.$9?new WeakSet:new Set,rK=!1;function rY(t){var e=rX(t.innerText);if(!t||""==e)return!1;for(var n=Array.from(nf.MONEY_SYMBOLS),r=0;r<n.length;r++){var o=n[r];if(e.includes(o))return!0}return!1}function rX(t){return t.replace(/\n/g," ").replace(/\s+/g," ").trim()}function rJ(){rJ=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function rZ(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function rQ(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){rZ(i,r,o,a,c,"next",t)}function c(t){rZ(i,r,o,a,c,"throw",t)}a(void 0)})}}function rz(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(t,e){return(r$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var r0=function(t,e){return function(n,r){e(n,r,t)}},r1="AutoConfig",r2="tt_auto_config_v2_test",r3=function(t){function e(e,n,r,o){var i,a;return(i=t.call(this,{name:r1,reporters:n,context:e})||this).autoCollectedMetadata={},i.initializeVersion1=!1,i.initializeVersion2=!1,i.intent_data=[],i.currentPixelCode="",i.autoFormUpdateHandler=(0,p.Ds)(function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e={taskName:window.ttq._pf_tn||"auto_config_form_handler",functionName:window.ttq._pf_tn&&"auto_config_form_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="auto_config_form_handler")}}catch(t){}if(i.autoForm){if(i.autoCollectedFormDetail=i.autoForm.getOverallFormDetail(),i.autoCollectedFormDetail.length>3e4)return void(0,u.vU)(s.O.CUSTOM_ERROR,{message:""+String(i.autoCollectedFormDetail.length)},{custom_name:nu,custom_enum:iR.OVER_LENGTH});i.actTracker.report(iS.METADATA,iN.AUTO_FORM,{page_trigger:t,form_details:i.autoCollectedFormDetail})}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e),"auto_config_form_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},200,rz(i)),i.autoCollectionUpdateHandler=(0,p.Ds)(function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e={taskName:window.ttq._pf_tn||"auto_config_metadata_handler",functionName:window.ttq._pf_tn&&"auto_config_metadata_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="auto_config_metadata_handler")}}catch(t){}i.autoCollectedMetadata=function(t){var e={open_graph:"{}",microdata:"[]",json_ld:"[]",meta:"{}"};try{e.microdata=function(){if(!nU.getMetaData)return"[]";for(var t=document.querySelectorAll("[itemscope]"),e=[],n=nq(),r=0;r<t.length;r++)n.add(t[r]);for(var o=t.length-1;o>=0;o--){var i=t[o],a=i.getAttribute("itemtype");if("string"==typeof a&&""!==a){for(var c={},u=i.querySelectorAll("[itemprop]"),s=0;s<u.length;s++){var l=u[s];if(!n.has(l)){n.add(l);var f=l.getAttribute("itemprop");if("string"==typeof f&&""!==f){var p=function(t){var e;switch(t.tagName.toLowerCase()){case"meta":e=t.getAttribute("content");break;case"audio":case"embed":case"iframe":case"img":case"source":case"track":case"video":e=t.getAttribute("src");break;case"a":case"area":case"link":e=t.getAttribute("href");break;case"object":e=t.getAttribute("data");break;case"data":case"meter":e=t.getAttribute("value");break;case"time":e=t.getAttribute("datetime");break;default:e=function(t){if(t){if(t.innerText&&t.innerText.length>0)return t.innerText;if(t.textContent&&t.textContent.length>0)return t.textContent}return""}(t)||""}return"string"==typeof e?nF(e):""}(l);if(null!=p){var h=c[f];null!=h&&function(t,e){return null!=[{property:"image",type:"Product"}].filter(function(n){return(t==="https://schema.org/"+n.type||t==="http://schema.org/"+n.type)&&n.property===e})[0]}(a,f)?Array.isArray(h)?c[f].push(p):c[f]=[h,p]:c[f]=p}}}}e.unshift({schema:{dimensions:{h:i.clientHeight,w:i.clientWidth},properties:nH(a)?{}:c,subscopes:[],type:a},scope:i})}}for(var d=[],v=[],_=0;_<e.length;_++){for(var m=e[_],g=m.scope,y=m.schema,E=d.length-1;E>=0;E--)if(d[E].scope.contains(g)){d[E].schema.subscopes.push(y);break}else d.pop();0===d.length&&v.push(y),d.push({schema:y,scope:g})}var w=JSON.stringify(v);return w.length>3e4&&(w="[]",nU.getMicroData=!1),w}()}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"microdata"})}try{var n=function(){if(!nU.getJSONLD)return{data:"[]",errors:[]};for(var t=[],e=[],n=document.querySelectorAll('script[type="application/ld+json"]'),r=0,o=0;o<n.length;o++){var i=n[o].innerText;if(null!=i&&""!==i){if((r+=i.length)>3e4)return nU.getJSONLD=!1,{data:JSON.stringify([]),errors:[{name:iT.OVER_LENGTH,message:""+String(r)}]};var a=void 0;try{a=JSON.parse(i.replace(/[\n\r\t]+/g," "))}catch(t){e.push({name:iT.ERROR_FORMAT,message:t.message})}try{a=function t(e){if("object"!=typeof e)return e;if(Array.isArray(e))return e.map(function(e){return t(e)});var n=Object.assign({},e),r=n["@type"];for(var o in n)"@type"!==o&&"@context"!==o&&("object"==typeof n[o]?n[o]=t(n[o]):r&&nH(r)&&delete n[o]);return n}(a)}catch(t){return{data:JSON.stringify([]),errors:[{name:iT.FILTER_SENSITIVE_FIELDS,message:t.message}]}}a&&t.push(a)}}return{data:JSON.stringify(t),errors:e}}(),r=n.data,o=n.errors;e.json_ld=r,o&&o.forEach(function(t){var e=t.name,n=t.message;(0,u.vU)(s.O.CUSTOM_ERROR,{message:n},{custom_name:"parse_json_ld_failed",custom_enum:e})})}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"json_ld"})}try{e.open_graph=function(t){if(!nU.getOpenGraph)return"{}";for(var e=nq(["og","product","music","video","article","book","profile","website","twitter"]),n={},r=document.querySelectorAll("meta[property],meta[name]"),o=0;o<r.length;o++){var i=r[o],a=i.getAttribute("property")||i.getAttribute("name"),c=nF(i.getAttribute("content"));if("string"==typeof a&&-1!==a.indexOf(":")&&"string"==typeof c&&e.has(a.split(":")[0])){var u=n[a];null!=u&&function(t){return null!=["og:image"].filter(function(e){return e===t})[0]}(a)?Array.isArray(u)?n[a].push(c):n[a]=[u,c]:n[a]=c}}return JSON.stringify(nG(n,t))}(t.open_graph)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"open_graph"})}try{e.meta=function(t){if(!nU.getMetaData)return"{}";var e={},n=nq(["description","keywords","keyword"]),r=document.querySelector("title");r&&(e.title=nF(r.innerText));for(var o=document.querySelectorAll("meta[property],meta[name]"),i=0;i<o.length;i++){var a=o[i],c=a.getAttribute("name")||a.getAttribute("property"),u=nF(a.getAttribute("content"));"string"==typeof c&&"string"==typeof u&&n.has(c)&&(e[c]=u)}return JSON.stringify(nG({title:e.title,"meta:description":e.description,"meta:keywords":e.keywords||e.keyword},t))}(t.meta)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"meta"})}return e}(i.filter),i.actTracker.report(iS.METADATA,iN.AUTO_COLLECTION,{page_trigger:t,content_data:i.autoCollectedMetadata});try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e),"auto_config_metadata_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},200,rz(i)),a=rQ(rJ().mark(function t(e){var n,r,o,a,c,l,f,p;return rJ().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=i.initializeVersion2?"v2":"v1",o=(r=nP(e.target)).buttonFlag,a=r.triggerElement,(c=function(t){try{var e,n,r,o,i,a={},c={},l=t.composedPath(),f=function(t){for(var e=t.target;e;)if(e instanceof Node){if(e.nodeType===Node.ELEMENT_NODE)return e;e=e.parentNode}else break;return null}(t);if(!f||nO(f)||f instanceof HTMLElement&&(e=f.className.toUpperCase(),n=f.id.toUpperCase(),Array.from(nl.IRRELEVANT_KEYWORDS).some(function(t){return e.includes(t)||n.includes(t)})))return null;a=function(t){for(var e,n={from:ix.COMPOSED_PATH},r=!1,o=!1,i=nN(t);!(e=i()).done;){var a=e.value;if(!o&&a instanceof HTMLImageElement){var c=nR(a);c&&(n.image_url=c,o=!0)}if(!r&&a instanceof HTMLAnchorElement){var u=nS(a);if(u){n.destination=u,n.inner_text=a.innerText,r=!0;break}}}return n}(l);var p=function(t){for(var e,n=nN(t);!(e=n()).done;){var r=e.value;try{if(nM(r))return r}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"auto_click",custom_enum:"find_card_container_error"});break}}return null}(l);p&&(c=function(t){var e={from:ix.FIND_PRODUCT_CARD};if(e.inner_text=t.innerText,!e.image_url){var n=function(t){if(!t)return null;var e=Array.from(t.getElementsByTagName("img"));if(0===e.length)return null;var n=e.reduce(function(t,e){var n=nR(e);if(!n)return t;var r=e.offsetWidth,o=e.offsetHeight;return r<nl.MAIN_IMG_MIN_SIZE&&o<nl.MAIN_IMG_MIN_SIZE?t:[].concat(t,[{img:e,src:n,width:r,height:o}])},[]);return 0===n.length?null:n.reduce(function(t,e){return e.width>t.width?e:t})}(t);n&&(e.image_url=n.src)}if(!e.destination){var r=nD(t);r&&(e.destination=r)}return e}(p));var h=(r={composedPath:a,container:c},o=nl.PRIORITY_CONFIG,i={},Object.entries(o).forEach(function(t){for(var e,n=t[0],o=t[1],a=nv(o);!(e=a()).done;){var c=r[e.value][n];if(c){i[n]=c;break}}}),i),d=h.destination||h.image_url;return p?h.from=ix.FIND_PRODUCT_CARD:h.from=ix.COMPOSED_PATH,d?h:null}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"auto_click",custom_enum:"findRelatedParameter_error"}),null}}(e))&&!o&&(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"auto_click",custom_enum:"findRelatedParameter"}),!("v1"===n&&!a||"v2"===n&&!o&&!c)){t.next=7;break}return t.abrupt("return");case 7:if((i.ttqOptions.vids&&i.ttqOptions.vids.includes("74531382")||tm(r2))&&i.queryDeepIntentData(),i.signal_insights_config&&n8(i.context,i.signal_insights_config),!a){t.next=22;break}return l=nk(nC(a)),t.next=14,i.sensitiveFilterRedactor.process(l,nd);case 14:if((f=t.sent).success){t.next=18;break}return(0,u.vU)(s.O.CUSTOM_ERROR,f.error,{custom_name:"auto_click",custom_enum:"sensitive_filter_error"}),t.abrupt("return");case 18:p=f.redactedOutput,function(t){var e,n,r=(null==(e=t.inner_text)?void 0:e.toString().toLowerCase())||"",o=(null==(n=t.image_url)?void 0:n.toString().toLowerCase())||"",i=[];if(t.attributes){var a=t.attributes;i=[a.class,a.id,a.name,a.type,a.value,a.destination].map(function(t){return(null==t?void 0:t.toString().toLowerCase())||""})}return[r,o].concat(i).some(nm)}(l)&&(p.filter_version=iL.V1),i.sensitiveFilterRedactor.isHasSensitiveData()&&(p.filter_version=(p.filter_version?p.filter_version+",":"")+iL.V2),i.reportButtonClick({triggerElement:p,intent_data:[].concat(i.intent_data,c?[c]:[])});case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(0),(0,u.vU)(s.O.CUSTOM_ERROR,t.t0,{custom_name:"auto_click",custom_enum:"auto_click_callback_error"});case 27:case"end":return t.stop()}},t,null,[[0,24]])})),i.autoClickCallback=function(t){return a.apply(this,arguments)},i.filter=r.auto_config||{open_graph:[],microdata:[],json_ld:[],meta:[]},i.actTracker=new rm(e,n,o,r),i.ttqOptions=r,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,r$(e,t);var n,r=e.prototype;return r.initBaseFeature=function(){var t=this.getAutoConfigVersion(this.currentPixelCode),e=this.reporters.some(function(t){return nE(t)});!this.initializeVersion2&&("v1"===t&&!this.initializeVersion1&&e&&(this.initializeVersion1=!0,this.initAutoCollection(),this.initInteractionListener(),this.initAutoClick(t)),"v2"===t&&e&&(this.initializeVersion1||(this.initAutoCollection(),this.initInteractionListener()),this.initAutoClick(t),this.initializeVersion2=!0))},r.initExtraFeature=function(){!this.autoForm&&(this.initializeVersion2||this.initializeVersion1)&&this.reporters.some(function(t){return nw(t,iN.AUTO_FORM)})&&this.initAutoForm(),this.initAutoVC()},r.queryDeepIntentData=function(){try{var t=function(){try{var t=(i=(o=V()).url,a=o.title,c=i.toLowerCase().includes(np),l=a.toLowerCase().includes(np),{isCheckoutPage:c||l,isUrlMatch:c,isTitleMatch:l}),e=t.isCheckoutPage,n=t.isUrlMatch,r=t.isTitleMatch;if(!e)return null;rK||(rK=!0,(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"auto_click",custom_enum:"checkout_page_identified",extJSON:{message:+!!n+"|"+ +!!r}}));for(var o,i,a,c,l,f,p=new Set([]),h=[],d=[],v=Array.from(document.getElementsByTagName("img")).filter(function(t){for(var e=t.className,n=0,r=Array.from(nl.INVALID_IMG_KEYWORDS);n<r.length;n++){var o=r[n];if(e.includes(o))return!1}return!0}),_=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return rB(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rB(t,e)}}(t))){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(v);!(f=_()).done;){var m=f.value;if(h.length>nf.MAX_PRODUCTS_COUNT)break;if(!rW.has(m)){if(rW.add(m),!(m.height<nf.MIN_IMG_SIZE)){var g=nR(m);if(g){for(var y=[],E=h.length,w=m.parentElement,b=0;b<15&&w&&2!=nj(w)&&(b++,!p.has(w));){if(y.push(w),nM(w,{RequiredWeightAndHeight:!!w.clientWidth,RequiredImageData:!0,RequiredLinkData:!1})&&rY(w)&&rX(w.innerText).length<=nf.MAX_COMPRESS_STRING_LENGTH){d.push(w);var O=nD(w),I=rX(w.innerText);h.push({image_url:g,inner_text:I,destination:O||"",from:ix.CHECKOUT}),p.add(w);break}w=w.parentElement}if(E==h.length){var T=function(t){var e=null;try{var n={from:ix.CHECKOUT};if(0==t.length)return{intentData:null,containerNode:null};for(var r=t.length-1;r>=0;r--){var o=t[r],i=nD(o);if(rY(o))e=o,n.inner_text=rX(o.innerText),n.destination=i||n.destination;else break}if(!e||!n.inner_text||n.inner_text.length>nf.MAX_COMPRESS_STRING_LENGTH)return{intentData:null,containerNode:null};return{intentData:n,containerNode:e}}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"auto_click",custom_enum:"reverseCheckoutPageInfo_error"}),{intentData:null,containerNode:null}}}(y),R=T.intentData,S=T.containerNode;S&&R&&(d.push(S),R.image_url=g,h.push(R))}}}}}if(function(t,e){if(!(t.length<=nf.MAX_PRODUCTS_COUNT)){for(var n=nI(e[nf.MAX_PRODUCTS_COUNT]),r=nf.MAX_PRODUCTS_COUNT,o=nf.MAX_PRODUCTS_COUNT-1;o>=0;o--)if(nT(n,nI(e[o]))>nf.INVALID_DATA_SIMILARITY_THRESHOLD)r--;else break;t.splice(r),e.splice(r)}}(h,d),0==h.length)return null;return h}catch(t){return(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"auto_click",custom_enum:"queryCheckoutPageIntentData_error"}),null}}();t&&(this.intent_data=function(t){for(var e,n=new Set,r=[],o=nN(t);!(e=o()).done;){var i=e.value,a=i.image_url;n.has(a)||(n.add(a),r.push(i))}return r}([].concat(this.intent_data,t)),(0,u.um)(s.O.CUSTOM_INFO,{custom_name:"auto_click",custom_enum:"queryCheckoutPageIntentData",extJSON:{message:""+this.intent_data.length}}))}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"autoclick",custom_enum:"queryDeepIntentData"})}},r.initInteractionListener=function(){var t=this;this.reporters.some(function(t){var e=t.options;return e&&!1!==e.autoConfigListener})&&new rv([function(e){ny(t.autoCollectionUpdateHandler,t)(e)},function(e){ny(t.autoFormUpdateHandler,t)(e)}])},r.initAutoClick=function(t){var e=this;nc(is.CLICK,function(t){e.autoClickCallback(t)},{throttle:!0,interval:1e3},t);try{if(this.sensitiveFilterRedactor)return;this.sensitiveFilterRedactor=new rV;var n=this.sensitiveFilterRedactor.createRedactor(rO,[],iD.EMAIL),r=this.sensitiveFilterRedactor.createRedactor(rI,[],iD.CREDIT_CARD),o=this.sensitiveFilterRedactor.createRedactor(rT,[],iD.ID_SSN),i=this.sensitiveFilterRedactor.createRedactor(rR,[],iD.PASSPORT),a=this.sensitiveFilterRedactor.createRedactor(rS,[],iD.DRIVING_LICENSE),c=this.sensitiveFilterRedactor.createRedactor(rb,[],iD.PHONE),l=this.sensitiveFilterRedactor.createRedactor([],ry);this.sensitiveFilterRedactor.registerRedactor(l),this.sensitiveFilterRedactor.registerRedactor(n),this.sensitiveFilterRedactor.registerRedactor(r),this.sensitiveFilterRedactor.registerRedactor(o),this.sensitiveFilterRedactor.registerRedactor(i),this.sensitiveFilterRedactor.registerRedactor(a),this.sensitiveFilterRedactor.registerRedactor(c)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"auto_click",custom_enum:"sensitive_init_error"})}},r.initAutoVC=function(){var t=this;this.reporters.find(function(e){var n=n4(e);return!!n&&(t.signal_insights_config=n,!0)})},r.initAutoCollection=function(){},r.initAutoForm=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"initAutoForm",start:performance.now()}}catch(t){}this.autoForm=new n$(this.reporters),this.autoForm.addFormUpdateHandler(this.autoFormUpdateHandler.bind(this)),this.autoCollectedFormDetail=this.autoForm.getOverallFormDetail();try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}},r.pixelDidMount=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"auto_config_plugin_pixelDidMount",start:performance.now()}}catch(t){}this.currentPixelCode=t.getReporterId(),this.initBaseFeature(),this.initExtraFeature();try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},r.patchEnd=function(){this.initBaseFeature(),this.initExtraFeature()},r.pixelSend=function(t,e,n){var r=this.reporters.find(function(e){return e.getReporterId()===t});if(this.currentPixelCode=t,this.signal_insights_config&&n8(this.context,this.signal_insights_config),r&&n4(r)&&(rl(rp)||rl(rh))){((0,p.Zq)(e)||"Pageview"===e||"InitiateCheckout"===e||"PlaceAnOrder"===e)&&(o=rl(rp));var o,i=rl(rh);n.auto_collected_properties={vc_properties:Object.assign(Object.assign({},o&&{value:o.value,currency:o.currency,ori_value:o.ori_value,rule_key:o.rule_key}),i&&{parameter_inference:i})}}(0,p.Zq)(e)&&setTimeout(function(){rf(rp)},500),"Pageview"===e&&(!r||nE(r))&&(ny(this.autoCollectionUpdateHandler,this)(iP.PAGE_VIEW),ny(this.autoFormUpdateHandler,this)(iP.PAGE_VIEW))},r.pageUrlDidChange=function(t,e){null!=e&&""!=e&&(this.autoCollectionUpdateHandler(iP.URL_CHANGE),this.autoFormUpdateHandler(iP.URL_CHANGE))},r.pageWillLeave=function(){this.autoCollectionUpdateHandler(iP.PAGE_LEAVE),this.autoFormUpdateHandler(iP.PAGE_LEAVE)},n=rQ(rJ().mark(function t(e){var n,r,o,i;return rJ().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=rl(rp)||void 0,(r=rl(rh)||void 0)&&((n=n||{}).parameter_inference=r),("v1"==(this.initializeVersion2?"v2":"v1")||"1"===tm(r2))&&(e.intent_data=e.intent_data.filter(function(t){return t.from===ix.CHECKOUT})),o=void 0,e.intent_data.length){t.next=10;break}o=void 0,t.next=14;break;case 10:return t.next=12,this.sensitiveFilterRedactor.process(e.intent_data,new Set(nh));case 12:(i=t.sent).success&&(o=i.redactedOutput);case 14:this.actTracker.report(iS.CLICK,iN.AUTO_VC,{page_trigger:iP.CLICK,trigger_element:e.triggerElement,vc_properties:n,intent_data:o}),this.actTracker.report(iS.CLICK,iN.AUTO_VC_REVERSE,{page_trigger:iP.CLICK,trigger_element:e.triggerElement,intent_data:o});case 16:case"end":return t.stop()}},t,this)})),r.reportButtonClick=function(t){return n.apply(this,arguments)},r.getAutoConfigVersion=function(t){var e=this.reporters.find(function(e){return e.getReporterId()===t});if(!e)return"v1";var n=e.plugins,r=n&&n.AutoConfigV2,o=this.ttqOptions.vids&&this.ttqOptions.vids.includes("74539885");return tm(r2)||r&&o?"v2":"v1"},e}(eX);r3=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),r0(0,F(m.CONTEXT)),r0(1,F(m.TTQ_REPORTERS)),r0(2,F(m.TTQ_GLOBAL_OPTIONS)),r0(3,F(m.REPORT_SERVICE))],r3);var r6=n(278),r5=n.n(r6),r8={EMPTY_EVENT_TYPE_NAME:{title:"Missing Event Name",desc:"The event name for one or more of your events is empty. This can affect the accuracy of reporting for your conversions.",suggestion:"Go to your source code and add a name that follows our format requirements and TikTok policies.",link:"https://ads.tiktok.com/marketing_api/docs?rid=5ipocbxyw8v&id=1701890973258754"},INVALID_CONTENT_ID:{title:"Missing value for content ID",desc:"Include a value for your 'content_id' parameter. This is required for Video Shopping Ads (VSA).",suggestion:"If you are or plan to run Video Shopping Ads (VSA), go to your source code and include a value for the 'content_id' parameter.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_CONTENT_TYPE:{title:"Invalid content type",desc:'The content type for one or more of your events is not valid. Content type must be either "product", "product_group", "destination", "hotel", "flight" or "vehicle".',suggestion:"Go to your source code and update the content type.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_CURRENCY_CODE:{title:"Invalid currency code",desc:"The currency code for one or more of your events isn't supported. This can affect the accuracy of reporting for your ROAS.",suggestion:"Go to your source code and update the 'currency' parameters with a supported currency code.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_EMAIL_FORMAT:{title:"Incorrect email format",desc:"The email format for your events does not match the format supported. This can impact Advanced Matching and your ad performance.",suggestion:"Go to your source code and update the format of your shared emails. It should follow 'xxx@xxx.com' format.",link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_EMAIL_INFORMATION:{title:"Invalid email information",desc:"The emails shared with your events were invalid.",suggestion:'Go to your source code to double check shared emails. Leave your string empty when customer information isn\'t available. Avoid spaces, "undefined", or other hardcoded values.',link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_EVENT_PARAMETER_VALUE:{title:"Invalid value parameter",desc:"The 'value' parameter for one or more of your events is invalid. This is used calculate ROAS for people and the bid for your highest value customers. Parameters must be an integer or in the decimal format (e.g. 9.99). Also, they can't contain currency symbols, special characters, letters, or commas.",suggestion:"Go to your source code and update the 'value' parameter. It can only include numbers greater than or equal to zero (e.g. 9.99). Do not include currency symbols, special characters, letters, or commas.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_PHONE_NUMBER_FORMAT:{title:"Incorrect phone number format",desc:"The phone number format for your events doesn't follow the E.164 format. This can affect Advanced Matching and your ad performance.",suggestion:"Go to your source code and update your shared phone numbers. It should follow the E.164 format.",link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_PHONE_NUMBER_INFORMATION:{title:"Invalid phone number information",desc:"The phone numbers shared with your events were invalid.",suggestion:'Go to your source code to double check shared phone numbers. Leave your string empty when customer information isn\'t available. Avoid spaces, "undefined", or other hardcoded values.',link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},LONG_EVENT_TYPE_NAME:{title:"Event Name Too Long",desc:"1 event type exceeds the 50 character limit.",suggestion:"Go to your source code and make these event names 50 characters or less.",link:"https://ads.tiktok.com/help/article/custom-events?lang=en"},MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT:{title:"Invalid Event Name Format",desc:"1 event name was rejected for not following TikTok format requirements.",suggestion:"Go to your source code and update these event types according to TikTok format requirements.",link:"https://ads.tiktok.com/help/article/custom-events?lang=en"},MISSING_CONTENT_ID:{title:"Missing 'content_id' paramter",desc:"The 'content_id' parameter isn't being received. This is required for Video Shopping Ads (VSA).",suggestion:"Include the 'content_id' parameter in your source code. This is required for Video Shopping Ads (VSA).",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},MISSING_CURRENCY_PARAMETER:{title:'Missing "currency" parameter',desc:"Events shared are missing a 'currency' parameter. This impacts our ability to receive the value amount correctly, which can affect the accuracy of reporting for your return on ad spend.",suggestion:'Go to your source code and include the "currency" parameter. You can check supported currency codes. {{learn_more}}',link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},MISSING_EMAIL_AND_PHONE:{title:"Missing email and phone number",desc:"Email and phone number info isn't being received. This information is required for Complete Payment events.",suggestion:"Improve your email and phone coverage. This allows you to attribute more conversions and reach more people with your ads.",link:"https://ads.tiktok.com/marketing_api/docs?rid=5ipocbxyw8v&id=1701890972946433"},MISSING_VALUE_PARAMETER:{title:'Missing "value" parameter',desc:"Events shared are missing a 'value' parameter'. This is used calculate ROAS for people and the bid for your highest value customers. ",suggestion:'Go to your source code and include the "value" parameter.',link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},DUPLICATE_PIXEL_CODE:{title:"Duplicate Pixel ID",desc:"The pixel ID is duplicate. This could impact the pixel data accuracy.",suggestion:"Please double check and delete any unnecessary pixel code.",link:""},MISSING_PIXEL_CODE:{title:"Missing pixel ID",desc:"Some of the events sent to your TikTok account are missing a pixel ID.",suggestion:"Go to your source code and double check that the 20-character pixel ID has been added to the ttq.load() function. Don't send null values or spaces. If you edited the base code, ensure the event.js has the 'sdkid' in the Chrome network panel.",link:""},INVALID_PIXEL_CODE:{title:"Invalid pixel ID",desc:"The pixel ID is invalid. This could prevent your pixel from receiving data.",suggestion:"Please go to Events Manager and find the correct pixel ID.",link:""}},r4=/^[a-zA-Z\d]([a-zA-Z_\-\d ]{0,}[a-zA-Z_\-\d])?$/,r9=["product","product_group","destination","hotel","flight","vehicle"],r7=["email_is_hashed","phone_is_hashed","sha256_email","sha256_phone"],ot=["Purchase","CompletePayment","InitiateCheckout","AddToCart","PlaceAnOrder","ViewContent","AddToWishlist"],oe=function(t){return void 0===t},on=function(t,e){if(i_[t]){var n=(0,l.E9)(),r=r8[t],o="[TikTok Pixel] - "+r.title;r.desc&&(o+="\nIssue: "+r.desc),r.suggestion&&(o+="\nSuggestion: "+r.suggestion),e&&Object.keys(e).forEach(function(t){o=o.split("{{"+t+"}}").join(e[t])}),o=o.trim(),r.link&&(o+=" See "+r.link+" for more information."),n&&n.console&&n.console.warn&&n.console.warn(o)}};(ii=iM||(iM={}))[ii.Live=0]="Live",ii[ii.NoRecord=1]="NoRecord";var or=function(t){var e=t.event,n=void 0===e?"":e;return!!(["null","undefined"].includes(n)||/^\s*$/.test(n))||!n},oo=function(t){var e=t.event;return!!or(t)||r4.test(void 0===e?"":e)},oi=function(t){var e=t.event;return(void 0===e?"":e).length<=50},oa=function(t){var e=t.event,n=t._inspection;if((0,p.Zq)(e)){var r=(void 0===n?{}:n).identity_params,o=void 0===r?{}:r;return 0===Object.keys(o).length||r7.every(function(t){return(o[t]||[]).includes(tI.Vp.EMPTY_VALUE)})}return!1},oc=function(t){var e=t._inspection,n=void 0===e?{}:e;return!!n&&!!n.identity_params&&((n.identity_params.email_is_hashed||[]).includes(tI.Vp.FILTER_EVENTS)||(n.identity_params.sha256_email||[]).includes(tI.Vp.FILTER_EVENTS))},ou=function(t){var e=t._inspection,n=void 0===e?{}:e;return!!n&&!!n.identity_params&&((n.identity_params.email_is_hashed||[]).includes(tI.Vp.UNKNOWN_INVALID)||(n.identity_params.sha256_email||[]).includes(tI.Vp.UNKNOWN_INVALID))},os=function(t){var e=t._inspection,n=void 0===e?{}:e;return!!n&&!!n.identity_params&&((n.identity_params.phone_is_hashed||[]).includes(tI.Vp.FILTER_EVENTS)||(n.identity_params.sha256_phone||[]).includes(tI.Vp.FILTER_EVENTS))},ol=function(t){var e=t._inspection,n=void 0===e?{}:e;return!!n&&!!n.identity_params&&((n.identity_params.phone_is_hashed||[]).includes(tI.Vp.UNKNOWN_INVALID)||(n.identity_params.sha256_phone||[]).includes(tI.Vp.UNKNOWN_INVALID))},of=function(t){var e=t.event,n=t.properties,r=void 0===n?{}:n;if(ot.includes(void 0===e?"":e)){if(oe(r.contents)&&oe(r.content_id))return!0;if(!oe(r.contents))return!Array.isArray(r.contents)||r.contents.length<1||!r.contents.every(function(t){return t&&!oe(t.content_id)})}return!1},op=function(t){var e=t.properties,n=void 0===e?{}:e,r=n.content_id,o=n.contents;return!(!oe(r)&&/^\s*$/.test(r))&&(!(!oe(o)&&Array.isArray(o))||o.every(function(t){return t&&!oe(t.content_id)&&!/^\s*$/.test(t.content_id)}))},oh=function(t){var e=t.properties.content_type;return!e||r9.includes(e)},od=function(t){var e=t.properties.value;return!e||!!("number"==typeof e||"string"==typeof e&&(/^\d+(\.\d+)?$/.test(e)||/^\d+$/.test(e)))},ov=function(t){var e=t.event,n=t.properties,r=void 0===n?{}:n;return!!((0,p.Zq)(void 0===e?"":e)&&oe(r.value)||!oe(r.currency)&&oe(r.value))},o_=function(t){var e=t.properties.currency;return!e||tq.includes(e)},om=function(t){var e=t.event,n=t.properties,r=void 0===n?{}:n;return!!((0,p.Zq)(void 0===e?"":e)&&oe(r.currency)||!oe(r.value)&&oe(r.currency))};function og(t,e){return(og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var oy=function(t,e){return function(n,r){e(n,r,t)}},oE=function(t){function e(e,n,r){var o,i;return(o=t.call(this,{name:"DiagnosticsConsole",reporters:n,context:e})||this).isEnableDiagnosticsConsole=!1,o.isEnableDiagnosticsConsole=!!(null==(i=null==r?void 0:r.plugins)?void 0:i.DiagnosticsConsole),o}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,og(e,t);var n=e.prototype;return n.isDisableDiagnosticsConsole=function(){try{if(this.isEnableDiagnosticsConsole)return!!Object.values(this.reporters).some(function(t){var e,n;return void 0!==(null==(e=null==t?void 0:t.options)?void 0:e.diagnostics)&&!(null==(n=null==t?void 0:t.options)?void 0:n.diagnostics)});return!0}catch(t){return!1}},n.warn=function(t,e){try{if(this.isDisableDiagnosticsConsole())return;on(t,e)}catch(e){(0,u.vU)(s.O.CUSTOM_ERROR,e,{custom_name:"diagnostics_console",custom_enum:t})}},n.pixelDidMount=function(t){var e=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"console_plugin_pixelDidMount",start:performance.now()}}catch(t){}t.getParameterInfo().then(function(t){e.handlePixelInfoValidate(t)}).catch(function(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"diagnostics_console",custom_enum:"pixel"})});try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}},n.pixelSend=function(t,e,n,r,o){void 0===r&&(r={});try{r&&r._i||o!==ig.TRACK||e===tU||this.handleEventPayloadValidate(r5()(n||{}))}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"diagnostics_console",custom_enum:"track"})}},n.handlePixelInfoValidate=function(t){if(t.status!==iM.Live)return void this.warn(i_.INVALID_PIXEL_CODE)},n.handleEventPayloadValidate=function(t){t.properties||(t.properties={}),or(t)&&this.warn(i_.EMPTY_EVENT_TYPE_NAME),oo(t)||this.warn(i_.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT),oi(t)||this.warn(i_.LONG_EVENT_TYPE_NAME),oa(t)&&this.warn(i_.MISSING_EMAIL_AND_PHONE),oc(t)&&this.warn(i_.INVALID_EMAIL_INFORMATION),ou(t)&&this.warn(i_.INVALID_EMAIL_FORMAT),os(t)&&this.warn(i_.INVALID_PHONE_NUMBER_INFORMATION),ol(t)&&this.warn(i_.INVALID_PHONE_NUMBER_FORMAT),of(t)&&this.warn(i_.MISSING_CONTENT_ID),op(t)||this.warn(i_.INVALID_CONTENT_ID),oh(t)||this.warn(i_.INVALID_CONTENT_TYPE),od(t)||this.warn(i_.INVALID_EVENT_PARAMETER_VALUE),ov(t)&&this.warn(i_.MISSING_VALUE_PARAMETER),o_(t)||this.warn(i_.INVALID_CURRENCY_CODE),om(t)&&this.warn(i_.MISSING_CURRENCY_PARAMETER,{learn_more:""})},e}(eX);function ow(t,e){return(ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}oE=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),oy(0,F(m.CONTEXT)),oy(1,F(m.TTQ_REPORTERS)),oy(2,F(m.TTQ_GLOBAL_OPTIONS))],oE);var ob=function(t,e){return function(n,r){e(n,r,t)}},oO=function(t){function e(e,n,r,o){var i;return(i=t.call(this,{name:"PangleCookieMatching",reporters:n,context:e})||this).hasReport=!1,i.reportService=r,i.env=o,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,ow(e,t);var n=e.prototype;return n.isPixelPangleCookieMatching=function(t){void 0===t&&(t="");var e=this.reporters;if(t){var n=e.find(function(e){return e.getReporterId()===t});if(n&&n.plugins.PangleCookieMatching)return!0}else if(e.some(function(t){return!!t.plugins.PangleCookieMatching}))return!0;return!1},n.disablePangleCookie=function(){this.isPixelPangleCookieMatching()&&tD("https://analytics.pangle-ads.com/api/v2/pangle_disable_cookie")},n.pixelSend=function(t,e,n,r,o){void 0===r&&(r={});try{var i;if((null==(i=this.context.getPageSign().pageIndex)?void 0:i.index)===0&&!(0,f.Z0)(this.env)&&n&&n.message_id&&this.isPixelPangleCookieMatching(t)&&!this.hasReport){var a=n.event,c=n.message_id,l=n.context.library,p={event:a,message_id:c,context:{library:l},timestamp:new Date().toJSON()};this.hasReport=!0,this.reportService.report("https://analytics.pangle-ads.com/api/v2/pangle_pixel",p,iE.httpReport)}}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"pangle_report"})}},e}(eX);oO=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),ob(0,F(m.CONTEXT)),ob(1,F(m.TTQ_REPORTERS)),ob(2,F(m.REPORT_SERVICE)),ob(3,F(m.ENV))],oO);var oI="https://analytics.tiktok.com/i18n/pixel/eb.js",oT="_tt_event_builder";function oR(t,e){return(oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}(ia=ij||(ij={})).EVENT_BUILD_BOOTSTRAP_ACK="event_builder_bootstrap_ack",ia.EVENT_BUILD_WRONG_CODE="event_builder_wrong_code",ia.EVENT_BUILD_BOOTSTRAP="event_builder_bootstrap";var oS=function(t,e){return function(n,r){e(n,r,t)}},oN=function(t){function e(e,n){var r;return(r=t.call(this,{name:"EventBuilder",reporters:n,context:e})||this).pluginMounted=!1,r}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,oR(e,t),e.prototype.pixelDidMount=function(t){var e=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"event_builder_plugin_pixelDidMount",start:performance.now()}}catch(t){}if(!this.pluginMounted){this.pluginMounted=!0;var r=(0,l.Ie)(),o=function(t){t.data.type===ij.EVENT_BUILD_BOOTSTRAP&&!r._event_builder_pickup_sdk_loaded&&(e.reporters.find(function(e){return e.getReporterId()===t.data.pixelCode})?(r._event_builder_pickup_sdk_loaded=!0,Y(oT,t.data),tD(oI).then(function(){window.opener.window.postMessage({type:ij.EVENT_BUILD_BOOTSTRAP_ACK},"*")}).catch(function(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"event_builder_load_error",custom_enum:"load_ebjs"})})):r._event_builder_pickup_sdk_verify_flag||(setTimeout(function(){e.reporters.find(function(e){return e.getReporterId()===t.data.pixelCode})||window.opener.window.postMessage({type:ij.EVENT_BUILD_WRONG_CODE},"*")},5e3),r._event_builder_pickup_sdk_verify_flag=!0))};!r._event_builder_pickup_sdk_loaded&&(W(oT)?tD(oI).then(function(){r._event_builder_pickup_sdk_loaded=!0}):window.opener&&(window.addEventListener("message",o),setTimeout(function(){window.removeEventListener("message",o)},8e3)));try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}}},e}(eX);function oA(t,e){return(oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}oN=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),oS(0,F(m.CONTEXT)),oS(1,F(m.TTQ_REPORTERS))],oN);var oP=function(t,e){return function(n,r){e(n,r,t)}},oL="tt_pixel_is_enrich_ipv6_triggered_by_enrich_am",ox=function(t){function e(e,n,r,o){var i;return(i=t.call(this,{name:"EnrichIpv6",reporters:n,context:e})||this).hasReported=!1,i.shouldReportAfterEnrichAM=!1,i.reportService=r,i.env=o,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,oA(e,t);var n=e.prototype;return n.isPixelEnrichIpv6=function(){var t=this.reporters;return!!t&&0!==t.length&&t.every(function(t){return t&&t.plugins&&!0===t.plugins.EnrichIpv6})},n.isEnrichIpv6V2SwitchOn=function(){var t="EnrichIpv6V2";try{var e=(0,l.Ie)()._plugins||{};if(null!=e[t])return!!e[t];return!1}catch(t){return!1}},n.buildEnrichIpv6Data=function(t){var e=this.isEnrichIpv6V2SwitchOn()?"#source=2":"#source=1";return Object.assign(Object.assign({},t),{event:"EnrichIpv6",trigger_event:t.event,message_id:t.message_id+e})},n.pixelSend=function(t,e,n,r,o){void 0===r&&(r={});try{var i;if(o!==ig.TRACK||!("Shopify"===(0,l.kW)(t)||this.isEnrichIpv6V2SwitchOn())||(0,f.Z0)(this.env)||!(n&&n.message_id)||((null==(i=this.context.getPageSign().pageIndex)?void 0:i.index)===0&&!this.hasReported&&this.isPixelEnrichIpv6()&&(this.hasReported=!0,this.reportService.report(to,this.buildEnrichIpv6Data(n),iE.htmlHttpReport)),"true"===sessionStorage.getItem(oL)))return;"EnrichAM"===e&&(this.shouldReportAfterEnrichAM=!0),this.shouldReportAfterEnrichAM&&this.isPixelEnrichIpv6()&&(this.shouldReportAfterEnrichAM=!1,sessionStorage.setItem(oL,"true"),this.reportService.report(to,this.buildEnrichIpv6Data(n),iE.htmlHttpReport))}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"enrich_ipv6_report"})}},e}(eX);function oC(t){return performance&&performance.timing?t?Date.now()-t:Date.now()-performance.timing.navigationStart:-1}function ok(t,e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];window.requestIdleCallback?window.requestIdleCallback(t.bind.apply(t,[e].concat(r))):t.apply(e,r)}}function oD(t,e){void 0===e&&(e=4);try{if(Number.isInteger(t))return t;return parseFloat(t.toFixed(e))}catch(t){return -1}}ox=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),oP(0,F(m.CONTEXT)),oP(1,F(m.TTQ_REPORTERS)),oP(2,F(m.REPORT_SERVICE)),oP(3,F(m.ENV))],ox),(ic=iU||(iU={})).FIRST_CONTENTFUL_PAINT="fcp",ic.LARGEST_CONTENTFUL_PAINT="lcp",ic.FIRST_INPUT_DELAY="fid",ic.TIME_TO_FIRST_BYTE="ttfb",ic.PAGE_LEAVE="pl",ic.LOAD_FINISH="lf",ic.TIME_WINDOW_TRACKER="twt",ic.TIME_TO_INTERACTIVE="tti";var oM=function(){function t(t,e,n,r){r?(this.reportService=n,this.context=t,this.reporters=e,this.reportUrl=r):(0,u.vU)(s.O.CUSTOM_ERROR,Error("empty reportUrl"),{custom_name:"empty_reportUrl",custom_enum:"page_perf_monitor"})}var e=t.prototype;return e.getResult=function(t){return{action_event:t}},e.report=function(t){var e=this;if(void 0!==t){var n=this.getReportPixelList(),r=this.assemblyReportData(ig.PAGE,t,n);r&&this.reportService.reportPreTasks.then(function(){e.reportService.report(e.reportUrl,r,iE.defaultReport,iw.P0)}),this.resetAfterReport()}},e.getReportPixelList=function(){return this.reporters},e.assemblyReportData=function(t,e,n){if(0!==n.length){var r,o=n.map(function(t){return t.getReporterId()}),i=this.context.getPageSign(),a=n[0],c=a.assemblyData(a.getReporterId(),"",{},{},ig.PAGE);return delete c.event,c.action=t,c.auto_collected_properties=e,c.context.pixel||(c.context.pixel={}),c.context.pixel.code=o[0],c.context.pixel.codes=o.join("|"),c.context.index=null==(r=i.pageIndex)?void 0:r.index,c.context.session_id=i.sessionId,c.context.pageview_id=(0,tl.gj)(this.context.getPageViewId(),a.reporterInfo.loadId,X.n2),c.message_id=c.message_id.replace(/-[^-]*$/,""),c}},t}();function oj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oU(t,e){return(oU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var oF,oq,oG,oH,oV,oB,oW,oK,oY,oX,oJ,oZ,oQ,oz,o$,o0,o1,o2,o3,o6,o5,o8,o4,o9,o7,it,ie,ir,io,ii,ia,ic,iu,is,il,ip,ih,id,iv,i_,im,ig,iy,iE,iw,ib,iO,iI,iT,iR,iS,iN,iA,iP,iL,ix,iC,ik,iD,iM,ij,iU,iF,iq,iG,iH,iV=function(t){function e(e,n,r,o,i){var a;return void 0===i&&(i=[]),(a=t.call(this,e,n,r,o)||this).clickTimes=0,a.clickTimesTotal=0,a.scrollTimes=0,a.scrollTimesTotal=0,a.stayTime=0,a.stayTimeReported=!1,a.rules=[],a.rules=i,a.init(),a}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,oU(e,t);var n=e.prototype;return n.init=function(){var t,e,n,r,o=this;t=ok(this.updateClickTimes,this),e=(0,tl.P2)(function(e){t()},100),window.addEventListener("click",e,{capture:!0}),n=ok(this.updateScrollTimes,this),r=(0,tl.P2)(function(){n()},500),window.addEventListener("scroll",r,{passive:!0}),setInterval(function(){o.reportInteraction()},1e4)},n.reportInteraction=function(){this.isUpdated()&&(this.report(this.getResult(iU.TIME_WINDOW_TRACKER)),this.resetAfterReport())},n.getResult=function(t){return this.getResultOnWindowTracker(t)},n.getResultOnPageLeave=function(t){var e;if(this.updateStayTime(),this.shouldReport()&&!this.stayTimeReported)return this.stayTimeReported=!0,e={metrics_type:"ct|st|pl",ct:this.clickTimes,st:this.scrollTimes,pl:this.stayTime},{action_event:t,inter:{ct:this.clickTimes,st:this.scrollTimes,pl:this.stayTime},page_inter:e}},n.getResultOnWindowTracker=function(t){var e;return e={metrics_type:"ct|st",ct:this.clickTimes,st:this.scrollTimes},{action_event:t,inter:{ct:this.clickTimes,st:this.scrollTimes},page_inter:e}},n.updateClickTimes=function(){this.clickTimes+=1,this.clickTimesTotal+=1},n.updateScrollTimes=function(){this.scrollTimes+=1,this.scrollTimesTotal+=1},n.updateStayTime=function(){this.stayTime=Math.floor(oC())},n.shouldReport=function(){for(var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return oj(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oj(t,e)}}(t))){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.rules);!(t=e()).done;){var n=t.value;try{if(!n({clickTimes:this.clickTimesTotal,scrollTimes:this.scrollTimesTotal,stayTime:this.stayTime}))return!1}catch(t){return!1}}return!0},n.isUpdated=function(){return 0!=this.clickTimes||0!=this.scrollTimes},n.resetAfterReport=function(){this.clickTimes=0,this.scrollTimes=0},e}(oM),iB=function(t){setTimeout(function(){t(iU.TIME_TO_INTERACTIVE,-1)},0)},iW=function(t){var e=function(){new Promise(function(t,e){setTimeout(function(){var n=performance.getEntriesByType("navigation");if(n.length>0){var r=n[0];t(r.loadEventEnd-r.startTime)}else window.performance.timing?t(window.performance.timing.loadEventEnd-window.performance.timing.navigationStart||-1):e("Performance timing not supported")},0)}).then(function(e){t(iU.LOAD_FINISH,e)}).catch(function(e){t(iU.LOAD_FINISH,-1)})};"complete"===window.document.readyState?e():window.addEventListener("load",e)},iK=-1,iY=function(t){addEventListener("pageshow",function(e){e.persisted&&(iK=e.timeStamp,t(e))},!0)},iX=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},iJ=function(){var t=iX();return t&&t.activationStart||0},iZ=function(t,e){var n=iX(),r="navigate";return iK>=0?r="back-forward-cache":n&&(document.prerendering||iJ()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:r}},iQ=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(t){Promise.resolve().then(function(){e(t.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},iz=function(t,e,n,r){var o,i;return function(a){var c;e.value>=0&&(a||r)&&((i=e.value-(o||0))||void 0===o)&&(o=e.value,e.delta=i,c=e.value,e.rating=c>n[1]?"poor":c>n[0]?"needs-improvement":"good",t(e))}},i$=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},i0=function(t){var e=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},i1=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},i2=-1,i3=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},i6=function(t){"hidden"===document.visibilityState&&i2>-1&&(i2="visibilitychange"===t.type?t.timeStamp:0,i8())},i5=function(){addEventListener("visibilitychange",i6,!0),addEventListener("prerenderingchange",i6,!0)},i8=function(){removeEventListener("visibilitychange",i6,!0),removeEventListener("prerenderingchange",i6,!0)},i4=function(){return i2<0&&(i2=i3(),i5(),iY(function(){setTimeout(function(){i2=i3(),i5()},0)})),{get firstHiddenTime(){return i2}}},i9=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},i7=[1800,3e3],at=function(t,e){e=e||{},i9(function(){var n,r=i4(),o=iZ("FCP"),i=iQ("paint",function(t){t.forEach(function(t){"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-iJ(),0),o.entries.push(t),n(!0)))})});i&&(n=iz(t,o,i7,e.reportAllChanges),iY(function(r){n=iz(t,o=iZ("FCP"),i7,e.reportAllChanges),i$(function(){o.value=performance.now()-r.timeStamp,n(!0)})}))})},ae=[.1,.25],an=function(t,e){e=e||{},at(i1(function(){var n,r=iZ("CLS",0),o=0,i=[],a=function(t){t.forEach(function(t){if(!t.hadRecentInput){var e=i[0],n=i[i.length-1];o&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,i.push(t)):(o=t.value,i=[t])}}),o>r.value&&(r.value=o,r.entries=i,n())},c=iQ("layout-shift",a);c&&(n=iz(t,r,ae,e.reportAllChanges),i0(function(){a(c.takeRecords()),n(!0)}),iY(function(){o=0,n=iz(t,r=iZ("CLS",0),ae,e.reportAllChanges),i$(function(){return n()})}),setTimeout(n,0))}))},ar={passive:!0,capture:!0},ao=new Date,ai=function(t,e){iF||(iF=e,iq=t,iG=new Date,au(removeEventListener),aa())},aa=function(){if(iq>=0&&iq<iG-ao){var t={entryType:"first-input",name:iF.type,target:iF.target,cancelable:iF.cancelable,startTime:iF.timeStamp,processingStart:iF.timeStamp+iq};iH.forEach(function(e){e(t)}),iH=[]}},ac=function(t){if(t.cancelable){var e,n,r,o=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?(e=function(){ai(o,t),r()},n=function(){r()},r=function(){removeEventListener("pointerup",e,ar),removeEventListener("pointercancel",n,ar)},addEventListener("pointerup",e,ar),addEventListener("pointercancel",n,ar)):ai(o,t)}},au=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,ac,ar)})},as=[100,300],al=function(t,e){e=e||{},i9(function(){var n,r=i4(),o=iZ("FID"),i=function(t){t.startTime<r.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))},a=function(t){t.forEach(i)},c=iQ("first-input",a);n=iz(t,o,as,e.reportAllChanges),c&&i0(i1(function(){a(c.takeRecords()),c.disconnect()})),c&&iY(function(){n=iz(t,o=iZ("FID"),as,e.reportAllChanges),iH=[],iq=-1,iF=null,au(addEventListener),iH.push(i),aa()})})},af=[2500,4e3],ap={},ah=function(t,e){e=e||{},i9(function(){var n,r=i4(),o=iZ("LCP"),i=function(t){var e=t[t.length-1];e&&e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-iJ(),0),o.entries=[e],n())},a=iQ("largest-contentful-paint",i);if(a){n=iz(t,o,af,e.reportAllChanges);var c=i1(function(){ap[o.id]||(i(a.takeRecords()),a.disconnect(),ap[o.id]=!0,n(!0))});["keydown","click"].forEach(function(t){addEventListener(t,function(){return setTimeout(c,0)},!0)}),i0(c),iY(function(r){n=iz(t,o=iZ("LCP"),af,e.reportAllChanges),i$(function(){o.value=performance.now()-r.timeStamp,ap[o.id]=!0,n(!0)})})}})},ad=[800,1800],av=function t(e){document.prerendering?i9(function(){return t(e)}):"complete"!==document.readyState?addEventListener("load",function(){return t(e)},!0):setTimeout(e,0)},a_=function(t,e){e=e||{};var n=iZ("TTFB"),r=iz(t,n,ad,e.reportAllChanges);av(function(){var o=iX();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-iJ(),0),n.entries=[o],r(!0),iY(function(){(r=iz(t,n=iZ("TTFB",0),ad,e.reportAllChanges))(!0)})}})};function am(t,e){return(am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ag=function(t,e){return function(n,r){e(n,r,t)}},ay=function(t){function e(e,n,r,o){var i;return(i=t.call(this,e,n,r,o)||this).cls=-1,i.init(),i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,am(e,t);var n=e.prototype;return n.init=function(){an(this.clsHandler.bind(this),{reportAllChanges:!0}),a_(this.webVitalHandler.bind(this)),at(this.webVitalHandler.bind(this)),ah(this.webVitalHandler.bind(this),{reportAllChanges:!0}),al(this.webVitalHandler.bind(this)),iB(this.baseHandler.bind(this)),iW(this.baseHandler.bind(this))},n.getResult=function(t){var e=Math.floor(oC()),n={ttns:e,cls:oD(this.cls),idx:this.getSessionIndex(),pep:oD(this.getPep())},r=["cls","idx","pep"];r.unshift(t);var o={metrics_type:r.join("|"),cls:n.cls,idx:n.idx,pep:n.pep};return o[t]=e,{action_event:t,perf:n,page_perf:o}},n.resetAfterReport=function(){},n.clsHandler=function(t){this.cls=t.value||-1},n.webVitalHandler=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e,n={taskName:window.ttq._pf_tn||"page_data_web_vital_handler",functionName:window.ttq._pf_tn&&"page_data_web_vital_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="page_data_web_vital_handler")}}catch(t){}var r=this.getResult(t.name.toLocaleLowerCase());r.perf&&(r.perf.ttns=(null==t?void 0:t.value)?Math.floor(t.value):-1),r.page_perf&&(r.page_perf[t.name.toLocaleLowerCase()]=null==(e=null==r?void 0:r.perf)?void 0:e.ttns),this.report(r),this.resetAfterReport();try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"page_data_web_vital_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},n.baseHandler=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var n,r={taskName:window.ttq._pf_tn||"page_data_base_handler",functionName:window.ttq._pf_tn&&"page_data_base_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="page_data_base_handler")}}catch(t){}var o=this.getResult(t);o.perf&&(o.perf.ttns=e?Math.floor(e):-1),o.page_perf&&(o.page_perf[t]=null==(n=o.perf)?void 0:n.ttns),this.report(o),this.resetAfterReport();try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"page_data_base_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},n.getSessionIndex=function(){var t,e=null==(t=this.context.getPageSign().pageIndex)?void 0:t.main;return null==e?-1:e},n.getCurrScrollPosition=function(){return document.documentElement.scrollTop||document.body.scrollTop},n.getViewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.getMaxHeight=function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},n.getPep=function(){return(this.getCurrScrollPosition()+this.getViewportHeight())/this.getMaxHeight()},e}(oM);ay=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([ag(0,F(m.CONTEXT)),ag(1,F(m.TTQ_REPORTERS)),ag(2,F(m.REPORT_SERVICE))],ay);var aE=[function(t){var e=t.clickTimes,n=t.scrollTimes;return e>=1||n>=1},function(t){return t.stayTime>1e3}];function aw(t,e){return(aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ab=function(t,e){return function(n,r){e(n,r,t)}},aO=function(t){function e(e,n,r,o){var i;return(i=t.call(this,{name:"PageData",reporters:n,context:e})||this).monitors=[],i.ttqOptions={},i.reportService=r,i.context=e,i.reporters=n,i.ttqOptions=o,i.isPluginInit=!1,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,aw(e,t);var n=e.prototype;return n.init=function(){var t=this.isPageInterEnabled(),e=this.isPagePerfEnabled();(t||e)&&(t&&this.initInteraction(),e&&this.initPerformance())},n.initInteraction=function(){this.interactionMonitor=new iV(this.context,this.reporters,this.reportService,tH(ig.PAGE_INTERACTION),aE),this.monitors.push(this.interactionMonitor)},n.initPerformance=function(){this.performanceMonitor=new ay(this.context,this.reporters,this.reportService,tH(ig.PAGE_PERFORMANCE)),this.monitors.push(this.performanceMonitor)},n.isPagePerfEnabled=function(){var t,e;return null==(e=null==(t=this.ttqOptions)?void 0:t.plugins)?void 0:e.PageData},n.isPageInterEnabled=function(){var t,e;return null==(e=null==(t=this.ttqOptions)?void 0:t.plugins)?void 0:e.PageData},n.report=function(t){var e=this.interactionMonitor.getResultOnPageLeave(t);void 0!==e&&(this.interactionMonitor.report(e),this.interactionMonitor.resetAfterReport())},n.pageWillLeave=function(t){this.report(iU.PAGE_LEAVE)},n.pixelDidMount=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"page_plugin_pixelDidMount",start:performance.now()}}catch(t){}this.isPluginInit||(this.init(),this.isPluginInit=!0);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},e}(eX);aO=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),ab(0,F(m.CONTEXT)),ab(1,F(m.TTQ_REPORTERS)),ab(2,F(m.REPORT_SERVICE)),ab(3,F(m.TTQ_GLOBAL_OPTIONS))],aO);var aI={initAllModule:1,webTtqFactory:2,handleCache:3,webReporterFactory:4,initAutoForm:5,auto_config_plugin_pixelDidMount:6,callback_plugin_pixelDidMount:7,console_plugin_pixelDidMount:8,event_builder_plugin_pixelDidMount:9,shopify_plugin_pixelDidMount:10,page_plugin_pixelDidMount:11,competitor_insight_plugin_init:12,getPixelInstalledPosition:13,getPixelScriptByPixelCode:14,resetExpires:15,freezeAPI:16,handlePixelRules:17,mergeWebGlobalTtq:18,handleGlobalCache:22,getPixelDetail:19,basettq_init_context_info:20,initAutoForm_getOverallFormDetail:21,web_track_handler:23,identify_api_handler:24,updateParameterInferenceData:25},aT={identify_api_handler:{id:1,fn:[]},identify_encryption:{id:2,fn:[]},identify_after_encryption:{id:3,fn:[]},track_api_handler:{id:4,fn:[]},track_after_reporter_init:{id:5,fn:[]},track_after_report_preposition:{id:6,fn:[]},init:{id:7,fn:[aI.initAllModule,aI.webTtqFactory,aI.handleCache,aI.webReporterFactory,aI.initAutoForm,aI.freezeAPI,aI.handlePixelRules,aI.resetExpires,aI.mergeWebGlobalTtq,aI.auto_config_plugin_pixelDidMount,aI.callback_plugin_pixelDidMount,aI.console_plugin_pixelDidMount,aI.event_builder_plugin_pixelDidMount,aI.shopify_plugin_pixelDidMount,aI.page_plugin_pixelDidMount,aI.competitor_insight_plugin_init,aI.getPixelInstalledPosition,aI.getPixelScriptByPixelCode,aI.handleGlobalCache,aI.basettq_init_context_info,aI.initAutoForm_getOverallFormDetail,aI.web_track_handler,aI.identify_api_handler,aI.updateParameterInferenceData]},page_api_handler:{id:8,fn:[]},auto_advanced_matching_handler:{id:9,fn:[]},auto_config_metadata_handler:{id:10,fn:[]},auto_config_click_handler:{id:11,fn:[]},auto_config_form_handler:{id:12,fn:[]},event_builder_dispatcher:{id:13,fn:[]},page_data_web_vital_handler:{id:14,fn:[]},page_data_base_handler:{id:15,fn:[]}},aR=function(){function t(){this.queue=[],this.currentTaskMap={}}var e=t.prototype;return e.handleCache=function(t){var e=this;t.forEach(function(t){e.push(t)})},e.push=function(t){var e=t.taskName,n=t.functionName,r=t.start,o=Math.round((t.end-r)*1e3),i=e&&this.getTaskIdFromName(e);if(i){var a=this.currentTaskMap[i];if(a||(this.currentTaskMap[i]=a={id:i,d:-1}),n){var c=this.getFunctionIdFromName(n);c&&(a.f=[].concat(a.f||[],[{id:c,d:o}]))}else a.d=o,this.queue.push(a),delete this.currentTaskMap[i]}},e.print=function(){return this.queue},e.printAndClear=function(){var t=this.print();return this.clear(),t},e.clear=function(){this.queue=[]},e.getTaskIdFromName=function(t){var e;return null==(e=aT[t])?void 0:e.id},e.getFunctionIdFromName=function(t){return aI[t]},t}();function aS(t,e){return(aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var aN=function(t,e){return function(n,r){e(n,r,t)}},aA=function(t){function e(e,n){var r;return(r=t.call(this,{name:"RuntimeMeasurement",reporters:n,context:e})||this).initialize=!1,r.init(),r}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,aS(e,t),e.prototype.init=function(){if(!this.initialize){this.performanceDataQueue=new aR;var t=(0,l.Ie)();t&&t._ppf&&(this.performanceDataQueue.handleCache(t._ppf),t._ppf=this.performanceDataQueue),this.initialize=!0}},e}(eX);aA=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),aN(0,F(m.CONTEXT)),aN(1,F(m.TTQ_REPORTERS))],aA),(t=r||(r={}))[t.OTHER=0]="OTHER",t[t.ANDROID=1]="ANDROID",t[t.IOS=2]="IOS";var aP=[s.O.LOAD_START,s.O.LOAD_END,s.O.INIT_START,s.O.INIT_END,s.O.JSB_INIT_START,s.O.JSB_INIT_END,s.O.AD_INFO_INIT_START,s.O.AD_INFO_INIT_END,s.O.IDENTIFY_INIT_START,s.O.IDENTIFY_INIT_END,s.O.PLUGIN_INIT_START,s.O.PLUGIN_INIT_END],aL=[s.O.BEFORE_INIT,s.O.INIT_START,s.O.INIT_END,s.O.HTTP_SEND,s.O.AD_INFO_INIT_END];function ax(t){try{if(!performance||!performance.timing)return -1;if(t)return Date.now()-t;return Date.now()-performance.timing.navigationStart}catch(t){}return -1}var aC=function(t,e){void 0===e&&(e="");try{var n=[],r=performance.getEntriesByType("resource");if(r&&Array.isArray(r)){var o=[RegExp("/i18n/pixel/events\\.js\\?sdkid="+t),RegExp("/i18n/pixel/sdk\\.js\\?sdkid="+t)];r.forEach(function(t){var e=t.name,r=t.duration;o.some(function(t){return t.test(e)})&&n.push({name:e,duration:r})});var i=document&&document.currentScript,a=i&&i.src;if(a||!a&&e){var c=r.find(function(t){return t.name.indexOf(a||e)>-1});c&&n.push({name:c.name,duration:c.duration})}}return n}catch(t){return[]}};function ak(){ak=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i,a,c,u,s=Object._ttq_create((e&&e.prototype instanceof p?e:p).prototype);return r(s,"_invoke",{value:(i=t,a=n,c=new O(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,f)}(n,c);if(r){if(r===f)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var _=Object.getPrototypeOf,m=_&&_(_(I([])));m&&m!==e&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object._ttq_create(v);function y(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;r(this,"_invoke",{value:function(r,i){function a(){return new e(function(o,a){!function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(r,i,o,a)})}return o=o?o.then(a,a):a()}})}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(g),t},t.awrap=function(t){return{__await:t}},y(E.prototype),u(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;b(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function aD(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function aM(t,e){return(aM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}(e=o||(o={}))[e.NOT_DETERMINED=0]="NOT_DETERMINED",e[e.RESTRICTED=1]="RESTRICTED",e[e.DENIED=2]="DENIED",e[e.AUTHORIZED=3]="AUTHORIZED";var aj=function(t){function e(e){var n,o=e.pixelDetails,i=e.context,a=e.reporters,c=e.reportService,u=e.httpService,s=e.env,l=e.ttqOptions;return(n=t.call(this,{name:"Monitor",reporters:a,context:i})||this).hasReportMap={},n.cachedData=[],n.contextInitEndStatus=!1,n.legacy=[],n.env=s,n.lib=o.lib,n.pixelCode=o.pixelCode,n.reportService=c,n.httpService=u,n.contextInitEndStatus=!1,n.platform=(0,f.Dt)()?r.ANDROID:(0,f.gn)()?r.IOS:r.OTHER,n.partner=l.partner||"",l.legacy&&(n.legacy=l.legacy),n.ttqOptions=l,n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,aM(e,t);var n,i,a=e.prototype;return a.reportSwitch=function(){return!this.reporters.some(function(t){var e;return(null==(e=t.options)?void 0:e.monitor)===!1})},a.recordReportLog=function(t){var e=t.pixel_code;this.hasReportMap[e]||(this.hasReportMap[e]=[]),this.hasReportMap[e].push(t)},n=ak().mark(function t(e,n){return ak().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpService.send(e,n);case 2:!t.sent&&this.httpService.sendByImage&&this.httpService.sendByImage(e,{log_message:ep(n)});case 4:case"end":return t.stop()}},t,this)}),i=function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function a(t){aD(i,r,o,a,c,"next",t)}function c(t){aD(i,r,o,a,c,"throw",t)}a(void 0)})},a.send=function(t,e){return i.apply(this,arguments)},a.sendByReportService=function(t){var e,n=(e=t.metric_name,aL.indexOf(e)>-1);this.reportService.report(tr,t,n?iE.defaultReport:iE.htmlHttpReport,n?iw.P0:iw.P1)},a.report=function(t,e){return(void 0===e&&(e=!1),this.recordReportLog(t),e)?void this.send(tr,t):this.contextInitEndStatus?void this.sendByReportService(t):void this.cachedData.push(t)},a.contextInitEnd=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"monitor_plogin_context_init_end",start:performance.now()}}catch(t){}for(this.contextInitEndStatus=!0;this.cachedData.length;){var e=this.cachedData.shift();e&&null!=e.metric_name&&this.sendByReportService(e)}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}},a.info=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n=!1),this.reportSwitch())try{var r=this.assemblyBaseData(t,e);if(this.isRepeatLog(r))return;this.report(r,n)}catch(t){}},a.error=function(t,e,n,r){if(void 0===n&&(n={}),void 0===r&&(r=!1),this.reportSwitch())try{var o=this.assemblyBaseData(t,n);if(Object.assign(o.ext_json||{},{message:e.message,stack:e.stack}),this.isRepeatLog(o))return;this.report(o,r)}catch(t){}},a.isRepeatLog=function(t){var e=t.pixel_code,n=t.metric_name;if(!e||!n)return!1;var r=aP.some(function(t){return n.indexOf(t)>-1}),o=this.hasReportMap[e],i=o&&o.some(function(t){return t.metric_name===n});return r&&i},a.getReportInfo=function(t){var e=this.reporters.find(function(e){return e.getReporterId()===t});if(e)return e.reporterInfo;var n=(0,l.Ie)()._i[t];if(n)return n.info},a.assemblyBaseData=function(t,e){var n=e||{},r=n.pixelCode,i=n.extJSON,a=n.custom_name,c=n.custom_enum,s=n.app_name,p=n.latency,h=(0,l.Ie)(),d=this.env,v=this.platform,_=this.context,m=this.reporters,g=_.getAllData(),y=g.libraryInfo,E=g.pageInfo,w=g.adInfo,b=g.pageSign,O=g.enableAdTracking,I=_.getVariationId(),T=_.getVids(),R=this.legacy||[],S=w&&w.log_extra&&function(t){try{return JSON.parse(t)}catch(t){return{}}}(w.log_extra)||{},N=m.map(function(t){return t.getReporterId()}),A=r||(0,u.wE)().pixelCode||this.pixelCode||this.reporters[0]&&this.reporters[0].getReporterId()||Object.keys(h._i)[0]||"",P=this.getReportInfo(A),L=R.length?R.includes(A)?"legacy-ttq":"ttq":this.lib,x=(0,l.kW)(A)||this.partner||"non",C=O?o.AUTHORIZED:o.DENIED,k={metric_name:t,pixel_code:A,platform:v,app_name:(void 0===s?"":s)||(void 0===d?"":d),net_type:function(){try{var t=navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection);return t?t.effectiveType:""}catch(t){}return""}(),placement:S.placement||"non",lib:{lib_version:y&&y.version||"",ttq_name:L},in_iframe:Number((0,f.Tm)()),time_to_last_start:-1,time_to_navigation_start:-1,latency:void 0===p?0:p,page_url:E&&E.url||V().url,att_status:C,pageview_id:this.context.getPageViewId()||"",session_id:b&&b.sessionId||"",variation_id:I,vids:T,load_id:P&&P.loadId||"",ad_id:String(w.ad_id),creative_id:String(w.creative_id||S.creative_id),user_agent:(0,l.ij)(),pixel_monitor_version:"v2",custom_name:a,custom_enum:c,partner:x,ext_json:{performance:[],pixel_list:N.toString(),ad_info_from:w.ad_info_from,pixel_api_conflict_flag:(0,u.dK)()}};return i&&Object.assign(k.ext_json,i),k},a.initStart=function(t){this.info(s.O.INIT_START,t)},a.initEnd=function(t){this.info(s.O.INIT_END,t)},a.jsbInitStart=function(){this.info(s.O.JSB_INIT_START)},a.jsbInitEnd=function(){this.info(s.O.JSB_INIT_END)},a.beforeAdInfoInitStart=function(t){this.info(s.O.BEFORE_AD_INFO_INIT_START,t)},a.adInfoInitStart=function(t){this.info(s.O.AD_INFO_INIT_START,t)},a.adInfoInitEnd=function(t){this.info(s.O.AD_INFO_INIT_END,t)},a.pluginInitStart=function(t){this.info(t+s.O.PLUGIN_INIT_START)},a.pluginInitEnd=function(t){this.info(t+s.O.PLUGIN_INIT_END)},e}(eX);function aU(t,e){return(aU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var aF=function(t,e){return function(n,r){e(n,r,t)}},aq=function(t){function e(e,n,r,o,i,a){var c,s=(0,u.wE)();return(c=t.call(this,{pixelDetails:s,context:e,reporters:n,reportService:r,httpService:o,env:i,ttqOptions:a})||this).statusTimeline={},c}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,aU(e,t);var n=e.prototype;return n.getDurationTime=function(t){try{var e,n=(e=t.match(/_(start|end)$/))&&e[1];if(!n)return 0;var r=t.split("_").slice(0,-1).join("_"),o=this.statusTimeline[r];switch(!o&&(this.statusTimeline[r]={},o=this.statusTimeline[r]),n){case"start":o.start=o.start||Date.now();break;case"end":if(!o.start)return -1;return o.end=o.end||Date.now(),o.end-o.start}}catch(t){}return 0},n.assemblyBaseData=function(e,n){var r=t.prototype.assemblyBaseData.call(this,e,n),o=r.pixel_code,i=r.latency,a=this.getReportInfo(o),c=a&&a.loadStart;return Object.assign(r,{time_to_last_start:c?ax(c):-1,time_to_navigation_start:ax(),latency:i=i||this.getDurationTime(e)}),[s.O.BEFORE_INIT,s.O.IDENTIFY_INIT_END].includes(e)&&(r.ext_json=r.ext_json||{},r.ext_json.performance=aC(o,e===s.O.IDENTIFY_INIT_END?"identify":"")),r},e}(aj);aq=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),aF(0,F(m.CONTEXT)),aF(1,F(m.TTQ_REPORTERS)),aF(2,F(m.REPORT_SERVICE)),aF(3,F(m.HTTP_SERVICE)),aF(4,F(m.ENV)),aF(5,F(m.TTQ_GLOBAL_OPTIONS))],aq);var aG=[].concat([{identifier:m.MONITOR_PLUGIN,to:aq,name:"Monitor",required:!1},{identifier:m.AUTO_CONFIG_PLUGIN,to:r3,name:"AutoConfig",required:!1},{identifier:m.DIAGNOSTICS_CONSOLE_PLUGIN,to:oE,name:"DiagnosticsConsole",required:!1},{identifier:m.RUNTIME_MEASUREMENT_PLUGIN,to:aA,name:"RuntimeMeasurement",required:!1}],[{identifier:m.CALLBACK_PLUGIN,to:eQ,name:"Callback"},{identifier:m.IDENTIFY_PLUGIN,to:na,name:"Identify",required:!0},{identifier:m.PANGLE_COOKIE_MATCHING_PLUGIN,to:oO,name:"PangleCookieMatching"},{identifier:m.EVENT_BUILDER_PLUGIN,to:oN,name:"EventBuilder"},{identifier:m.ENRICH_IPV6_PLUGIN,to:ox,name:"EnrichIpv6"},{identifier:m.PAGEDATA_PLUGIN,to:aO,name:"PageData"}]),aH=function(t,e){};function aV(t,e){return(aV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var aB=function(t){function e(e){var n;return(n=t.call(this,e)||this).observers=new Set([]),n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,aV(e,t);var n=e.prototype;return n.addObserver=function(t){this.observers.has(t)||this.observers.add(t)},n.removeObserver=function(t){this.observers.delete(t)},n.notifyObservers=function(t,e){this.observers.forEach(function(n){return n.call(e,t)})},e}(eK),aW="HistoryObserver";(i||(i={})).DYNAMIC_WEB_PAGEVIEW="dynamic_web_pageview";var aK=["GoogleTagManagerClient","GoogleTagManagerServer"];function aY(t,e){var n=history[t];return function(){var t=Array.prototype.slice.call(arguments);n.apply(history,t),e()}}function aX(t){var e=t.options,n=t.plugins;return e&&!1!==e.historyObserver&&n&&n[aW]}function aJ(t,e){var n=V().url,r=t.context.getPageInfo().url;if(n!==r){var o,a=t.context.setPageInfo(n,r);a&&a.pageIndex&&ty(a.pageIndex),t.reporters.filter((o=i.DYNAMIC_WEB_PAGEVIEW,function(t){var e=t.plugins;return!!(aX(t)&&e[aW]&&e[aW][o])})).forEach(function(t){setTimeout(function(){t.page(e)})})}}function aZ(t,e){return(aZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var aQ=function(t,e){return function(n,r){e(n,r,t)}},az=function(t){function e(e,n){var r;return(r=t.call(this,{name:aW,reporters:n,context:e})||this).enableListenSPAHistoryChange=!1,r.listenSPAHistoryChange=(0,p.IH)(function(){var t=function(){r.enableListenSPAHistoryChange&&r.notifyObservers({tf:iv.HISTORY_CHANGE})},e=(0,p.bJ)(t);window.addEventListener("popstate",e),history.pushState=aY("pushState",t),history.replaceState=aY("replaceState",t)}),r.dynamicWebPageviewHandler=aJ.bind(null,function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,aZ(e,t);var n=e.prototype;return n.initListener=function(t){this.enableListenSPAHistoryChange=function(t){if(!t)return!1;var e=(0,l.kW)(),n=t.getReporterPartner();return!(e&&!aK.includes(e)||n&&t.isPartnerReporter()&&!aK.includes(n))}(t),this.enableListenSPAHistoryChange&&this.listenSPAHistoryChange()},n.pixelSend=function(t,e){var n=this.reporters.find(function(e){return e.getReporterId()===t});n&&aX(n)&&(e&&"pageview"===e.toLowerCase()&&this.addObserver(this.dynamicWebPageviewHandler),this.initListener(n))},n.pageUrlWillChange=function(){if(this.enableListenSPAHistoryChange)return void this.notifyObservers({tf:iv.HISTORY_CHANGE});this.notifyObservers({tf:iv.URL_CHANGE,event_experiment:"pageview"})},e}(aB);function a$(t,e){return(a$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}az=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),aQ(0,F(m.CONTEXT)),aQ(1,F(m.TTQ_REPORTERS))],az);var a0=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this)._THROTTLE_INTERVAL=1e3,r}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,a$(e,t);var n=e.prototype;return n.setupListeners=function(){var t=this;try{if(this.currentConfig&&"window"===this.currentConfig.environment){var e=p.zh.join(", "),n=(0,tl.P2)(function(e){return t.handleEvent(e)},this._THROTTLE_INTERVAL);this.currentConfig.listenEventTypes.forEach(function(r){var o;(null==(o=t.currentConfig)?void 0:o.pluginVersion)==="v1"?document.querySelectorAll(e).forEach(function(t){p.P6.some(function(e){return t.matches(e)})||t.addEventListener("click",n,{capture:!0})}):(window.addEventListener(r,n,{capture:!0}),t.listeners.set(r,n))})}}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"ClickObserver",custom_enum:"setupListeners_error"})}},n.teardownListeners=function(){var t=this;this.listeners.forEach(function(e,n){t.currentConfig&&"window"===t.currentConfig.environment&&window.removeEventListener(n,e)}),this.listeners.clear()},n.handleEvent=function(t){try{this.sendEvent(t)}catch(t){t(s.O.CUSTOM_ERROR,t,{custom_name:"ClickObserver",custom_enum:"handleEvent_error"})}},n.getObserverType=function(){return"click"},e}(function(){function t(t,e){this.listeners=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map,this.eventEmitter=t,this.currentConfig=e,this.validateConfig(e)&&this.setupListeners()}var e=t.prototype;return e.updateConfig=function(t){var e;this.validateConfig(t)&&(this.currentConfig?(e=this.currentConfig.listenEventTypes).push.apply(e,t.listenEventTypes):this.currentConfig=t,this.setupListeners())},e.sendEvent=function(t){this.eventEmitter.emit(t.type,t)},e.validateConfig=function(t){return!!t&&!!t.emitterType&&!!t.listenEventTypes},t}());function a1(t,e){return(a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var a2=function(t,e){return function(n,r){e(n,r,t)}},a3=function(t){function e(e,n,r){var o;return(o=t.call(this,{name:"INTERACTION_OBSERVER",reporters:n,context:e})||this).observersMap=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map([]),o.eventEmitter=r,o.eventEmitter.on(ip.UPDATE_CONFIG,o.updateObserverConfig.bind(function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o)),{}),o}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,a1(e,t);var n=e.prototype;return n.registerObserver=function(t){var e;"click"===t&&(e=new a0(this.eventEmitter),this.observersMap.set(t,e))},n.unregisterObserver=function(t){var e=this.observersMap.get(t);e&&(e.teardownListeners(),this.observersMap.delete(t))},n.destroyAll=function(){this.observersMap.forEach(function(t){return t.teardownListeners()}),this.observersMap.clear()},n.updateObserverConfig=function(t){var e=this.observersMap.get(t.emitterType);e||(this.registerObserver(t.emitterType),e=this.observersMap.get(t.emitterType)),e&&e.updateConfig(t)},e}(aB);a3=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([U(),a2(0,F(m.CONTEXT)),a2(1,F(m.TTQ_REPORTERS)),a2(2,F(m.EVENT_EMITTER))],a3);var a6=[{identifier:m.HISTORY_OBSERVER,to:az,name:"HistoryObserver"},{identifier:m.INTERACTION_OBSERVER,to:a3,name:"InteractionObserver"}],a5=(0,l.Ie)(),a8=(null==a5?void 0:a5._container)||new j,a4=(null==a5?void 0:a5._container)?im.REBIND:im.BIND;(0,f.RA)();var a9=a8[a4](m.ENV),a7=a8[a4](g.M.SignalType);a8[a4](g.M.ID),a8[a4](g.M.Type),a8[a4](g.M.Options),a8[a4](g.M.Plugins),a8[a4](g.M.Rules),a8[a4](g.M.Info);var ct=a8[a4](g.M.WebLibraryInfo),ce=a8[a4](m.TTQ_GLOBAL_OPTIONS);try{if(!a8.get(m.TTQ_GLOBAL_OPTIONS))throw Error("")}catch(t){ce.toConstantValue({})}var cn=function(t,e){var n={name:"pixel.js",version:X.Jn,options:void 0},r=(0,f.b4)();ct.toConstantValue(n),a9.toConstantValue(e),a7.toConstantValue(r)},cr=function(t){(null==t?void 0:t._container)||(a8.bind(m.TTQ).to(et).inSingletonScope(),a8.bind(m.CONTEXT).to(ea).inSingletonScope(),a8.bind(m.REPORTER).to(t1),a8.bind(m.TTQ_REPORTERS).toConstantValue([]),a8.bind(m.REPORT_SERVICE).to(eI).inSingletonScope(),a8.bind(m.AD_SERVICE).to(eS).inSingletonScope(),a8.bind(m.APP_SERVICE).to(eP).inSingletonScope(),a8.bind(m.BRIDGE_SERVICE).to(eM).inSingletonScope(),a8.bind(m.HTTP_SERVICE).to(eF).inSingletonScope(),a8.bind(g.M.IsOnsitePage).toConstantValue({value:!1}),a8.bind(m.COOKIE_SERVICE).to(eH).inSingletonScope(),a8.bind(m.CONSENT_SERVICE).to(eW).inSingletonScope(),a8.bind(m.EVENT_EMITTER).to(tG).inSingletonScope()),t&&!t._container&&(t._container=a8)},co=function(){aG.forEach(function(t){var e=t.to,n=t.name,r=void 0===n?"":n,o=t.required,i=t.identifier;(void 0!==o&&o||(0,l.Wf)(r))&&!a8.isBound(i)&&a8.bind(i).to(e).inSingletonScope(),a5&&a5._mounted&&!a5.getPlugin(r)&&a8.isBound(i)&&a5.usePlugin(a8.get(i))})},ci=function(){a6.forEach(function(t){var e=t.to,n=t.name,r=t.identifier;(0,l.Wf)(void 0===n?"":n)&&!a8.isBound(r)&&a8.bind(r).to(e).inSingletonScope()})},ca=function(t,e,n){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"initAllModule",start:performance.now()}}catch(t){}cn(t,n),A(e,t),ci(),cr(t),co(),aH(e,t);try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}},cc=function(){try{var t=a8.get(m.MONITOR_PLUGIN);if(t)return t;return null}catch(t){return null}},cu=function(){try{a8.get(m.EVENT_EMITTER)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"emitterFactory"})}},cs=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},cl=function(t){return new this(function(e,n){if(!(t&&void 0!==t.length))return n(TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var o=r.length,i=0;i<r.length;i++)!function t(n,i){if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,function(e){t(n,e)},function(t){r[n]={status:"rejected",reason:t},0==--o&&e(r)})}r[n]={status:"fulfilled",value:i},0==--o&&e(r)}(i,r[i])})};function cf(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}cf.prototype=Error.prototype;var cp=function(t){var e=this;return new e(function(n,r){if(!(t&&void 0!==t.length))return r(TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return r();for(var i=[],a=0;a<o.length;a++)try{e.resolve(o[a]).then(n).catch(function(t){i.push(t),i.length===o.length&&r(new cf(i,"All promises were rejected"))})}catch(t){r(t)}})},ch=setTimeout;function cd(t){return!!(t&&void 0!==t.length)}function cv(){}function c_(t){if(!(this instanceof c_))throw TypeError("Promises must be constructed via new");if("function"!=typeof t)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],cb(t,this)}function cm(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,c_._immediateFn(function(){var n,r=1===t._state?e.onFulfilled:e.onRejected;if(null===r)return void(1===t._state?cg:cy)(e.promise,t._value);try{n=r(t._value)}catch(t){cy(e.promise,t);return}cg(e.promise,n)})}function cg(t,e){try{if(e===t)throw TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof c_){t._state=3,t._value=e,cE(t);return}if("function"==typeof n)return void cb(function(){n.apply(e,arguments)},t)}t._state=1,t._value=e,cE(t)}catch(e){cy(t,e)}}function cy(t,e){t._state=2,t._value=e,cE(t)}function cE(t){2===t._state&&0===t._deferreds.length&&c_._immediateFn(function(){t._handled||c_._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)cm(t,t._deferreds[e]);t._deferreds=null}function cw(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function cb(t,e){var n=!1;try{t(function(t){n||(n=!0,cg(e,t))},function(t){n||(n=!0,cy(e,t))})}catch(t){if(n)return;n=!0,cy(e,t)}}c_.prototype.catch=function(t){return this.then(null,t)},c_.prototype.then=function(t,e){var n=new this.constructor(cv);return cm(this,new cw(t,e,n)),n},c_.prototype.finally=cs,c_.all=function(t){return new c_(function(e,n){if(!cd(t))return n(TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var o=r.length,i=0;i<r.length;i++)!function t(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){t(i,e)},n)}r[i]=a,0==--o&&e(r)}catch(t){n(t)}}(i,r[i])})},c_.any=cp,c_.allSettled=cl,c_.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c_?t:new c_(function(e){e(t)})},c_.reject=function(t){return new c_(function(e,n){n(t)})},c_.race=function(t){return new c_(function(e,n){if(!cd(t))return n(TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)c_.resolve(t[r]).then(e,n)})},c_._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){ch(t,0)},c_._unhandledRejectionFn=function(t){};var cO=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("unable to locate global object")}();"function"!=typeof cO.Promise?cO.Promise=c_:(cO.Promise.prototype.finally||(cO.Promise.prototype.finally=cs),cO.Promise.allSettled||(cO.Promise.allSettled=cl),cO.Promise.any||(cO.Promise.any=cp));var cI=(0,l.Gp)();c=n(331).Z;try{!function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var t={taskName:window.ttq._pf_tn||"init",functionName:window.ttq._pf_tn&&"init",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="init")}}catch(t){}var e=(0,u.wE)().pixelCode,n=(0,l.Ie)(),r=(0,f.RA)(),o=(0,f.b4)();if(ca(n,a8,r),(0,l.Wf)("Monitor")){var i=cc();null==i||i.info(s.O.BEFORE_INIT,{pixelCode:e,extJSON:{stack:(0,p.xF)(e)}})}if(cu(),n){if(n._mounted){(0,u.um)(s.O.HANDLE_CACHE,{pixelCode:e}),L(a8,n);try{a8.get(g.M.ID)}catch(t){(0,u.vU)(s.O.CUSTOM_ERROR,t,{custom_name:"troubleshooting",custom_enum:"container_get_id_false"})}a8.get(m.TTQ).dispatch(ih.PATCH_END)}else a=T(a8,r,o),window[cI]=S(n,a),n.resetCookieExpires&&n.resetCookieExpires(),L(a8,a),P(a);var h=a8.get(g.M.IsOnsitePage);h.value=o===_.S.ONSITE||n.reporters.every(function(t){return t.isOnsite()}),a8.rebind(g.M.IsOnsitePage).toConstantValue(h);try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var d={taskName:window.ttq._pf_tn,functionName:"handlePixelRules",start:performance.now()}}catch(t){}n.reporters.forEach(function(t){var e;(null==(e=t.rules)?void 0:e.length)>0&&c&&new c(t.getReporterId(),t.rules)});try{window.ttq&&window.ttq._ppf&&(d.end=performance.now(),window.ttq._ppf.push(d))}catch(t){}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t),"init"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}}}()}catch(t){(0,u.vU)(s.O.INIT_ERROR,t)}}()}();